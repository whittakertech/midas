  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Update (1.3ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-10-15 17:21:20.999368' WHERE "ar_internal_metadata"."key" = 'environment'[0m
Migrating to CreateWtMidasCoins (20251015160523)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251015160523') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (21.9ms)[0m  [1m[35mDROP DATABASE IF EXISTS "ensemblize_development"[0m
  [1m[35m (19.9ms)[0m  [1m[35mCREATE DATABASE "ensemblize_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (12.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (2.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015160523)[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 17:21:34.181535', '2025-10-15 17:21:34.181537') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '52b56b1801a598f108c706af139e9d2eae6dcae6', '2025-10-15 17:21:34.184660', '2025-10-15 17:21:34.184660') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateTestOrders (20251015173602)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251015173602') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (20.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "ensemblize_development"[0m
  [1m[35m (18.9ms)[0m  [1m[35mCREATE DATABASE "ensemblize_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (12.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 17:42:58.841883', '2025-10-15 17:42:58.841884') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '34c9267bb838daf12dbcbc601c34f0c7a0531d8f', '2025-10-15 17:42:58.845594', '2025-10-15 17:42:58.845595') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateWtMidasCoins (20251015160523)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(8383267157300355600)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (22.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "ensemblize_development"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (41.3ms)[0m  [1m[35mCREATE DATABASE "ensemblize_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (3.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 17:45:09.972103', '2025-10-15 17:45:09.972106') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '34c9267bb838daf12dbcbc601c34f0c7a0531d8f', '2025-10-15 17:45:09.981746', '2025-10-15 17:45:09.981748') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(8383267157300355600)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (21.2ms)[0m  [1m[35mDROP DATABASE IF EXISTS "ensemblize_development"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (33.4ms)[0m  [1m[35mCREATE DATABASE "midas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (3.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 17:49:11.486781', '2025-10-15 17:49:11.486782') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '34c9267bb838daf12dbcbc601c34f0c7a0531d8f', '2025-10-15 17:49:11.493791', '2025-10-15 17:49:11.493792') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4443926073215608140)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4443926073215608140)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4443926073215608140)[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4443926073215608140)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE DATABASE "ensemblize_development" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (36.2ms)[0m  [1m[35mCREATE DATABASE "whittaker_tech_midas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (3.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 17:56:04.485025', '2025-10-15 17:56:04.485027') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '34c9267bb838daf12dbcbc601c34f0c7a0531d8f', '2025-10-15 17:56:04.491364', '2025-10-15 17:56:04.491366') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateWtMidasCoins (20251015175906)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateWtMidasCoins (20251015175906)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (21.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "whittaker_tech_midas_test"[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (37.2ms)[0m  [1m[35mCREATE DATABASE "whittaker_tech_midas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (2.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 18:01:37.579513', '2025-10-15 18:01:37.579514') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '34c9267bb838daf12dbcbc601c34f0c7a0531d8f', '2025-10-15 18:01:37.586014', '2025-10-15 18:01:37.586015') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateWtMidasCoins (20251015175906)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (22.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "whittaker_tech_midas_test"[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (27.2ms)[0m  [1m[35mCREATE DATABASE "whittaker_tech_midas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (13.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 18:03:28.529397', '2025-10-15 18:03:28.529414') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '34c9267bb838daf12dbcbc601c34f0c7a0531d8f', '2025-10-15 18:03:28.537192', '2025-10-15 18:03:28.537193') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateWtMidasCoins (20251015175906)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "pgcrypto"[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (5.7ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_auth_users" CASCADE[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "wt_auth_users" ("id" uuid DEFAULT gen_random_uuid() NOT NULL PRIMARY KEY, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp(6), "remember_created_at" timestamp(6), "confirmation_token" character varying, "confirmed_at" timestamp(6), "confirmation_sent_at" timestamp(6), "unconfirmed_email" character varying, "provider" character varying, "uid" character varying, "failed_attempts" integer DEFAULT 0 NOT NULL, "locked_at" timestamp(6), "unlock_token" character varying, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp(6), "last_sign_in_at" timestamp(6), "current_sign_in_ip" inet, "last_sign_in_ip" inet, "verified" boolean DEFAULT FALSE NOT NULL, "authenticatable_type" character varying, "authenticatable_id" uuid, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_wt_auth_users_on_authenticatable" ON "wt_auth_users" ("authenticatable_type", "authenticatable_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_confirmation_token" ON "wt_auth_users" ("confirmation_token")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_email" ON "wt_auth_users" ("email")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_provider_and_uid" ON "wt_auth_users" ("provider", "uid")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_reset_password_token" ON "wt_auth_users" ("reset_password_token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_wt_auth_users_on_unlock_token" ON "wt_auth_users" ("unlock_token")[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateWtMidasCoins (20251015160523)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
Migrating to CreateWtMidasCoins (20251015160523)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (20.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "whittaker_tech_midas_test"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (33.5ms)[0m  [1m[35mCREATE DATABASE "whittaker_tech_midas_test" ENCODING = 'unicode'[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 18:47:06.763833', '2025-10-15 18:47:06.763836') RETURNING "key"[0m
Migrating to CreateWtMidasCoins (20251015160523)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251015160523') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTestOrders (20251015173602)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20251015173602') RETURNING "version"[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public[0m
  [1m[35m (20.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "whittaker_tech_midas_test"[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE DATABASE "whittaker_tech_midas_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (13.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders" CASCADE[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins" CASCADE[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" bigserial primary key, "resource_type" character varying NOT NULL, "resource_id" bigint NOT NULL, "resource_label" character varying NOT NULL, "currency_code" character varying(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-10-15 18:47:48.803196', '2025-10-15 18:47:48.803197') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '004c309d61b8bba4cbea128734397de82d612f73', '2025-10-15 18:47:48.806521', '2025-10-15 18:47:48.806522') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (2.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (1.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (2.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:29:26.563740"], ["updated_at", "2025-10-15 19:29:26.563740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:29:26.568898"], ["updated_at", "2025-10-15 19:29:26.568898"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:34:28.709003"], ["updated_at", "2025-10-15 19:34:28.709003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 2], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:34:28.713663"], ["updated_at", "2025-10-15 19:34:28.713663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (2.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:34:28.744399"], ["updated_at", "2025-10-15 19:34:28.744399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 3], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:34:28.757400"], ["updated_at", "2025-10-15 19:34:28.757400"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:34:52.279548"], ["updated_at", "2025-10-15 19:34:52.279548"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 4], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:34:52.286633"], ["updated_at", "2025-10-15 19:34:52.286633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (2.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:34:52.306646"], ["updated_at", "2025-10-15 19:34:52.306646"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 5], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:34:52.323011"], ["updated_at", "2025-10-15 19:34:52.323011"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (2.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (2.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:34:52.347287"], ["updated_at", "2025-10-15 19:34:52.347287"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 6], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:34:52.359717"], ["updated_at", "2025-10-15 19:34:52.359717"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:34:52.369481"], ["updated_at", "2025-10-15 19:34:52.369481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (5.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 7], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:34:52.374558"], ["updated_at", "2025-10-15 19:34:52.374558"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:37:19.533765"], ["updated_at", "2025-10-15 19:37:19.533765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 8], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:37:19.539411"], ["updated_at", "2025-10-15 19:37:19.539411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:37:19.555533"], ["updated_at", "2025-10-15 19:37:19.555533"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (4.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 9], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:37:19.565855"], ["updated_at", "2025-10-15 19:37:19.565855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (3.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:37:19.587780"], ["updated_at", "2025-10-15 19:37:19.587780"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 10], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:37:19.600761"], ["updated_at", "2025-10-15 19:37:19.600761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:37:19.609243"], ["updated_at", "2025-10-15 19:37:19.609243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 11], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:37:19.613848"], ["updated_at", "2025-10-15 19:37:19.613848"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:37:19.635397"], ["updated_at", "2025-10-15 19:37:19.635397"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 12], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:37:19.638285"], ["updated_at", "2025-10-15 19:37:19.638285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.429392"], ["updated_at", "2025-10-15 19:43:40.429392"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 13], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:43:40.436089"], ["updated_at", "2025-10-15 19:43:40.436089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.454741"], ["updated_at", "2025-10-15 19:43:40.454741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 14], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:43:40.467482"], ["updated_at", "2025-10-15 19:43:40.467482"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.492217"], ["updated_at", "2025-10-15 19:43:40.492217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 15], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:43:40.502409"], ["updated_at", "2025-10-15 19:43:40.502409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.510363"], ["updated_at", "2025-10-15 19:43:40.510363"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 16], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:43:40.513138"], ["updated_at", "2025-10-15 19:43:40.513138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.528178"], ["updated_at", "2025-10-15 19:43:40.528178"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 17], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:43:40.531305"], ["updated_at", "2025-10-15 19:43:40.531305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.550334"], ["updated_at", "2025-10-15 19:43:40.550334"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 18], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:43:40.552551"], ["updated_at", "2025-10-15 19:43:40.552551"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.555387"], ["updated_at", "2025-10-15 19:43:40.555387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 19], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:43:40.556572"], ["updated_at", "2025-10-15 19:43:40.556572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:43:40.561820"], ["updated_at", "2025-10-15 19:43:40.561820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 20], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:43:40.568645"], ["updated_at", "2025-10-15 19:43:40.568645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.732249"], ["updated_at", "2025-10-15 19:47:43.732249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 21], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:47:43.737620"], ["updated_at", "2025-10-15 19:47:43.737620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.752949"], ["updated_at", "2025-10-15 19:47:43.752949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 22], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:47:43.762717"], ["updated_at", "2025-10-15 19:47:43.762717"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.785768"], ["updated_at", "2025-10-15 19:47:43.785768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 23], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:47:43.795649"], ["updated_at", "2025-10-15 19:47:43.795649"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.802812"], ["updated_at", "2025-10-15 19:47:43.802812"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.9ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 24], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:47:43.805604"], ["updated_at", "2025-10-15 19:47:43.805604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.819405"], ["updated_at", "2025-10-15 19:47:43.819405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 25], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:47:43.822301"], ["updated_at", "2025-10-15 19:47:43.822301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.840734"], ["updated_at", "2025-10-15 19:47:43.840734"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 26], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:47:43.842949"], ["updated_at", "2025-10-15 19:47:43.842949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.846251"], ["updated_at", "2025-10-15 19:47:43.846251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 27], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:47:43.847588"], ["updated_at", "2025-10-15 19:47:43.847588"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:47:43.852354"], ["updated_at", "2025-10-15 19:47:43.852354"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 28], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:47:43.858729"], ["updated_at", "2025-10-15 19:47:43.858729"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.011566"], ["updated_at", "2025-10-15 19:50:40.011566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 29], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:50:40.017174"], ["updated_at", "2025-10-15 19:50:40.017174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.033917"], ["updated_at", "2025-10-15 19:50:40.033917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 30], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:50:40.045304"], ["updated_at", "2025-10-15 19:50:40.045304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.063942"], ["updated_at", "2025-10-15 19:50:40.063942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 31], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:50:40.072070"], ["updated_at", "2025-10-15 19:50:40.072070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.078301"], ["updated_at", "2025-10-15 19:50:40.078301"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 32], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:50:40.080527"], ["updated_at", "2025-10-15 19:50:40.080527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.091725"], ["updated_at", "2025-10-15 19:50:40.091725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 33], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:50:40.094304"], ["updated_at", "2025-10-15 19:50:40.094304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.110825"], ["updated_at", "2025-10-15 19:50:40.110825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 34], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:50:40.112879"], ["updated_at", "2025-10-15 19:50:40.112879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.115412"], ["updated_at", "2025-10-15 19:50:40.115412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 35], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:50:40.116584"], ["updated_at", "2025-10-15 19:50:40.116584"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.120778"], ["updated_at", "2025-10-15 19:50:40.120778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 36], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:50:40.126555"], ["updated_at", "2025-10-15 19:50:40.126555"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.150387"], ["updated_at", "2025-10-15 19:50:40.150387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 37], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:50:40.153463"], ["updated_at", "2025-10-15 19:50:40.153463"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.169827"], ["updated_at", "2025-10-15 19:50:40.169827"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 38], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:50:40.171621"], ["updated_at", "2025-10-15 19:50:40.171621"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.178200"], ["updated_at", "2025-10-15 19:50:40.178200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 39], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:50:40.179573"], ["updated_at", "2025-10-15 19:50:40.179573"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.185981"], ["updated_at", "2025-10-15 19:50:40.185981"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 40], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:50:40.187003"], ["updated_at", "2025-10-15 19:50:40.187003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.189523"], ["updated_at", "2025-10-15 19:50:40.189523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 41], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:50:40.190354"], ["updated_at", "2025-10-15 19:50:40.190354"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:50:40.193075"], ["updated_at", "2025-10-15 19:50:40.193075"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 42], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:50:40.193949"], ["updated_at", "2025-10-15 19:50:40.193949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.6ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 19:50:40.194728"], ["id", 42]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.419692"], ["updated_at", "2025-10-15 19:53:39.419692"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 43], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:53:39.424601"], ["updated_at", "2025-10-15 19:53:39.424601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.439758"], ["updated_at", "2025-10-15 19:53:39.439758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 44], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:53:39.448144"], ["updated_at", "2025-10-15 19:53:39.448144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.465211"], ["updated_at", "2025-10-15 19:53:39.465211"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 45], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:53:39.476016"], ["updated_at", "2025-10-15 19:53:39.476016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.482478"], ["updated_at", "2025-10-15 19:53:39.482478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 46], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:53:39.484804"], ["updated_at", "2025-10-15 19:53:39.484804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.495082"], ["updated_at", "2025-10-15 19:53:39.495082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 47], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:53:39.497436"], ["updated_at", "2025-10-15 19:53:39.497436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.516044"], ["updated_at", "2025-10-15 19:53:39.516044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 48], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:53:39.518452"], ["updated_at", "2025-10-15 19:53:39.518452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.520830"], ["updated_at", "2025-10-15 19:53:39.520830"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 49], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:53:39.522260"], ["updated_at", "2025-10-15 19:53:39.522260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.527070"], ["updated_at", "2025-10-15 19:53:39.527070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 50], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:53:39.532542"], ["updated_at", "2025-10-15 19:53:39.532542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.554579"], ["updated_at", "2025-10-15 19:53:39.554579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 51], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:53:39.556984"], ["updated_at", "2025-10-15 19:53:39.556984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.567306"], ["updated_at", "2025-10-15 19:53:39.567306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 52], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:53:39.569289"], ["updated_at", "2025-10-15 19:53:39.569289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.576158"], ["updated_at", "2025-10-15 19:53:39.576158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 53], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:53:39.577381"], ["updated_at", "2025-10-15 19:53:39.577381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.583036"], ["updated_at", "2025-10-15 19:53:39.583036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 54], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:53:39.584629"], ["updated_at", "2025-10-15 19:53:39.584629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.587003"], ["updated_at", "2025-10-15 19:53:39.587003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 55], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:53:39.588118"], ["updated_at", "2025-10-15 19:53:39.588118"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.592073"], ["updated_at", "2025-10-15 19:53:39.592073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 56], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:53:39.592887"], ["updated_at", "2025-10-15 19:53:39.592887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.596339"], ["updated_at", "2025-10-15 19:53:39.596339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 57], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:53:39.600146"], ["updated_at", "2025-10-15 19:53:39.600146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.8ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 19:53:39.609309"], ["id", 57]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.637791"], ["updated_at", "2025-10-15 19:53:39.637791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 58], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 19:53:39.640166"], ["updated_at", "2025-10-15 19:53:39.640166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.644526"], ["updated_at", "2025-10-15 19:53:39.644526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 59], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 19:53:39.645457"], ["updated_at", "2025-10-15 19:53:39.645457"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:53:39.648933"], ["updated_at", "2025-10-15 19:53:39.648933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 60], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 19:53:39.649889"], ["updated_at", "2025-10-15 19:53:39.649889"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.565537"], ["updated_at", "2025-10-15 19:54:50.565537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 61], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:54:50.570437"], ["updated_at", "2025-10-15 19:54:50.570437"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.585653"], ["updated_at", "2025-10-15 19:54:50.585653"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 62], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:54:50.594139"], ["updated_at", "2025-10-15 19:54:50.594139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.613854"], ["updated_at", "2025-10-15 19:54:50.613854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 63], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:54:50.624614"], ["updated_at", "2025-10-15 19:54:50.624614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.631736"], ["updated_at", "2025-10-15 19:54:50.631736"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 64], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:54:50.634653"], ["updated_at", "2025-10-15 19:54:50.634653"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.649992"], ["updated_at", "2025-10-15 19:54:50.649992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 65], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:54:50.653005"], ["updated_at", "2025-10-15 19:54:50.653005"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.673831"], ["updated_at", "2025-10-15 19:54:50.673831"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 66], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:54:50.676114"], ["updated_at", "2025-10-15 19:54:50.676114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.678893"], ["updated_at", "2025-10-15 19:54:50.678893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 67], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:54:50.680126"], ["updated_at", "2025-10-15 19:54:50.680126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.684853"], ["updated_at", "2025-10-15 19:54:50.684853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 68], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:54:50.690672"], ["updated_at", "2025-10-15 19:54:50.690672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.711254"], ["updated_at", "2025-10-15 19:54:50.711254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 69], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:54:50.713959"], ["updated_at", "2025-10-15 19:54:50.713959"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.722147"], ["updated_at", "2025-10-15 19:54:50.722147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 70], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:54:50.723610"], ["updated_at", "2025-10-15 19:54:50.723610"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.730294"], ["updated_at", "2025-10-15 19:54:50.730294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 71], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:54:50.731077"], ["updated_at", "2025-10-15 19:54:50.731077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.735466"], ["updated_at", "2025-10-15 19:54:50.735466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 72], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:54:50.736839"], ["updated_at", "2025-10-15 19:54:50.736839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.738883"], ["updated_at", "2025-10-15 19:54:50.738883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 73], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:54:50.739918"], ["updated_at", "2025-10-15 19:54:50.739918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.743878"], ["updated_at", "2025-10-15 19:54:50.743878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 74], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:54:50.744789"], ["updated_at", "2025-10-15 19:54:50.744789"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.748222"], ["updated_at", "2025-10-15 19:54:50.748222"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 75], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:54:50.751899"], ["updated_at", "2025-10-15 19:54:50.751899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.6ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 19:54:50.761099"], ["id", 75]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.783026"], ["updated_at", "2025-10-15 19:54:50.783026"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 76], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 19:54:50.785684"], ["updated_at", "2025-10-15 19:54:50.785684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.790450"], ["updated_at", "2025-10-15 19:54:50.790450"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 77], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 19:54:50.791548"], ["updated_at", "2025-10-15 19:54:50.791548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:54:50.794454"], ["updated_at", "2025-10-15 19:54:50.794454"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 78], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 19:54:50.795158"], ["updated_at", "2025-10-15 19:54:50.795158"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.730819"], ["updated_at", "2025-10-15 19:58:09.730819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 79], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:58:09.735615"], ["updated_at", "2025-10-15 19:58:09.735615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.753595"], ["updated_at", "2025-10-15 19:58:09.753595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 80], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:58:09.762644"], ["updated_at", "2025-10-15 19:58:09.762644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.780478"], ["updated_at", "2025-10-15 19:58:09.780478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 81], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:58:09.790114"], ["updated_at", "2025-10-15 19:58:09.790114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.796576"], ["updated_at", "2025-10-15 19:58:09.796576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 82], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:58:09.799056"], ["updated_at", "2025-10-15 19:58:09.799056"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.809328"], ["updated_at", "2025-10-15 19:58:09.809328"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 83], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:58:09.812312"], ["updated_at", "2025-10-15 19:58:09.812312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.828142"], ["updated_at", "2025-10-15 19:58:09.828142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 84], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:58:09.830149"], ["updated_at", "2025-10-15 19:58:09.830149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.832530"], ["updated_at", "2025-10-15 19:58:09.832530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 85], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:58:09.833547"], ["updated_at", "2025-10-15 19:58:09.833547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.838251"], ["updated_at", "2025-10-15 19:58:09.838251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 86], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:58:09.843886"], ["updated_at", "2025-10-15 19:58:09.843886"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.865406"], ["updated_at", "2025-10-15 19:58:09.865406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 87], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:58:09.867635"], ["updated_at", "2025-10-15 19:58:09.867635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.876593"], ["updated_at", "2025-10-15 19:58:09.876593"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 88], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:58:09.878251"], ["updated_at", "2025-10-15 19:58:09.878251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.884955"], ["updated_at", "2025-10-15 19:58:09.884955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 89], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:58:09.885772"], ["updated_at", "2025-10-15 19:58:09.885772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.889120"], ["updated_at", "2025-10-15 19:58:09.889120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 90], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:58:09.890105"], ["updated_at", "2025-10-15 19:58:09.890105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.891953"], ["updated_at", "2025-10-15 19:58:09.891953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 91], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:58:09.892906"], ["updated_at", "2025-10-15 19:58:09.892906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.896102"], ["updated_at", "2025-10-15 19:58:09.896102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 92], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:58:09.896691"], ["updated_at", "2025-10-15 19:58:09.896691"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.899945"], ["updated_at", "2025-10-15 19:58:09.899945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 93], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:58:09.903468"], ["updated_at", "2025-10-15 19:58:09.903468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (1.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 19:58:09.911355"], ["id", 93]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.937069"], ["updated_at", "2025-10-15 19:58:09.937069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 94], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 19:58:09.939872"], ["updated_at", "2025-10-15 19:58:09.939872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.991798"], ["updated_at", "2025-10-15 19:58:09.991798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 95], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 19:58:09.992973"], ["updated_at", "2025-10-15 19:58:09.992973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:58:09.996184"], ["updated_at", "2025-10-15 19:58:09.996184"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 96], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 19:58:09.997139"], ["updated_at", "2025-10-15 19:58:09.997139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.834479"], ["updated_at", "2025-10-15 19:59:04.834479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 97], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:59:04.839292"], ["updated_at", "2025-10-15 19:59:04.839292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.854148"], ["updated_at", "2025-10-15 19:59:04.854148"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 98], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:59:04.866844"], ["updated_at", "2025-10-15 19:59:04.866844"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.887220"], ["updated_at", "2025-10-15 19:59:04.887220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 99], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:59:04.897890"], ["updated_at", "2025-10-15 19:59:04.897890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.905980"], ["updated_at", "2025-10-15 19:59:04.905980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 100], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:59:04.908942"], ["updated_at", "2025-10-15 19:59:04.908942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.919810"], ["updated_at", "2025-10-15 19:59:04.919810"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 101], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:59:04.922350"], ["updated_at", "2025-10-15 19:59:04.922350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.938973"], ["updated_at", "2025-10-15 19:59:04.938973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 102], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:59:04.941146"], ["updated_at", "2025-10-15 19:59:04.941146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.943820"], ["updated_at", "2025-10-15 19:59:04.943820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 103], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:59:04.944870"], ["updated_at", "2025-10-15 19:59:04.944870"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.948819"], ["updated_at", "2025-10-15 19:59:04.948819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 104], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:59:04.954845"], ["updated_at", "2025-10-15 19:59:04.954845"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.974874"], ["updated_at", "2025-10-15 19:59:04.974874"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 105], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:59:04.977302"], ["updated_at", "2025-10-15 19:59:04.977302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.985812"], ["updated_at", "2025-10-15 19:59:04.985812"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 106], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 19:59:04.987477"], ["updated_at", "2025-10-15 19:59:04.987477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.993973"], ["updated_at", "2025-10-15 19:59:04.993973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 107], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:59:04.994838"], ["updated_at", "2025-10-15 19:59:04.994838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:04.998322"], ["updated_at", "2025-10-15 19:59:04.998322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 108], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:59:04.999368"], ["updated_at", "2025-10-15 19:59:04.999368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:05.001462"], ["updated_at", "2025-10-15 19:59:05.001462"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 109], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 19:59:05.002604"], ["updated_at", "2025-10-15 19:59:05.002604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:05.005819"], ["updated_at", "2025-10-15 19:59:05.005819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 110], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:59:05.006441"], ["updated_at", "2025-10-15 19:59:05.006441"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:05.009720"], ["updated_at", "2025-10-15 19:59:05.009720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 111], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 19:59:05.013100"], ["updated_at", "2025-10-15 19:59:05.013100"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.5ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 19:59:05.021748"], ["id", 111]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:05.043393"], ["updated_at", "2025-10-15 19:59:05.043393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 112], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 19:59:05.045496"], ["updated_at", "2025-10-15 19:59:05.045496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:05.048872"], ["updated_at", "2025-10-15 19:59:05.048872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 113], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 19:59:05.049474"], ["updated_at", "2025-10-15 19:59:05.049474"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 19:59:05.052047"], ["updated_at", "2025-10-15 19:59:05.052047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 114], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 19:59:05.052653"], ["updated_at", "2025-10-15 19:59:05.052653"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.134945"], ["updated_at", "2025-10-15 20:00:34.134945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 115], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:00:34.140153"], ["updated_at", "2025-10-15 20:00:34.140153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.158515"], ["updated_at", "2025-10-15 20:00:34.158515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 116], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:00:34.166888"], ["updated_at", "2025-10-15 20:00:34.166888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.184175"], ["updated_at", "2025-10-15 20:00:34.184175"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 117], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:00:34.192199"], ["updated_at", "2025-10-15 20:00:34.192199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.198035"], ["updated_at", "2025-10-15 20:00:34.198035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 118], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:00:34.200315"], ["updated_at", "2025-10-15 20:00:34.200315"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.210457"], ["updated_at", "2025-10-15 20:00:34.210457"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 119], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:00:34.212804"], ["updated_at", "2025-10-15 20:00:34.212804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.231116"], ["updated_at", "2025-10-15 20:00:34.231116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 120], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:00:34.233042"], ["updated_at", "2025-10-15 20:00:34.233042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.235562"], ["updated_at", "2025-10-15 20:00:34.235562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 121], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:00:34.236691"], ["updated_at", "2025-10-15 20:00:34.236691"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.241057"], ["updated_at", "2025-10-15 20:00:34.241057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 122], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:00:34.247324"], ["updated_at", "2025-10-15 20:00:34.247324"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.268376"], ["updated_at", "2025-10-15 20:00:34.268376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 123], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:00:34.270858"], ["updated_at", "2025-10-15 20:00:34.270858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.280025"], ["updated_at", "2025-10-15 20:00:34.280025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 124], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:00:34.281606"], ["updated_at", "2025-10-15 20:00:34.281606"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.289163"], ["updated_at", "2025-10-15 20:00:34.289163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 125], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:00:34.290113"], ["updated_at", "2025-10-15 20:00:34.290113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.294202"], ["updated_at", "2025-10-15 20:00:34.294202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 126], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:00:34.295538"], ["updated_at", "2025-10-15 20:00:34.295538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.297596"], ["updated_at", "2025-10-15 20:00:34.297596"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 127], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:00:34.298869"], ["updated_at", "2025-10-15 20:00:34.298869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.302448"], ["updated_at", "2025-10-15 20:00:34.302448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 128], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:00:34.303228"], ["updated_at", "2025-10-15 20:00:34.303228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.306465"], ["updated_at", "2025-10-15 20:00:34.306465"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 129], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:00:34.310097"], ["updated_at", "2025-10-15 20:00:34.310097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.7ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:00:34.318027"], ["id", 129]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.340695"], ["updated_at", "2025-10-15 20:00:34.340695"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 130], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:00:34.343191"], ["updated_at", "2025-10-15 20:00:34.343191"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.347048"], ["updated_at", "2025-10-15 20:00:34.347048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 131], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:00:34.347876"], ["updated_at", "2025-10-15 20:00:34.347876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:00:34.350726"], ["updated_at", "2025-10-15 20:00:34.350726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 132], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:00:34.351562"], ["updated_at", "2025-10-15 20:00:34.351562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.126053"], ["updated_at", "2025-10-15 20:16:08.126053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 133], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:16:08.130879"], ["updated_at", "2025-10-15 20:16:08.130879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.146300"], ["updated_at", "2025-10-15 20:16:08.146300"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 134], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:16:08.156574"], ["updated_at", "2025-10-15 20:16:08.156574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.174258"], ["updated_at", "2025-10-15 20:16:08.174258"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 135], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:16:08.183434"], ["updated_at", "2025-10-15 20:16:08.183434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.191401"], ["updated_at", "2025-10-15 20:16:08.191401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 136], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:16:08.193941"], ["updated_at", "2025-10-15 20:16:08.193941"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.205119"], ["updated_at", "2025-10-15 20:16:08.205119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 137], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:16:08.207988"], ["updated_at", "2025-10-15 20:16:08.207988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.224603"], ["updated_at", "2025-10-15 20:16:08.224603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 138], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:16:08.226658"], ["updated_at", "2025-10-15 20:16:08.226658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.229249"], ["updated_at", "2025-10-15 20:16:08.229249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 139], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:16:08.230538"], ["updated_at", "2025-10-15 20:16:08.230538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.236259"], ["updated_at", "2025-10-15 20:16:08.236259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 140], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:16:08.242205"], ["updated_at", "2025-10-15 20:16:08.242205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.263265"], ["updated_at", "2025-10-15 20:16:08.263265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 141], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:16:08.265449"], ["updated_at", "2025-10-15 20:16:08.265449"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.274541"], ["updated_at", "2025-10-15 20:16:08.274541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 142], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:16:08.276179"], ["updated_at", "2025-10-15 20:16:08.276179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.283210"], ["updated_at", "2025-10-15 20:16:08.283210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 143], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:16:08.284081"], ["updated_at", "2025-10-15 20:16:08.284081"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.287925"], ["updated_at", "2025-10-15 20:16:08.287925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 144], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:16:08.288861"], ["updated_at", "2025-10-15 20:16:08.288861"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.290609"], ["updated_at", "2025-10-15 20:16:08.290609"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 145], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:16:08.291559"], ["updated_at", "2025-10-15 20:16:08.291559"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.295607"], ["updated_at", "2025-10-15 20:16:08.295607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 146], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:16:08.296451"], ["updated_at", "2025-10-15 20:16:08.296451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.300073"], ["updated_at", "2025-10-15 20:16:08.300073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 147], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:16:08.305172"], ["updated_at", "2025-10-15 20:16:08.305172"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.5ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:16:08.313647"], ["id", 147]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.333518"], ["updated_at", "2025-10-15 20:16:08.333518"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 148], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:16:08.334843"], ["updated_at", "2025-10-15 20:16:08.334843"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.336639"], ["updated_at", "2025-10-15 20:16:08.336639"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 149], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:16:08.337237"], ["updated_at", "2025-10-15 20:16:08.337237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:16:08.339002"], ["updated_at", "2025-10-15 20:16:08.339002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 150], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:16:08.339569"], ["updated_at", "2025-10-15 20:16:08.339569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.886393"], ["updated_at", "2025-10-15 20:17:11.886393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 151], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:17:11.889580"], ["updated_at", "2025-10-15 20:17:11.889580"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.894008"], ["updated_at", "2025-10-15 20:17:11.894008"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 152], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:17:11.896298"], ["updated_at", "2025-10-15 20:17:11.896298"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.908022"], ["updated_at", "2025-10-15 20:17:11.908022"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 153], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:17:11.909682"], ["updated_at", "2025-10-15 20:17:11.909682"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.913613"], ["updated_at", "2025-10-15 20:17:11.913613"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 154], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:17:11.915437"], ["updated_at", "2025-10-15 20:17:11.915437"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.921219"], ["updated_at", "2025-10-15 20:17:11.921219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 155], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:17:11.922125"], ["updated_at", "2025-10-15 20:17:11.922125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.929186"], ["updated_at", "2025-10-15 20:17:11.929186"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 156], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:17:11.932091"], ["updated_at", "2025-10-15 20:17:11.932091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.941504"], ["updated_at", "2025-10-15 20:17:11.941504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 157], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:17:11.943913"], ["updated_at", "2025-10-15 20:17:11.943913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.948041"], ["updated_at", "2025-10-15 20:17:11.948041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 158], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:17:11.949364"], ["updated_at", "2025-10-15 20:17:11.949364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.962698"], ["updated_at", "2025-10-15 20:17:11.962698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 159], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:17:11.965337"], ["updated_at", "2025-10-15 20:17:11.965337"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.968139"], ["updated_at", "2025-10-15 20:17:11.968139"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 160], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:17:11.973721"], ["updated_at", "2025-10-15 20:17:11.973721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.978996"], ["updated_at", "2025-10-15 20:17:11.978996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 161], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:17:11.982902"], ["updated_at", "2025-10-15 20:17:11.982902"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.987298"], ["updated_at", "2025-10-15 20:17:11.987298"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 162], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:17:11.990407"], ["updated_at", "2025-10-15 20:17:11.990407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:11.996195"], ["updated_at", "2025-10-15 20:17:11.996195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 163], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:17:11.996949"], ["updated_at", "2025-10-15 20:17:11.996949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:12.000145"], ["updated_at", "2025-10-15 20:17:12.000145"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 164], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:17:12.002330"], ["updated_at", "2025-10-15 20:17:12.002330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:12.008366"], ["updated_at", "2025-10-15 20:17:12.008366"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 165], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:17:12.009752"], ["updated_at", "2025-10-15 20:17:12.009752"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.5ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:17:12.011711"], ["id", 165]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:12.040154"], ["updated_at", "2025-10-15 20:17:12.040154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 166], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:17:12.041480"], ["updated_at", "2025-10-15 20:17:12.041480"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:12.044390"], ["updated_at", "2025-10-15 20:17:12.044390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 167], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:17:12.045050"], ["updated_at", "2025-10-15 20:17:12.045050"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:17:12.047545"], ["updated_at", "2025-10-15 20:17:12.047545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 168], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:17:12.048451"], ["updated_at", "2025-10-15 20:17:12.048451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.306638"], ["updated_at", "2025-10-15 20:18:08.306638"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 169], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:08.311684"], ["updated_at", "2025-10-15 20:18:08.311684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.326842"], ["updated_at", "2025-10-15 20:18:08.326842"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 170], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:08.336661"], ["updated_at", "2025-10-15 20:18:08.336661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.356173"], ["updated_at", "2025-10-15 20:18:08.356173"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 171], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:08.363991"], ["updated_at", "2025-10-15 20:18:08.363991"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.370367"], ["updated_at", "2025-10-15 20:18:08.370367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 172], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:08.372743"], ["updated_at", "2025-10-15 20:18:08.372743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.385853"], ["updated_at", "2025-10-15 20:18:08.385853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 173], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:08.388453"], ["updated_at", "2025-10-15 20:18:08.388453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.404561"], ["updated_at", "2025-10-15 20:18:08.404561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 174], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:08.406468"], ["updated_at", "2025-10-15 20:18:08.406468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.408890"], ["updated_at", "2025-10-15 20:18:08.408890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 175], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:08.409932"], ["updated_at", "2025-10-15 20:18:08.409932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.414939"], ["updated_at", "2025-10-15 20:18:08.414939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 176], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:08.420992"], ["updated_at", "2025-10-15 20:18:08.420992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.441887"], ["updated_at", "2025-10-15 20:18:08.441887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 177], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:18:08.444258"], ["updated_at", "2025-10-15 20:18:08.444258"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.453913"], ["updated_at", "2025-10-15 20:18:08.453913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 178], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:18:08.455956"], ["updated_at", "2025-10-15 20:18:08.455956"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.463950"], ["updated_at", "2025-10-15 20:18:08.463950"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 179], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:08.465108"], ["updated_at", "2025-10-15 20:18:08.465108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.469880"], ["updated_at", "2025-10-15 20:18:08.469880"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 180], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:08.471037"], ["updated_at", "2025-10-15 20:18:08.471037"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.473171"], ["updated_at", "2025-10-15 20:18:08.473171"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 181], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:08.474336"], ["updated_at", "2025-10-15 20:18:08.474336"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.478986"], ["updated_at", "2025-10-15 20:18:08.478986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 182], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:08.480194"], ["updated_at", "2025-10-15 20:18:08.480194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.484489"], ["updated_at", "2025-10-15 20:18:08.484489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 183], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:08.488529"], ["updated_at", "2025-10-15 20:18:08.488529"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.7ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:18:08.498867"], ["id", 183]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (2.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.522779"], ["updated_at", "2025-10-15 20:18:08.522779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 184], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:18:08.524117"], ["updated_at", "2025-10-15 20:18:08.524117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.527407"], ["updated_at", "2025-10-15 20:18:08.527407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 185], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:18:08.528371"], ["updated_at", "2025-10-15 20:18:08.528371"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:08.530739"], ["updated_at", "2025-10-15 20:18:08.530739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 186], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:18:08.531739"], ["updated_at", "2025-10-15 20:18:08.531739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.404536"], ["updated_at", "2025-10-15 20:18:36.404536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 187], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:36.410105"], ["updated_at", "2025-10-15 20:18:36.410105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.426769"], ["updated_at", "2025-10-15 20:18:36.426769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 188], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:36.436497"], ["updated_at", "2025-10-15 20:18:36.436497"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.455584"], ["updated_at", "2025-10-15 20:18:36.455584"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 189], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:36.463785"], ["updated_at", "2025-10-15 20:18:36.463785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.471154"], ["updated_at", "2025-10-15 20:18:36.471154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.9ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 190], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:36.474598"], ["updated_at", "2025-10-15 20:18:36.474598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.486470"], ["updated_at", "2025-10-15 20:18:36.486470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 191], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:36.489290"], ["updated_at", "2025-10-15 20:18:36.489290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.508208"], ["updated_at", "2025-10-15 20:18:36.508208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 192], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:36.510397"], ["updated_at", "2025-10-15 20:18:36.510397"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.513044"], ["updated_at", "2025-10-15 20:18:36.513044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 193], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:36.514056"], ["updated_at", "2025-10-15 20:18:36.514056"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.518423"], ["updated_at", "2025-10-15 20:18:36.518423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 194], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:36.524485"], ["updated_at", "2025-10-15 20:18:36.524485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.544028"], ["updated_at", "2025-10-15 20:18:36.544028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 195], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:18:36.546292"], ["updated_at", "2025-10-15 20:18:36.546292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.555689"], ["updated_at", "2025-10-15 20:18:36.555689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 196], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:18:36.557396"], ["updated_at", "2025-10-15 20:18:36.557396"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.564355"], ["updated_at", "2025-10-15 20:18:36.564355"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 197], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:36.565255"], ["updated_at", "2025-10-15 20:18:36.565255"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.568893"], ["updated_at", "2025-10-15 20:18:36.568893"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 198], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:36.570050"], ["updated_at", "2025-10-15 20:18:36.570050"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.572169"], ["updated_at", "2025-10-15 20:18:36.572169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 199], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:18:36.573291"], ["updated_at", "2025-10-15 20:18:36.573291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.576967"], ["updated_at", "2025-10-15 20:18:36.576967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 200], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:36.577651"], ["updated_at", "2025-10-15 20:18:36.577651"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.581169"], ["updated_at", "2025-10-15 20:18:36.581169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 201], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:18:36.584685"], ["updated_at", "2025-10-15 20:18:36.584685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.5ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:18:36.593284"], ["id", 201]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.613908"], ["updated_at", "2025-10-15 20:18:36.613908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 202], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:18:36.615006"], ["updated_at", "2025-10-15 20:18:36.615006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.616916"], ["updated_at", "2025-10-15 20:18:36.616916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 203], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:18:36.617493"], ["updated_at", "2025-10-15 20:18:36.617493"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:18:36.619217"], ["updated_at", "2025-10-15 20:18:36.619217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 204], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:18:36.620199"], ["updated_at", "2025-10-15 20:18:36.620199"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.149661"], ["updated_at", "2025-10-15 20:19:55.149661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 205], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:19:55.154548"], ["updated_at", "2025-10-15 20:19:55.154548"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.170898"], ["updated_at", "2025-10-15 20:19:55.170898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (3.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 206], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:19:55.181160"], ["updated_at", "2025-10-15 20:19:55.181160"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.200795"], ["updated_at", "2025-10-15 20:19:55.200795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 207], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:19:55.209683"], ["updated_at", "2025-10-15 20:19:55.209683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.216374"], ["updated_at", "2025-10-15 20:19:55.216374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 208], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:19:55.219136"], ["updated_at", "2025-10-15 20:19:55.219136"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.230298"], ["updated_at", "2025-10-15 20:19:55.230298"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 209], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:19:55.233383"], ["updated_at", "2025-10-15 20:19:55.233383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.249088"], ["updated_at", "2025-10-15 20:19:55.249088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 210], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:19:55.251010"], ["updated_at", "2025-10-15 20:19:55.251010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.253871"], ["updated_at", "2025-10-15 20:19:55.253871"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 211], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:19:55.255112"], ["updated_at", "2025-10-15 20:19:55.255112"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.260057"], ["updated_at", "2025-10-15 20:19:55.260057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 212], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:19:55.265754"], ["updated_at", "2025-10-15 20:19:55.265754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.285819"], ["updated_at", "2025-10-15 20:19:55.285819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 213], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:19:55.288236"], ["updated_at", "2025-10-15 20:19:55.288236"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.298097"], ["updated_at", "2025-10-15 20:19:55.298097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 214], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:19:55.299827"], ["updated_at", "2025-10-15 20:19:55.299827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.307587"], ["updated_at", "2025-10-15 20:19:55.307587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 215], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:19:55.308525"], ["updated_at", "2025-10-15 20:19:55.308525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.312249"], ["updated_at", "2025-10-15 20:19:55.312249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 216], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:19:55.313308"], ["updated_at", "2025-10-15 20:19:55.313308"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.314976"], ["updated_at", "2025-10-15 20:19:55.314976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 217], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:19:55.316181"], ["updated_at", "2025-10-15 20:19:55.316181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.320100"], ["updated_at", "2025-10-15 20:19:55.320100"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 218], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:19:55.320815"], ["updated_at", "2025-10-15 20:19:55.320815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.324223"], ["updated_at", "2025-10-15 20:19:55.324223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 219], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:19:55.327808"], ["updated_at", "2025-10-15 20:19:55.327808"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.6ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:19:55.337381"], ["id", 219]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.358745"], ["updated_at", "2025-10-15 20:19:55.358745"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 220], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:19:55.359836"], ["updated_at", "2025-10-15 20:19:55.359836"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.361918"], ["updated_at", "2025-10-15 20:19:55.361918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 221], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:19:55.362662"], ["updated_at", "2025-10-15 20:19:55.362662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:19:55.364821"], ["updated_at", "2025-10-15 20:19:55.364821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 222], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:19:55.365537"], ["updated_at", "2025-10-15 20:19:55.365537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.807785"], ["updated_at", "2025-10-15 20:25:09.807785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 223], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:09.812929"], ["updated_at", "2025-10-15 20:25:09.812929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.828233"], ["updated_at", "2025-10-15 20:25:09.828233"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 224], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:09.839305"], ["updated_at", "2025-10-15 20:25:09.839305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.857448"], ["updated_at", "2025-10-15 20:25:09.857448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 225], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:09.868935"], ["updated_at", "2025-10-15 20:25:09.868935"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.875746"], ["updated_at", "2025-10-15 20:25:09.875746"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 226], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:09.878243"], ["updated_at", "2025-10-15 20:25:09.878243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.888856"], ["updated_at", "2025-10-15 20:25:09.888856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 227], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:09.891274"], ["updated_at", "2025-10-15 20:25:09.891274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.907722"], ["updated_at", "2025-10-15 20:25:09.907722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 228], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:09.909788"], ["updated_at", "2025-10-15 20:25:09.909788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.912587"], ["updated_at", "2025-10-15 20:25:09.912587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 229], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:09.913820"], ["updated_at", "2025-10-15 20:25:09.913820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.919007"], ["updated_at", "2025-10-15 20:25:09.919007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 230], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:09.924991"], ["updated_at", "2025-10-15 20:25:09.924991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.945565"], ["updated_at", "2025-10-15 20:25:09.945565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 231], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:25:09.947873"], ["updated_at", "2025-10-15 20:25:09.947873"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.956894"], ["updated_at", "2025-10-15 20:25:09.956894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 232], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:25:09.958502"], ["updated_at", "2025-10-15 20:25:09.958502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.967753"], ["updated_at", "2025-10-15 20:25:09.967753"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 233], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:09.968694"], ["updated_at", "2025-10-15 20:25:09.968694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.971836"], ["updated_at", "2025-10-15 20:25:09.971836"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 234], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:09.972666"], ["updated_at", "2025-10-15 20:25:09.972666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.974331"], ["updated_at", "2025-10-15 20:25:09.974331"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 235], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:09.975192"], ["updated_at", "2025-10-15 20:25:09.975192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.981952"], ["updated_at", "2025-10-15 20:25:09.981952"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 236], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:09.982850"], ["updated_at", "2025-10-15 20:25:09.982850"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:09.986335"], ["updated_at", "2025-10-15 20:25:09.986335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 237], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:09.990002"], ["updated_at", "2025-10-15 20:25:09.990002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.6ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:25:09.999896"], ["id", 237]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:10.021841"], ["updated_at", "2025-10-15 20:25:10.021841"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 238], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:25:10.022905"], ["updated_at", "2025-10-15 20:25:10.022905"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:10.024742"], ["updated_at", "2025-10-15 20:25:10.024742"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 239], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:25:10.025357"], ["updated_at", "2025-10-15 20:25:10.025357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:10.027091"], ["updated_at", "2025-10-15 20:25:10.027091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 240], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:25:10.027795"], ["updated_at", "2025-10-15 20:25:10.027795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.808265"], ["updated_at", "2025-10-15 20:25:47.808265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 241], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:47.813144"], ["updated_at", "2025-10-15 20:25:47.813144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.827527"], ["updated_at", "2025-10-15 20:25:47.827527"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 242], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:47.835986"], ["updated_at", "2025-10-15 20:25:47.835986"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.856442"], ["updated_at", "2025-10-15 20:25:47.856442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 243], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:47.865352"], ["updated_at", "2025-10-15 20:25:47.865352"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.872520"], ["updated_at", "2025-10-15 20:25:47.872520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.9ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 244], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:47.875296"], ["updated_at", "2025-10-15 20:25:47.875296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.889907"], ["updated_at", "2025-10-15 20:25:47.889907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 245], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:47.892744"], ["updated_at", "2025-10-15 20:25:47.892744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.913218"], ["updated_at", "2025-10-15 20:25:47.913218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 246], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:47.915560"], ["updated_at", "2025-10-15 20:25:47.915560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.918336"], ["updated_at", "2025-10-15 20:25:47.918336"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 247], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:47.919537"], ["updated_at", "2025-10-15 20:25:47.919537"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.924840"], ["updated_at", "2025-10-15 20:25:47.924840"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 248], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:47.930772"], ["updated_at", "2025-10-15 20:25:47.930772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.951258"], ["updated_at", "2025-10-15 20:25:47.951258"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 249], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:25:47.953399"], ["updated_at", "2025-10-15 20:25:47.953399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.962309"], ["updated_at", "2025-10-15 20:25:47.962309"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 250], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:25:47.963974"], ["updated_at", "2025-10-15 20:25:47.963974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.970976"], ["updated_at", "2025-10-15 20:25:47.970976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 251], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:47.971898"], ["updated_at", "2025-10-15 20:25:47.971898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.975563"], ["updated_at", "2025-10-15 20:25:47.975563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 252], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:47.976690"], ["updated_at", "2025-10-15 20:25:47.976690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.978700"], ["updated_at", "2025-10-15 20:25:47.978700"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 253], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:25:47.979868"], ["updated_at", "2025-10-15 20:25:47.979868"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.984511"], ["updated_at", "2025-10-15 20:25:47.984511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 254], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:47.985305"], ["updated_at", "2025-10-15 20:25:47.985305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:47.988737"], ["updated_at", "2025-10-15 20:25:47.988737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 255], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:25:47.993218"], ["updated_at", "2025-10-15 20:25:47.993218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.8ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:25:48.002824"], ["id", 255]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:48.024799"], ["updated_at", "2025-10-15 20:25:48.024799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 256], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:25:48.025924"], ["updated_at", "2025-10-15 20:25:48.025924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:48.028032"], ["updated_at", "2025-10-15 20:25:48.028032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 257], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:25:48.028939"], ["updated_at", "2025-10-15 20:25:48.028939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:25:48.031191"], ["updated_at", "2025-10-15 20:25:48.031191"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 258], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:25:48.032046"], ["updated_at", "2025-10-15 20:25:48.032046"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.738208"], ["updated_at", "2025-10-15 20:26:45.738208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 259], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:26:45.742768"], ["updated_at", "2025-10-15 20:26:45.742768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.757290"], ["updated_at", "2025-10-15 20:26:45.757290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (2.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 260], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:26:45.765309"], ["updated_at", "2025-10-15 20:26:45.765309"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.781056"], ["updated_at", "2025-10-15 20:26:45.781056"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 261], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:26:45.788685"], ["updated_at", "2025-10-15 20:26:45.788685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.794887"], ["updated_at", "2025-10-15 20:26:45.794887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 262], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:26:45.797407"], ["updated_at", "2025-10-15 20:26:45.797407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.807722"], ["updated_at", "2025-10-15 20:26:45.807722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 263], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:26:45.810124"], ["updated_at", "2025-10-15 20:26:45.810124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.826241"], ["updated_at", "2025-10-15 20:26:45.826241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 264], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:26:45.828709"], ["updated_at", "2025-10-15 20:26:45.828709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.831996"], ["updated_at", "2025-10-15 20:26:45.831996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 265], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:26:45.833618"], ["updated_at", "2025-10-15 20:26:45.833618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.839689"], ["updated_at", "2025-10-15 20:26:45.839689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 266], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:26:45.845794"], ["updated_at", "2025-10-15 20:26:45.845794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.866805"], ["updated_at", "2025-10-15 20:26:45.866805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 267], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:26:45.869641"], ["updated_at", "2025-10-15 20:26:45.869641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.878251"], ["updated_at", "2025-10-15 20:26:45.878251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 268], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:26:45.879807"], ["updated_at", "2025-10-15 20:26:45.879807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.886800"], ["updated_at", "2025-10-15 20:26:45.886800"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 269], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:26:45.887618"], ["updated_at", "2025-10-15 20:26:45.887618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.891035"], ["updated_at", "2025-10-15 20:26:45.891035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 270], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:26:45.892096"], ["updated_at", "2025-10-15 20:26:45.892096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.893851"], ["updated_at", "2025-10-15 20:26:45.893851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 271], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:26:45.894907"], ["updated_at", "2025-10-15 20:26:45.894907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.898614"], ["updated_at", "2025-10-15 20:26:45.898614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 272], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:26:45.899317"], ["updated_at", "2025-10-15 20:26:45.899317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.902595"], ["updated_at", "2025-10-15 20:26:45.902595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 273], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:26:45.906004"], ["updated_at", "2025-10-15 20:26:45.906004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.5ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:26:45.913766"], ["id", 273]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.5ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 273], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.935002"], ["updated_at", "2025-10-15 20:26:45.935002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 274], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:26:45.936142"], ["updated_at", "2025-10-15 20:26:45.936142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.938268"], ["updated_at", "2025-10-15 20:26:45.938268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 275], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:26:45.939238"], ["updated_at", "2025-10-15 20:26:45.939238"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:26:45.941887"], ["updated_at", "2025-10-15 20:26:45.941887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 276], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:26:45.942683"], ["updated_at", "2025-10-15 20:26:45.942683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.317562"], ["updated_at", "2025-10-15 20:28:55.317562"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.395822"], ["updated_at", "2025-10-15 20:28:55.395822"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 278], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:28:55.400742"], ["updated_at", "2025-10-15 20:28:55.400742"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.434259"], ["updated_at", "2025-10-15 20:28:55.434259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 279], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:28:55.444346"], ["updated_at", "2025-10-15 20:28:55.444346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.461912"], ["updated_at", "2025-10-15 20:28:55.461912"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 280], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:28:55.467475"], ["updated_at", "2025-10-15 20:28:55.467475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.474530"], ["updated_at", "2025-10-15 20:28:55.474530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 281], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:28:55.479731"], ["updated_at", "2025-10-15 20:28:55.479731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.487815"], ["updated_at", "2025-10-15 20:28:55.487815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 282], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:28:55.490105"], ["updated_at", "2025-10-15 20:28:55.490105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.502851"], ["updated_at", "2025-10-15 20:28:55.502851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 283], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:28:55.505321"], ["updated_at", "2025-10-15 20:28:55.505321"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.508694"], ["updated_at", "2025-10-15 20:28:55.508694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.9ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 284], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:28:55.510539"], ["updated_at", "2025-10-15 20:28:55.510539"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.517212"], ["updated_at", "2025-10-15 20:28:55.517212"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 285], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:28:55.520549"], ["updated_at", "2025-10-15 20:28:55.520549"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.543922"], ["updated_at", "2025-10-15 20:28:55.543922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 286], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:28:55.545960"], ["updated_at", "2025-10-15 20:28:55.545960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.553363"], ["updated_at", "2025-10-15 20:28:55.553363"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 287], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:28:55.554586"], ["updated_at", "2025-10-15 20:28:55.554586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.562053"], ["updated_at", "2025-10-15 20:28:55.562053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 288], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:28:55.562929"], ["updated_at", "2025-10-15 20:28:55.562929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.567326"], ["updated_at", "2025-10-15 20:28:55.567326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 289], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:28:55.568310"], ["updated_at", "2025-10-15 20:28:55.568310"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.570846"], ["updated_at", "2025-10-15 20:28:55.570846"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 290], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:28:55.571758"], ["updated_at", "2025-10-15 20:28:55.571758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.575335"], ["updated_at", "2025-10-15 20:28:55.575335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 291], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:28:55.576154"], ["updated_at", "2025-10-15 20:28:55.576154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.584525"], ["updated_at", "2025-10-15 20:28:55.584525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.5ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 292], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:28:55.596150"], ["updated_at", "2025-10-15 20:28:55.596150"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.7ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:28:55.598974"], ["id", 291]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.622282"], ["updated_at", "2025-10-15 20:28:55.622282"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 293], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:28:55.623219"], ["updated_at", "2025-10-15 20:28:55.623219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.625936"], ["updated_at", "2025-10-15 20:28:55.625936"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 294], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:28:55.626866"], ["updated_at", "2025-10-15 20:28:55.626866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:28:55.632862"], ["updated_at", "2025-10-15 20:28:55.632862"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 295], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:28:55.633894"], ["updated_at", "2025-10-15 20:28:55.633894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (3.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.274743"], ["updated_at", "2025-10-15 20:31:04.274743"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.334237"], ["updated_at", "2025-10-15 20:31:04.334237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.336133"], ["updated_at", "2025-10-15 20:31:04.336133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.337735"], ["updated_at", "2025-10-15 20:31:04.337735"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.339418"], ["updated_at", "2025-10-15 20:31:04.339418"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.342513"], ["updated_at", "2025-10-15 20:31:04.342513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.345409"], ["updated_at", "2025-10-15 20:31:04.345409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (2.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 302], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 302], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 20:31:04.362589"], ["updated_at", "2025-10-15 20:31:04.362589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.370303"], ["updated_at", "2025-10-15 20:31:04.370303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 303], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 303], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 20:31:04.372827"], ["updated_at", "2025-10-15 20:31:04.372827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.375607"], ["updated_at", "2025-10-15 20:31:04.375607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 304], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 304], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 20:31:04.383516"], ["updated_at", "2025-10-15 20:31:04.383516"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.387561"], ["updated_at", "2025-10-15 20:31:04.387561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.391890"], ["updated_at", "2025-10-15 20:31:04.391890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 306], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 306], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:31:04.398921"], ["updated_at", "2025-10-15 20:31:04.398921"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.6ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 20:31:04.405203"], ["id", 298]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.420771"], ["updated_at", "2025-10-15 20:31:04.420771"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 307], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.426641"], ["updated_at", "2025-10-15 20:31:04.426641"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 308], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 308], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 20:31:04.428667"], ["updated_at", "2025-10-15 20:31:04.428667"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.431193"], ["updated_at", "2025-10-15 20:31:04.431193"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 309], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.433800"], ["updated_at", "2025-10-15 20:31:04.433800"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 310], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.8ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 310], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 20:31:04.436616"], ["updated_at", "2025-10-15 20:31:04.436616"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.445094"], ["updated_at", "2025-10-15 20:31:04.445094"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 311], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 311], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:31:04.450706"], ["updated_at", "2025-10-15 20:31:04.450706"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.452834"], ["updated_at", "2025-10-15 20:31:04.452834"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 312], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.458514"], ["updated_at", "2025-10-15 20:31:04.458514"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 313], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 313], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:31:04.461354"], ["updated_at", "2025-10-15 20:31:04.461354"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.463951"], ["updated_at", "2025-10-15 20:31:04.463951"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 314], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 314], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 20:31:04.467303"], ["updated_at", "2025-10-15 20:31:04.467303"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.469132"], ["updated_at", "2025-10-15 20:31:04.469132"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 315], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 315], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 20:31:04.471618"], ["updated_at", "2025-10-15 20:31:04.471618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.475092"], ["updated_at", "2025-10-15 20:31:04.475092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 316], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 316], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:31:04.477396"], ["updated_at", "2025-10-15 20:31:04.477396"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 316], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 316], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 20:31:04.479317"], ["updated_at", "2025-10-15 20:31:04.479317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 316], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 316], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 20:31:04.482207"], ["updated_at", "2025-10-15 20:31:04.482207"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.502098"], ["updated_at", "2025-10-15 20:31:04.502098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 317], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 317], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 20:31:04.504314"], ["updated_at", "2025-10-15 20:31:04.504314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.3ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 308]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 317], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 317], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 317]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.530580"], ["updated_at", "2025-10-15 20:31:04.530580"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 318], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:31:04.531674"], ["updated_at", "2025-10-15 20:31:04.531674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.536674"], ["updated_at", "2025-10-15 20:31:04.536674"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 319], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:31:04.537566"], ["updated_at", "2025-10-15 20:31:04.537566"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.552634"], ["updated_at", "2025-10-15 20:31:04.552634"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 320], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:31:04.555687"], ["updated_at", "2025-10-15 20:31:04.555687"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.559865"], ["updated_at", "2025-10-15 20:31:04.559865"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 321], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:31:04.561056"], ["updated_at", "2025-10-15 20:31:04.561056"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.564741"], ["updated_at", "2025-10-15 20:31:04.564741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 322], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:31:04.566607"], ["updated_at", "2025-10-15 20:31:04.566607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.572992"], ["updated_at", "2025-10-15 20:31:04.572992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 323], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:31:04.574327"], ["updated_at", "2025-10-15 20:31:04.574327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.576750"], ["updated_at", "2025-10-15 20:31:04.576750"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 324], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:31:04.577614"], ["updated_at", "2025-10-15 20:31:04.577614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.579828"], ["updated_at", "2025-10-15 20:31:04.579828"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 325], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:31:04.580719"], ["updated_at", "2025-10-15 20:31:04.580719"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.595076"], ["updated_at", "2025-10-15 20:31:04.595076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 326], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:31:04.596749"], ["updated_at", "2025-10-15 20:31:04.596749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.599533"], ["updated_at", "2025-10-15 20:31:04.599533"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 327], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:31:04.600678"], ["updated_at", "2025-10-15 20:31:04.600678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.607153"], ["updated_at", "2025-10-15 20:31:04.607153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 328], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:31:04.608393"], ["updated_at", "2025-10-15 20:31:04.608393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.615017"], ["updated_at", "2025-10-15 20:31:04.615017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 329], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:31:04.617452"], ["updated_at", "2025-10-15 20:31:04.617452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.625204"], ["updated_at", "2025-10-15 20:31:04.625204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 330], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:31:04.626646"], ["updated_at", "2025-10-15 20:31:04.626646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.633690"], ["updated_at", "2025-10-15 20:31:04.633690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 331], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:31:04.635262"], ["updated_at", "2025-10-15 20:31:04.635262"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.639127"], ["updated_at", "2025-10-15 20:31:04.639127"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 332], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:31:04.639840"], ["updated_at", "2025-10-15 20:31:04.639840"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.3ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:31:04.640951"], ["id", 323]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.648689"], ["updated_at", "2025-10-15 20:31:04.648689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 333], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:31:04.649509"], ["updated_at", "2025-10-15 20:31:04.649509"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.655658"], ["updated_at", "2025-10-15 20:31:04.655658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 334], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:31:04.656892"], ["updated_at", "2025-10-15 20:31:04.656892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:31:04.662427"], ["updated_at", "2025-10-15 20:31:04.662427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 335], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:31:04.664087"], ["updated_at", "2025-10-15 20:31:04.664087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.161679"], ["updated_at", "2025-10-15 20:35:19.161679"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.203858"], ["updated_at", "2025-10-15 20:35:19.203858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.209391"], ["updated_at", "2025-10-15 20:35:19.209391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (2.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.219225"], ["updated_at", "2025-10-15 20:35:19.219225"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.233481"], ["updated_at", "2025-10-15 20:35:19.233481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.240744"], ["updated_at", "2025-10-15 20:35:19.240744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.253668"], ["updated_at", "2025-10-15 20:35:19.253668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (2.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 342], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 342], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 20:35:19.279261"], ["updated_at", "2025-10-15 20:35:19.279261"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.290738"], ["updated_at", "2025-10-15 20:35:19.290738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 343], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 343], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 20:35:19.296099"], ["updated_at", "2025-10-15 20:35:19.296099"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.300864"], ["updated_at", "2025-10-15 20:35:19.300864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 344], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 344], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 20:35:19.313949"], ["updated_at", "2025-10-15 20:35:19.313949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.319562"], ["updated_at", "2025-10-15 20:35:19.319562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.322697"], ["updated_at", "2025-10-15 20:35:19.322697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 346], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (1.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 346], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:35:19.325828"], ["updated_at", "2025-10-15 20:35:19.325828"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.3ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 20:35:19.333716"], ["id", 330]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.338863"], ["updated_at", "2025-10-15 20:35:19.338863"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 347], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.341516"], ["updated_at", "2025-10-15 20:35:19.341516"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 348], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 348], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 20:35:19.342577"], ["updated_at", "2025-10-15 20:35:19.342577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.344579"], ["updated_at", "2025-10-15 20:35:19.344579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 349], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.346441"], ["updated_at", "2025-10-15 20:35:19.346441"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 350], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 350], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 20:35:19.347513"], ["updated_at", "2025-10-15 20:35:19.347513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.350036"], ["updated_at", "2025-10-15 20:35:19.350036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 351], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 351], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:35:19.350988"], ["updated_at", "2025-10-15 20:35:19.350988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.351565"], ["updated_at", "2025-10-15 20:35:19.351565"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 352], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.354854"], ["updated_at", "2025-10-15 20:35:19.354854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 353], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 353], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:35:19.355851"], ["updated_at", "2025-10-15 20:35:19.355851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.357734"], ["updated_at", "2025-10-15 20:35:19.357734"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 354], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 354], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 20:35:19.358847"], ["updated_at", "2025-10-15 20:35:19.358847"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.360239"], ["updated_at", "2025-10-15 20:35:19.360239"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 355], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 355], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 20:35:19.361404"], ["updated_at", "2025-10-15 20:35:19.361404"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.362930"], ["updated_at", "2025-10-15 20:35:19.362930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 356], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 356], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:35:19.363988"], ["updated_at", "2025-10-15 20:35:19.363988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 356], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 356], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 20:35:19.365082"], ["updated_at", "2025-10-15 20:35:19.365082"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 356], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 356], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 20:35:19.366093"], ["updated_at", "2025-10-15 20:35:19.366093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 356], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.373477"], ["updated_at", "2025-10-15 20:35:19.373477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 357], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 357], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 20:35:19.375109"], ["updated_at", "2025-10-15 20:35:19.375109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 357], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 340]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 340]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 357], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 357], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 357]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.399223"], ["updated_at", "2025-10-15 20:35:19.399223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 358], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:35:19.400119"], ["updated_at", "2025-10-15 20:35:19.400119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.404265"], ["updated_at", "2025-10-15 20:35:19.404265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 359], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:35:19.405276"], ["updated_at", "2025-10-15 20:35:19.405276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.418740"], ["updated_at", "2025-10-15 20:35:19.418740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 360], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:35:19.420958"], ["updated_at", "2025-10-15 20:35:19.420958"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.423888"], ["updated_at", "2025-10-15 20:35:19.423888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 361], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:35:19.424511"], ["updated_at", "2025-10-15 20:35:19.424511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.440309"], ["updated_at", "2025-10-15 20:35:19.440309"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 362], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:35:19.441467"], ["updated_at", "2025-10-15 20:35:19.441467"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.447214"], ["updated_at", "2025-10-15 20:35:19.447214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 363], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:35:19.448998"], ["updated_at", "2025-10-15 20:35:19.448998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.451275"], ["updated_at", "2025-10-15 20:35:19.451275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 364], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:35:19.452108"], ["updated_at", "2025-10-15 20:35:19.452108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.454380"], ["updated_at", "2025-10-15 20:35:19.454380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 365], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:35:19.455379"], ["updated_at", "2025-10-15 20:35:19.455379"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.465073"], ["updated_at", "2025-10-15 20:35:19.465073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 366], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:35:19.466294"], ["updated_at", "2025-10-15 20:35:19.466294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.468266"], ["updated_at", "2025-10-15 20:35:19.468266"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 367], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 20:35:19.468981"], ["updated_at", "2025-10-15 20:35:19.468981"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.473255"], ["updated_at", "2025-10-15 20:35:19.473255"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 368], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:35:19.474106"], ["updated_at", "2025-10-15 20:35:19.474106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.476186"], ["updated_at", "2025-10-15 20:35:19.476186"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 369], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:35:19.477013"], ["updated_at", "2025-10-15 20:35:19.477013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.478838"], ["updated_at", "2025-10-15 20:35:19.478838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 370], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 20:35:19.479962"], ["updated_at", "2025-10-15 20:35:19.479962"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.482895"], ["updated_at", "2025-10-15 20:35:19.482895"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 371], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:35:19.483964"], ["updated_at", "2025-10-15 20:35:19.483964"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.485996"], ["updated_at", "2025-10-15 20:35:19.485996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 372], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 20:35:19.486683"], ["updated_at", "2025-10-15 20:35:19.486683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 20:35:19.487336"], ["id", 355]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.490052"], ["updated_at", "2025-10-15 20:35:19.490052"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 373], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 20:35:19.490856"], ["updated_at", "2025-10-15 20:35:19.490856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.493567"], ["updated_at", "2025-10-15 20:35:19.493567"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 374], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 20:35:19.494645"], ["updated_at", "2025-10-15 20:35:19.494645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 20:35:19.498635"], ["updated_at", "2025-10-15 20:35:19.498635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 375], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 20:35:19.499602"], ["updated_at", "2025-10-15 20:35:19.499602"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.651038"], ["updated_at", "2025-10-15 21:48:04.651038"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.698125"], ["updated_at", "2025-10-15 21:48:04.698125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.701433"], ["updated_at", "2025-10-15 21:48:04.701433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.704934"], ["updated_at", "2025-10-15 21:48:04.704934"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.709062"], ["updated_at", "2025-10-15 21:48:04.709062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.713721"], ["updated_at", "2025-10-15 21:48:04.713721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.719125"], ["updated_at", "2025-10-15 21:48:04.719125"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 382], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 382], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 382], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:48:04.735779"], ["updated_at", "2025-10-15 21:48:04.735779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.739507"], ["updated_at", "2025-10-15 21:48:04.739507"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 383], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 383], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 383], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 21:48:04.742274"], ["updated_at", "2025-10-15 21:48:04.742274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.744751"], ["updated_at", "2025-10-15 21:48:04.744751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 384], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 384], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 384], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:48:04.750146"], ["updated_at", "2025-10-15 21:48:04.750146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.753362"], ["updated_at", "2025-10-15 21:48:04.753362"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.755775"], ["updated_at", "2025-10-15 21:48:04.755775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 386], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 386], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 386], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:48:04.758560"], ["updated_at", "2025-10-15 21:48:04.758560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 362], ["resource_type", "TestOrder"], ["resource_id", 386], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 21:48:04.763605"], ["id", 362]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.766554"], ["updated_at", "2025-10-15 21:48:04.766554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 387], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.769971"], ["updated_at", "2025-10-15 21:48:04.769971"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 388], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 388], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 388], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 21:48:04.772684"], ["updated_at", "2025-10-15 21:48:04.772684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.775920"], ["updated_at", "2025-10-15 21:48:04.775920"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 389], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.780113"], ["updated_at", "2025-10-15 21:48:04.780113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 390], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 390], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 390], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:48:04.783697"], ["updated_at", "2025-10-15 21:48:04.783697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.787607"], ["updated_at", "2025-10-15 21:48:04.787607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 391], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 391], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 391], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:48:04.791102"], ["updated_at", "2025-10-15 21:48:04.791102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.792362"], ["updated_at", "2025-10-15 21:48:04.792362"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 392], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.795642"], ["updated_at", "2025-10-15 21:48:04.795642"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 393], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 393], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 393], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:48:04.799875"], ["updated_at", "2025-10-15 21:48:04.799875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.802579"], ["updated_at", "2025-10-15 21:48:04.802579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 394], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 394], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 394], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:48:04.805885"], ["updated_at", "2025-10-15 21:48:04.805885"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.807869"], ["updated_at", "2025-10-15 21:48:04.807869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 395], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 395], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 395], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 21:48:04.810576"], ["updated_at", "2025-10-15 21:48:04.810576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.812486"], ["updated_at", "2025-10-15 21:48:04.812486"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 396], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 396], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 396], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:48:04.814996"], ["updated_at", "2025-10-15 21:48:04.814996"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 396], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 396], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 396], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:48:04.817121"], ["updated_at", "2025-10-15 21:48:04.817121"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 396], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 396], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 396], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 21:48:04.819670"], ["updated_at", "2025-10-15 21:48:04.819670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.3ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 396], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 396], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.826034"], ["updated_at", "2025-10-15 21:48:04.826034"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 397], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 397], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 397], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:48:04.828742"], ["updated_at", "2025-10-15 21:48:04.828742"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 397], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 372]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 372]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 397], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 397], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 397]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.842651"], ["updated_at", "2025-10-15 21:48:04.842651"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 398], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 398], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:48:04.846034"], ["updated_at", "2025-10-15 21:48:04.846034"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 373], ["resource_type", "TestOrder"], ["resource_id", 398], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 373], ["resource_type", "TestOrder"], ["resource_id", 398], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.851986"], ["updated_at", "2025-10-15 21:48:04.851986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 399], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 399], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:48:04.854055"], ["updated_at", "2025-10-15 21:48:04.854055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 374], ["resource_type", "TestOrder"], ["resource_id", 399], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 374], ["resource_type", "TestOrder"], ["resource_id", 399], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.860730"], ["updated_at", "2025-10-15 21:48:04.860730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 400], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 400], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:48:04.863452"], ["updated_at", "2025-10-15 21:48:04.863452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 375], ["resource_type", "TestOrder"], ["resource_id", 400], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.868234"], ["updated_at", "2025-10-15 21:48:04.868234"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 401], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 401], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:48:04.870797"], ["updated_at", "2025-10-15 21:48:04.870797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 376], ["resource_type", "TestOrder"], ["resource_id", 401], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 376], ["resource_type", "TestOrder"], ["resource_id", 401], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 376], ["resource_type", "TestOrder"], ["resource_id", 401], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 376], ["resource_type", "TestOrder"], ["resource_id", 401], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.880532"], ["updated_at", "2025-10-15 21:48:04.880532"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 402], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 402], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:48:04.883450"], ["updated_at", "2025-10-15 21:48:04.883450"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 377], ["resource_type", "TestOrder"], ["resource_id", 402], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 377], ["resource_type", "TestOrder"], ["resource_id", 402], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.898122"], ["updated_at", "2025-10-15 21:48:04.898122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 403], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 403], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:48:04.902429"], ["updated_at", "2025-10-15 21:48:04.902429"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.907941"], ["updated_at", "2025-10-15 21:48:04.907941"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 404], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 404], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:48:04.911786"], ["updated_at", "2025-10-15 21:48:04.911786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.916730"], ["updated_at", "2025-10-15 21:48:04.916730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 405], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 405], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:48:04.919462"], ["updated_at", "2025-10-15 21:48:04.919462"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.944020"], ["updated_at", "2025-10-15 21:48:04.944020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 406], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 406], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:48:04.946914"], ["updated_at", "2025-10-15 21:48:04.946914"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.949934"], ["updated_at", "2025-10-15 21:48:04.949934"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 407], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 407], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:48:04.952586"], ["updated_at", "2025-10-15 21:48:04.952586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.959434"], ["updated_at", "2025-10-15 21:48:04.959434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 408], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 408], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:48:04.962262"], ["updated_at", "2025-10-15 21:48:04.962262"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.966267"], ["updated_at", "2025-10-15 21:48:04.966267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 409], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 409], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:48:04.968567"], ["updated_at", "2025-10-15 21:48:04.968567"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.972128"], ["updated_at", "2025-10-15 21:48:04.972128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 410], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 410], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:48:04.974490"], ["updated_at", "2025-10-15 21:48:04.974490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.978475"], ["updated_at", "2025-10-15 21:48:04.978475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 411], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 411], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:48:04.980655"], ["updated_at", "2025-10-15 21:48:04.980655"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 386], ["resource_type", "TestOrder"], ["resource_id", 411], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.984059"], ["updated_at", "2025-10-15 21:48:04.984059"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 412], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 412], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:48:04.986085"], ["updated_at", "2025-10-15 21:48:04.986085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 387], ["resource_type", "TestOrder"], ["resource_id", 412], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 21:48:04.987667"], ["id", 387]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 387], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.991150"], ["updated_at", "2025-10-15 21:48:04.991150"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 413], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 413], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 21:48:04.992906"], ["updated_at", "2025-10-15 21:48:04.992906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:04.995423"], ["updated_at", "2025-10-15 21:48:04.995423"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 414], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 414], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 21:48:04.998517"], ["updated_at", "2025-10-15 21:48:04.998517"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:48:05.001428"], ["updated_at", "2025-10-15 21:48:05.001428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 415], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 415], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 21:48:05.003270"], ["updated_at", "2025-10-15 21:48:05.003270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.666525"], ["updated_at", "2025-10-15 21:50:00.666525"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.709778"], ["updated_at", "2025-10-15 21:50:00.709778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.713278"], ["updated_at", "2025-10-15 21:50:00.713278"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.715770"], ["updated_at", "2025-10-15 21:50:00.715770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.719563"], ["updated_at", "2025-10-15 21:50:00.719563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.723944"], ["updated_at", "2025-10-15 21:50:00.723944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.730043"], ["updated_at", "2025-10-15 21:50:00.730043"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 422], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 422], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 422], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:50:00.746910"], ["updated_at", "2025-10-15 21:50:00.746910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.750475"], ["updated_at", "2025-10-15 21:50:00.750475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 423], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 423], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 423], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 21:50:00.753109"], ["updated_at", "2025-10-15 21:50:00.753109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.755350"], ["updated_at", "2025-10-15 21:50:00.755350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 424], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 424], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 424], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:50:00.760303"], ["updated_at", "2025-10-15 21:50:00.760303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.763736"], ["updated_at", "2025-10-15 21:50:00.763736"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.766453"], ["updated_at", "2025-10-15 21:50:00.766453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 426], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 426], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 426], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:50:00.769267"], ["updated_at", "2025-10-15 21:50:00.769267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 394], ["resource_type", "TestOrder"], ["resource_id", 426], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.5ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 21:50:00.774812"], ["id", 394]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.778260"], ["updated_at", "2025-10-15 21:50:00.778260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 427], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.781345"], ["updated_at", "2025-10-15 21:50:00.781345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 428], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 428], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 428], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 21:50:00.784271"], ["updated_at", "2025-10-15 21:50:00.784271"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.786997"], ["updated_at", "2025-10-15 21:50:00.786997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 429], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.790533"], ["updated_at", "2025-10-15 21:50:00.790533"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 430], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 430], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 430], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:50:00.794678"], ["updated_at", "2025-10-15 21:50:00.794678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.799405"], ["updated_at", "2025-10-15 21:50:00.799405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 431], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 431], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 431], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:50:00.802799"], ["updated_at", "2025-10-15 21:50:00.802799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.803580"], ["updated_at", "2025-10-15 21:50:00.803580"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 432], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.806670"], ["updated_at", "2025-10-15 21:50:00.806670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 433], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 433], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 433], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:50:00.810499"], ["updated_at", "2025-10-15 21:50:00.810499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.812953"], ["updated_at", "2025-10-15 21:50:00.812953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 434], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 434], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 434], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:50:00.815775"], ["updated_at", "2025-10-15 21:50:00.815775"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.817835"], ["updated_at", "2025-10-15 21:50:00.817835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 435], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 435], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 435], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 21:50:00.820463"], ["updated_at", "2025-10-15 21:50:00.820463"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.822588"], ["updated_at", "2025-10-15 21:50:00.822588"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 436], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 436], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 436], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:50:00.825357"], ["updated_at", "2025-10-15 21:50:00.825357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 436], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 436], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 436], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:50:00.827379"], ["updated_at", "2025-10-15 21:50:00.827379"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 436], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 436], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 436], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 21:50:00.829721"], ["updated_at", "2025-10-15 21:50:00.829721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.3ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 436], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.835714"], ["updated_at", "2025-10-15 21:50:00.835714"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 437], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 437], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 437], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:50:00.838578"], ["updated_at", "2025-10-15 21:50:00.838578"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 437], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 404]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 404]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 437], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 437], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 437]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 404], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.850006"], ["updated_at", "2025-10-15 21:50:00.850006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 438], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 438], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:50:00.852164"], ["updated_at", "2025-10-15 21:50:00.852164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 405], ["resource_type", "TestOrder"], ["resource_id", 438], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 405], ["resource_type", "TestOrder"], ["resource_id", 438], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.857147"], ["updated_at", "2025-10-15 21:50:00.857147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 439], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 439], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:50:00.859283"], ["updated_at", "2025-10-15 21:50:00.859283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 406], ["resource_type", "TestOrder"], ["resource_id", 439], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 406], ["resource_type", "TestOrder"], ["resource_id", 439], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.864406"], ["updated_at", "2025-10-15 21:50:00.864406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 440], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 440], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:50:00.867088"], ["updated_at", "2025-10-15 21:50:00.867088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 407], ["resource_type", "TestOrder"], ["resource_id", 440], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.871665"], ["updated_at", "2025-10-15 21:50:00.871665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 441], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 441], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:50:00.874575"], ["updated_at", "2025-10-15 21:50:00.874575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 408], ["resource_type", "TestOrder"], ["resource_id", 441], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 408], ["resource_type", "TestOrder"], ["resource_id", 441], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 408], ["resource_type", "TestOrder"], ["resource_id", 441], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 408], ["resource_type", "TestOrder"], ["resource_id", 441], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.883727"], ["updated_at", "2025-10-15 21:50:00.883727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 442], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 442], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:50:00.887090"], ["updated_at", "2025-10-15 21:50:00.887090"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 409], ["resource_type", "TestOrder"], ["resource_id", 442], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 409], ["resource_type", "TestOrder"], ["resource_id", 442], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.901249"], ["updated_at", "2025-10-15 21:50:00.901249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 443], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 443], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:50:00.904634"], ["updated_at", "2025-10-15 21:50:00.904634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.909332"], ["updated_at", "2025-10-15 21:50:00.909332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 444], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 444], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:50:00.912444"], ["updated_at", "2025-10-15 21:50:00.912444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.916583"], ["updated_at", "2025-10-15 21:50:00.916583"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 445], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 445], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:50:00.919017"], ["updated_at", "2025-10-15 21:50:00.919017"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.941808"], ["updated_at", "2025-10-15 21:50:00.941808"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 446], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 446], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:50:00.944061"], ["updated_at", "2025-10-15 21:50:00.944061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.946896"], ["updated_at", "2025-10-15 21:50:00.946896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 447], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 447], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:50:00.949221"], ["updated_at", "2025-10-15 21:50:00.949221"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.955684"], ["updated_at", "2025-10-15 21:50:00.955684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 448], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 448], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:50:00.957954"], ["updated_at", "2025-10-15 21:50:00.957954"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.961485"], ["updated_at", "2025-10-15 21:50:00.961485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 449], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 449], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:50:00.963675"], ["updated_at", "2025-10-15 21:50:00.963675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.967016"], ["updated_at", "2025-10-15 21:50:00.967016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 450], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 450], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:50:00.969247"], ["updated_at", "2025-10-15 21:50:00.969247"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.972797"], ["updated_at", "2025-10-15 21:50:00.972797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 451], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 451], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:50:00.974864"], ["updated_at", "2025-10-15 21:50:00.974864"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 418], ["resource_type", "TestOrder"], ["resource_id", 451], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.978159"], ["updated_at", "2025-10-15 21:50:00.978159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 452], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 452], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:50:00.979987"], ["updated_at", "2025-10-15 21:50:00.979987"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 419], ["resource_type", "TestOrder"], ["resource_id", 452], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 21:50:00.981440"], ["id", 419]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.984741"], ["updated_at", "2025-10-15 21:50:00.984741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 453], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 453], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 21:50:00.986430"], ["updated_at", "2025-10-15 21:50:00.986430"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.988861"], ["updated_at", "2025-10-15 21:50:00.988861"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 454], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 454], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 21:50:00.991495"], ["updated_at", "2025-10-15 21:50:00.991495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:50:00.994476"], ["updated_at", "2025-10-15 21:50:00.994476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 455], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 455], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 21:50:00.996770"], ["updated_at", "2025-10-15 21:50:00.996770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36m#<Class:0x0000ffff7316adc8> Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.429497"], ["updated_at", "2025-10-15 21:51:04.429497"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36m#<Class:0x0000ffff68559110> Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.483249"], ["updated_at", "2025-10-15 21:51:04.483249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36m#<Class:0x0000ffff684f4d00> Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.488257"], ["updated_at", "2025-10-15 21:51:04.488257"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36m#<Class:0x0000ffff684a02a0> Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.496369"], ["updated_at", "2025-10-15 21:51:04.496369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36m#<Class:0x0000ffff6843b698> Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.504534"], ["updated_at", "2025-10-15 21:51:04.504534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36m#<Class:0x0000ffff683d6c20> Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.510919"], ["updated_at", "2025-10-15 21:51:04.510919"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36m#<Class:0x0000ffff68382260> Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.516592"], ["updated_at", "2025-10-15 21:51:04.516592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.524520"], ["updated_at", "2025-10-15 21:51:04.524520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.528314"], ["updated_at", "2025-10-15 21:51:04.528314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.531940"], ["updated_at", "2025-10-15 21:51:04.531940"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.535399"], ["updated_at", "2025-10-15 21:51:04.535399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.539015"], ["updated_at", "2025-10-15 21:51:04.539015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.543294"], ["updated_at", "2025-10-15 21:51:04.543294"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.547186"], ["updated_at", "2025-10-15 21:51:04.547186"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 469], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 469], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 469], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:51:04.563594"], ["updated_at", "2025-10-15 21:51:04.563594"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.570142"], ["updated_at", "2025-10-15 21:51:04.570142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 470], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 470], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 470], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 21:51:04.574515"], ["updated_at", "2025-10-15 21:51:04.574515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.579917"], ["updated_at", "2025-10-15 21:51:04.579917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 471], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 471], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 471], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:51:04.591228"], ["updated_at", "2025-10-15 21:51:04.591228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.598557"], ["updated_at", "2025-10-15 21:51:04.598557"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.603329"], ["updated_at", "2025-10-15 21:51:04.603329"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 473], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 473], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 473], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:51:04.608478"], ["updated_at", "2025-10-15 21:51:04.608478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 426], ["resource_type", "TestOrder"], ["resource_id", 473], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 21:51:04.617273"], ["id", 426]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.623033"], ["updated_at", "2025-10-15 21:51:04.623033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 474], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.629601"], ["updated_at", "2025-10-15 21:51:04.629601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 475], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 475], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 475], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 21:51:04.636062"], ["updated_at", "2025-10-15 21:51:04.636062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.641948"], ["updated_at", "2025-10-15 21:51:04.641948"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 476], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.645314"], ["updated_at", "2025-10-15 21:51:04.645314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 477], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 477], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 477], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:51:04.648250"], ["updated_at", "2025-10-15 21:51:04.648250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.654242"], ["updated_at", "2025-10-15 21:51:04.654242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 478], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 478], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 478], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:51:04.657696"], ["updated_at", "2025-10-15 21:51:04.657696"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.659839"], ["updated_at", "2025-10-15 21:51:04.659839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 479], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.663146"], ["updated_at", "2025-10-15 21:51:04.663146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 480], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 480], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 480], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:51:04.665891"], ["updated_at", "2025-10-15 21:51:04.665891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.669797"], ["updated_at", "2025-10-15 21:51:04.669797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 481], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 481], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 481], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:51:04.673459"], ["updated_at", "2025-10-15 21:51:04.673459"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.675744"], ["updated_at", "2025-10-15 21:51:04.675744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 482], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 482], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 482], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 21:51:04.679564"], ["updated_at", "2025-10-15 21:51:04.679564"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.681672"], ["updated_at", "2025-10-15 21:51:04.681672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 483], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 483], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 483], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:51:04.685044"], ["updated_at", "2025-10-15 21:51:04.685044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 483], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 483], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 483], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:51:04.687706"], ["updated_at", "2025-10-15 21:51:04.687706"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 483], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 483], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 483], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 21:51:04.690454"], ["updated_at", "2025-10-15 21:51:04.690454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.3ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 483], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.696983"], ["updated_at", "2025-10-15 21:51:04.696983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 484], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 484], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 484], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:51:04.700686"], ["updated_at", "2025-10-15 21:51:04.700686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 484], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 436]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 436]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 484], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 484], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 484]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.718192"], ["updated_at", "2025-10-15 21:51:04.718192"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 485], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 485], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:51:04.720892"], ["updated_at", "2025-10-15 21:51:04.720892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 437], ["resource_type", "TestOrder"], ["resource_id", 485], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 437], ["resource_type", "TestOrder"], ["resource_id", 485], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.726500"], ["updated_at", "2025-10-15 21:51:04.726500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 486], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 486], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:51:04.728488"], ["updated_at", "2025-10-15 21:51:04.728488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 438], ["resource_type", "TestOrder"], ["resource_id", 486], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 438], ["resource_type", "TestOrder"], ["resource_id", 486], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.734003"], ["updated_at", "2025-10-15 21:51:04.734003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 487], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 487], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:51:04.736779"], ["updated_at", "2025-10-15 21:51:04.736779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 439], ["resource_type", "TestOrder"], ["resource_id", 487], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.741227"], ["updated_at", "2025-10-15 21:51:04.741227"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 488], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 488], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:51:04.743657"], ["updated_at", "2025-10-15 21:51:04.743657"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 440], ["resource_type", "TestOrder"], ["resource_id", 488], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 440], ["resource_type", "TestOrder"], ["resource_id", 488], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 440], ["resource_type", "TestOrder"], ["resource_id", 488], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 440], ["resource_type", "TestOrder"], ["resource_id", 488], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.750005"], ["updated_at", "2025-10-15 21:51:04.750005"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 489], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 489], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:51:04.752317"], ["updated_at", "2025-10-15 21:51:04.752317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 441], ["resource_type", "TestOrder"], ["resource_id", 489], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 441], ["resource_type", "TestOrder"], ["resource_id", 489], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.759453"], ["updated_at", "2025-10-15 21:51:04.759453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 490], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 490], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:51:04.761879"], ["updated_at", "2025-10-15 21:51:04.761879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.764517"], ["updated_at", "2025-10-15 21:51:04.764517"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 491], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 491], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:51:04.767404"], ["updated_at", "2025-10-15 21:51:04.767404"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.770074"], ["updated_at", "2025-10-15 21:51:04.770074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 492], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 492], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:51:04.772295"], ["updated_at", "2025-10-15 21:51:04.772295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.785743"], ["updated_at", "2025-10-15 21:51:04.785743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 493], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 493], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:51:04.788520"], ["updated_at", "2025-10-15 21:51:04.788520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.790894"], ["updated_at", "2025-10-15 21:51:04.790894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 494], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 494], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:51:04.793028"], ["updated_at", "2025-10-15 21:51:04.793028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.797035"], ["updated_at", "2025-10-15 21:51:04.797035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 495], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 495], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:51:04.799101"], ["updated_at", "2025-10-15 21:51:04.799101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.801935"], ["updated_at", "2025-10-15 21:51:04.801935"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 496], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 496], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:51:04.803697"], ["updated_at", "2025-10-15 21:51:04.803697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.806071"], ["updated_at", "2025-10-15 21:51:04.806071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 497], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 497], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:51:04.807967"], ["updated_at", "2025-10-15 21:51:04.807967"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.811044"], ["updated_at", "2025-10-15 21:51:04.811044"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 498], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 498], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:51:04.812955"], ["updated_at", "2025-10-15 21:51:04.812955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 450], ["resource_type", "TestOrder"], ["resource_id", 498], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.816009"], ["updated_at", "2025-10-15 21:51:04.816009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 499], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 499], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:51:04.818007"], ["updated_at", "2025-10-15 21:51:04.818007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 451], ["resource_type", "TestOrder"], ["resource_id", 499], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 21:51:04.819544"], ["id", 451]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.822432"], ["updated_at", "2025-10-15 21:51:04.822432"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 500], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 500], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 21:51:04.824206"], ["updated_at", "2025-10-15 21:51:04.824206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.827078"], ["updated_at", "2025-10-15 21:51:04.827078"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 501], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 501], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 21:51:04.829302"], ["updated_at", "2025-10-15 21:51:04.829302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:51:04.831743"], ["updated_at", "2025-10-15 21:51:04.831743"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 502], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 502], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 21:51:04.833693"], ["updated_at", "2025-10-15 21:51:04.833693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.797030"], ["updated_at", "2025-10-15 21:52:27.797030"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.802144"], ["updated_at", "2025-10-15 21:52:27.802144"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.804855"], ["updated_at", "2025-10-15 21:52:27.804855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.806686"], ["updated_at", "2025-10-15 21:52:27.806686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.808566"], ["updated_at", "2025-10-15 21:52:27.808566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.811206"], ["updated_at", "2025-10-15 21:52:27.811206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.814133"], ["updated_at", "2025-10-15 21:52:27.814133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 509], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 509], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 509], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:52:27.830005"], ["updated_at", "2025-10-15 21:52:27.830005"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.834297"], ["updated_at", "2025-10-15 21:52:27.834297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 510], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 510], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 510], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 21:52:27.837273"], ["updated_at", "2025-10-15 21:52:27.837273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.839620"], ["updated_at", "2025-10-15 21:52:27.839620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 511], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 511], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 511], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:52:27.845172"], ["updated_at", "2025-10-15 21:52:27.845172"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.848113"], ["updated_at", "2025-10-15 21:52:27.848113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.850894"], ["updated_at", "2025-10-15 21:52:27.850894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 513], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 513], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 513], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:27.853794"], ["updated_at", "2025-10-15 21:52:27.853794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 458], ["resource_type", "TestOrder"], ["resource_id", 513], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 21:52:27.859452"], ["id", 458]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.862724"], ["updated_at", "2025-10-15 21:52:27.862724"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 514], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.866868"], ["updated_at", "2025-10-15 21:52:27.866868"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 515], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 515], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 515], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 21:52:27.869358"], ["updated_at", "2025-10-15 21:52:27.869358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.874322"], ["updated_at", "2025-10-15 21:52:27.874322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 516], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.879151"], ["updated_at", "2025-10-15 21:52:27.879151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 517], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 517], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 517], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:52:27.884696"], ["updated_at", "2025-10-15 21:52:27.884696"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.891803"], ["updated_at", "2025-10-15 21:52:27.891803"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 518], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 518], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 518], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:27.897206"], ["updated_at", "2025-10-15 21:52:27.897206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.898520"], ["updated_at", "2025-10-15 21:52:27.898520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 519], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.902984"], ["updated_at", "2025-10-15 21:52:27.902984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 520], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 520], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 520], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:27.907110"], ["updated_at", "2025-10-15 21:52:27.907110"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.912627"], ["updated_at", "2025-10-15 21:52:27.912627"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 521], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 521], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 521], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:52:27.918124"], ["updated_at", "2025-10-15 21:52:27.918124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.922443"], ["updated_at", "2025-10-15 21:52:27.922443"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 522], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 522], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 522], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 21:52:27.926683"], ["updated_at", "2025-10-15 21:52:27.926683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.929499"], ["updated_at", "2025-10-15 21:52:27.929499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 523], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 523], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 523], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:27.935248"], ["updated_at", "2025-10-15 21:52:27.935248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 523], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 523], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 523], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:52:27.939058"], ["updated_at", "2025-10-15 21:52:27.939058"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 523], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 523], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 523], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 21:52:27.941042"], ["updated_at", "2025-10-15 21:52:27.941042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 523], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 523], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.946881"], ["updated_at", "2025-10-15 21:52:27.946881"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 524], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 524], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 524], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:52:27.949665"], ["updated_at", "2025-10-15 21:52:27.949665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 524], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 468]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 468]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 524], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 524], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 524]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.961807"], ["updated_at", "2025-10-15 21:52:27.961807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 525], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 525], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:27.963589"], ["updated_at", "2025-10-15 21:52:27.963589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 469], ["resource_type", "TestOrder"], ["resource_id", 525], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 469], ["resource_type", "TestOrder"], ["resource_id", 525], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.968685"], ["updated_at", "2025-10-15 21:52:27.968685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 526], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 526], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:27.970181"], ["updated_at", "2025-10-15 21:52:27.970181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 470], ["resource_type", "TestOrder"], ["resource_id", 526], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 470], ["resource_type", "TestOrder"], ["resource_id", 526], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.975129"], ["updated_at", "2025-10-15 21:52:27.975129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 527], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 527], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:27.977155"], ["updated_at", "2025-10-15 21:52:27.977155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 471], ["resource_type", "TestOrder"], ["resource_id", 527], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.981155"], ["updated_at", "2025-10-15 21:52:27.981155"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 528], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 528], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:27.983982"], ["updated_at", "2025-10-15 21:52:27.983982"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 472], ["resource_type", "TestOrder"], ["resource_id", 528], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 472], ["resource_type", "TestOrder"], ["resource_id", 528], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 472], ["resource_type", "TestOrder"], ["resource_id", 528], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 472], ["resource_type", "TestOrder"], ["resource_id", 528], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.989738"], ["updated_at", "2025-10-15 21:52:27.989738"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 529], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 529], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:27.992169"], ["updated_at", "2025-10-15 21:52:27.992169"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 473], ["resource_type", "TestOrder"], ["resource_id", 529], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 473], ["resource_type", "TestOrder"], ["resource_id", 529], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:27.999035"], ["updated_at", "2025-10-15 21:52:27.999035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 530], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 530], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:28.001714"], ["updated_at", "2025-10-15 21:52:28.001714"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.004147"], ["updated_at", "2025-10-15 21:52:28.004147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 531], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 531], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:28.005836"], ["updated_at", "2025-10-15 21:52:28.005836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.008060"], ["updated_at", "2025-10-15 21:52:28.008060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 532], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 532], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:28.010332"], ["updated_at", "2025-10-15 21:52:28.010332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.023228"], ["updated_at", "2025-10-15 21:52:28.023228"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 533], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 533], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:28.025313"], ["updated_at", "2025-10-15 21:52:28.025313"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.027540"], ["updated_at", "2025-10-15 21:52:28.027540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 534], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 534], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:28.029550"], ["updated_at", "2025-10-15 21:52:28.029550"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.032447"], ["updated_at", "2025-10-15 21:52:28.032447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 535], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 535], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:28.034380"], ["updated_at", "2025-10-15 21:52:28.034380"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.036926"], ["updated_at", "2025-10-15 21:52:28.036926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 536], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 536], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:28.038596"], ["updated_at", "2025-10-15 21:52:28.038596"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.041174"], ["updated_at", "2025-10-15 21:52:28.041174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 537], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 537], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:28.042783"], ["updated_at", "2025-10-15 21:52:28.042783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.045654"], ["updated_at", "2025-10-15 21:52:28.045654"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 538], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 538], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:28.047321"], ["updated_at", "2025-10-15 21:52:28.047321"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 482], ["resource_type", "TestOrder"], ["resource_id", 538], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.050123"], ["updated_at", "2025-10-15 21:52:28.050123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 539], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 539], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:28.051755"], ["updated_at", "2025-10-15 21:52:28.051755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 483], ["resource_type", "TestOrder"], ["resource_id", 539], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 21:52:28.053070"], ["id", 483]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.056562"], ["updated_at", "2025-10-15 21:52:28.056562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 540], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 540], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 21:52:28.058240"], ["updated_at", "2025-10-15 21:52:28.058240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.061113"], ["updated_at", "2025-10-15 21:52:28.061113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 541], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 541], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 21:52:28.063058"], ["updated_at", "2025-10-15 21:52:28.063058"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:28.065851"], ["updated_at", "2025-10-15 21:52:28.065851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 542], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 542], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 21:52:28.068165"], ["updated_at", "2025-10-15 21:52:28.068165"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.107379"], ["updated_at", "2025-10-15 21:52:45.107379"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 543], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.157821"], ["updated_at", "2025-10-15 21:52:45.157821"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 544], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 544], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 544], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:52:45.163116"], ["updated_at", "2025-10-15 21:52:45.163116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.165802"], ["updated_at", "2025-10-15 21:52:45.165802"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 545], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.168927"], ["updated_at", "2025-10-15 21:52:45.168927"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 546], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.171801"], ["updated_at", "2025-10-15 21:52:45.171801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 547], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.174714"], ["updated_at", "2025-10-15 21:52:45.174714"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 548], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.177198"], ["updated_at", "2025-10-15 21:52:45.177198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 549], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.180911"], ["updated_at", "2025-10-15 21:52:45.180911"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.184696"], ["updated_at", "2025-10-15 21:52:45.184696"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.187784"], ["updated_at", "2025-10-15 21:52:45.187784"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.189628"], ["updated_at", "2025-10-15 21:52:45.189628"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.191631"], ["updated_at", "2025-10-15 21:52:45.191631"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.194256"], ["updated_at", "2025-10-15 21:52:45.194256"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.197843"], ["updated_at", "2025-10-15 21:52:45.197843"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 556], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 556], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 556], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:52:45.201376"], ["updated_at", "2025-10-15 21:52:45.201376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.205291"], ["updated_at", "2025-10-15 21:52:45.205291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 557], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 557], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 557], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 21:52:45.207874"], ["updated_at", "2025-10-15 21:52:45.207874"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.210367"], ["updated_at", "2025-10-15 21:52:45.210367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 558], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 558], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 558], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:52:45.216654"], ["updated_at", "2025-10-15 21:52:45.216654"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.220120"], ["updated_at", "2025-10-15 21:52:45.220120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.222267"], ["updated_at", "2025-10-15 21:52:45.222267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 560], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 560], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 560], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:45.225091"], ["updated_at", "2025-10-15 21:52:45.225091"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 491], ["resource_type", "TestOrder"], ["resource_id", 560], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 21:52:45.230080"], ["id", 491]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.232773"], ["updated_at", "2025-10-15 21:52:45.232773"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 561], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.235999"], ["updated_at", "2025-10-15 21:52:45.235999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 562], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 562], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 562], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 21:52:45.238731"], ["updated_at", "2025-10-15 21:52:45.238731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.242007"], ["updated_at", "2025-10-15 21:52:45.242007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 563], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.244435"], ["updated_at", "2025-10-15 21:52:45.244435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 564], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 564], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 564], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 21:52:45.246689"], ["updated_at", "2025-10-15 21:52:45.246689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.250988"], ["updated_at", "2025-10-15 21:52:45.250988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 565], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 565], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 565], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:45.254026"], ["updated_at", "2025-10-15 21:52:45.254026"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.254763"], ["updated_at", "2025-10-15 21:52:45.254763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 566], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.257319"], ["updated_at", "2025-10-15 21:52:45.257319"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 567], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 567], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 567], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:45.259640"], ["updated_at", "2025-10-15 21:52:45.259640"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.262279"], ["updated_at", "2025-10-15 21:52:45.262279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 568], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 568], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 568], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:52:45.264910"], ["updated_at", "2025-10-15 21:52:45.264910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.267095"], ["updated_at", "2025-10-15 21:52:45.267095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 569], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 569], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 569], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 21:52:45.269800"], ["updated_at", "2025-10-15 21:52:45.269800"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.271737"], ["updated_at", "2025-10-15 21:52:45.271737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 570], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 570], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 570], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:45.274465"], ["updated_at", "2025-10-15 21:52:45.274465"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 570], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 570], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 570], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:52:45.276190"], ["updated_at", "2025-10-15 21:52:45.276190"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 570], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 570], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 570], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 21:52:45.278008"], ["updated_at", "2025-10-15 21:52:45.278008"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 570], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 570], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.283142"], ["updated_at", "2025-10-15 21:52:45.283142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 571], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 571], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 571], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 21:52:45.286669"], ["updated_at", "2025-10-15 21:52:45.286669"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.5ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 571], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 501]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 501]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 571], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 571], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 571]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 501], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.304683"], ["updated_at", "2025-10-15 21:52:45.304683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 572], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 572], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:45.307183"], ["updated_at", "2025-10-15 21:52:45.307183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 502], ["resource_type", "TestOrder"], ["resource_id", 572], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 502], ["resource_type", "TestOrder"], ["resource_id", 572], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.319180"], ["updated_at", "2025-10-15 21:52:45.319180"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 573], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 573], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:45.321689"], ["updated_at", "2025-10-15 21:52:45.321689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 503], ["resource_type", "TestOrder"], ["resource_id", 573], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 503], ["resource_type", "TestOrder"], ["resource_id", 573], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.333404"], ["updated_at", "2025-10-15 21:52:45.333404"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 574], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 574], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:45.335881"], ["updated_at", "2025-10-15 21:52:45.335881"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 504], ["resource_type", "TestOrder"], ["resource_id", 574], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.344675"], ["updated_at", "2025-10-15 21:52:45.344675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 575], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 575], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:45.347209"], ["updated_at", "2025-10-15 21:52:45.347209"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 505], ["resource_type", "TestOrder"], ["resource_id", 575], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 505], ["resource_type", "TestOrder"], ["resource_id", 575], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 505], ["resource_type", "TestOrder"], ["resource_id", 575], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 505], ["resource_type", "TestOrder"], ["resource_id", 575], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.353703"], ["updated_at", "2025-10-15 21:52:45.353703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 576], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 576], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:45.355581"], ["updated_at", "2025-10-15 21:52:45.355581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 506], ["resource_type", "TestOrder"], ["resource_id", 576], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 506], ["resource_type", "TestOrder"], ["resource_id", 576], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.362223"], ["updated_at", "2025-10-15 21:52:45.362223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 577], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 577], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:45.364154"], ["updated_at", "2025-10-15 21:52:45.364154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.366545"], ["updated_at", "2025-10-15 21:52:45.366545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 578], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 578], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:45.368403"], ["updated_at", "2025-10-15 21:52:45.368403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.370838"], ["updated_at", "2025-10-15 21:52:45.370838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 579], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 579], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:45.372494"], ["updated_at", "2025-10-15 21:52:45.372494"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.385761"], ["updated_at", "2025-10-15 21:52:45.385761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 580], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 580], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:45.388687"], ["updated_at", "2025-10-15 21:52:45.388687"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.391997"], ["updated_at", "2025-10-15 21:52:45.391997"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 581], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 581], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 21:52:45.394137"], ["updated_at", "2025-10-15 21:52:45.394137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.397873"], ["updated_at", "2025-10-15 21:52:45.397873"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 582], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 582], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:45.400198"], ["updated_at", "2025-10-15 21:52:45.400198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.403411"], ["updated_at", "2025-10-15 21:52:45.403411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 583], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 583], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:45.405945"], ["updated_at", "2025-10-15 21:52:45.405945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.409276"], ["updated_at", "2025-10-15 21:52:45.409276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 584], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 584], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 21:52:45.412058"], ["updated_at", "2025-10-15 21:52:45.412058"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.415367"], ["updated_at", "2025-10-15 21:52:45.415367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 585], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 585], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:45.417845"], ["updated_at", "2025-10-15 21:52:45.417845"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 515], ["resource_type", "TestOrder"], ["resource_id", 585], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.421157"], ["updated_at", "2025-10-15 21:52:45.421157"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 586], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 586], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 21:52:45.423457"], ["updated_at", "2025-10-15 21:52:45.423457"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 516], ["resource_type", "TestOrder"], ["resource_id", 586], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 21:52:45.425501"], ["id", 516]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 516], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.429015"], ["updated_at", "2025-10-15 21:52:45.429015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 587], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 587], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 21:52:45.430925"], ["updated_at", "2025-10-15 21:52:45.430925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.433410"], ["updated_at", "2025-10-15 21:52:45.433410"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 588], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 588], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 21:52:45.435319"], ["updated_at", "2025-10-15 21:52:45.435319"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 21:52:45.437786"], ["updated_at", "2025-10-15 21:52:45.437786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 589], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 589], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 21:52:45.439353"], ["updated_at", "2025-10-15 21:52:45.439353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.232995"], ["updated_at", "2025-10-15 22:10:53.232995"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.238032"], ["updated_at", "2025-10-15 22:10:53.238032"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.240212"], ["updated_at", "2025-10-15 22:10:53.240212"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.241897"], ["updated_at", "2025-10-15 22:10:53.241897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.243525"], ["updated_at", "2025-10-15 22:10:53.243525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.245653"], ["updated_at", "2025-10-15 22:10:53.245653"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.248622"], ["updated_at", "2025-10-15 22:10:53.248622"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 596], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 596], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 596], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:10:53.264003"], ["updated_at", "2025-10-15 22:10:53.264003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.268009"], ["updated_at", "2025-10-15 22:10:53.268009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 597], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 597], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 597], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:10:53.270811"], ["updated_at", "2025-10-15 22:10:53.270811"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.273212"], ["updated_at", "2025-10-15 22:10:53.273212"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 598], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 598], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 598], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:10:53.279367"], ["updated_at", "2025-10-15 22:10:53.279367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.282712"], ["updated_at", "2025-10-15 22:10:53.282712"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.286003"], ["updated_at", "2025-10-15 22:10:53.286003"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 600], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 600], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 600], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:10:53.289020"], ["updated_at", "2025-10-15 22:10:53.289020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 523], ["resource_type", "TestOrder"], ["resource_id", 600], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:10:53.295259"], ["id", 523]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.298538"], ["updated_at", "2025-10-15 22:10:53.298538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 601], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.303217"], ["updated_at", "2025-10-15 22:10:53.303217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 602], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 602], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 602], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:10:53.306921"], ["updated_at", "2025-10-15 22:10:53.306921"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.310193"], ["updated_at", "2025-10-15 22:10:53.310193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 603], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.313730"], ["updated_at", "2025-10-15 22:10:53.313730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 604], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 604], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 604], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:10:53.316776"], ["updated_at", "2025-10-15 22:10:53.316776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.320849"], ["updated_at", "2025-10-15 22:10:53.320849"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 605], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 605], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 605], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:10:53.323573"], ["updated_at", "2025-10-15 22:10:53.323573"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.324336"], ["updated_at", "2025-10-15 22:10:53.324336"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 606], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.327093"], ["updated_at", "2025-10-15 22:10:53.327093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 607], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 607], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 607], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:10:53.330042"], ["updated_at", "2025-10-15 22:10:53.330042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.332391"], ["updated_at", "2025-10-15 22:10:53.332391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 608], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 608], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 608], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:10:53.335304"], ["updated_at", "2025-10-15 22:10:53.335304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.337377"], ["updated_at", "2025-10-15 22:10:53.337377"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 609], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 609], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 609], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:10:53.340945"], ["updated_at", "2025-10-15 22:10:53.340945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.344268"], ["updated_at", "2025-10-15 22:10:53.344268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 610], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 610], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 610], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:10:53.348439"], ["updated_at", "2025-10-15 22:10:53.348439"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 610], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 610], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 610], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:10:53.352908"], ["updated_at", "2025-10-15 22:10:53.352908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 610], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 610], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 610], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:10:53.357219"], ["updated_at", "2025-10-15 22:10:53.357219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.3ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 610], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 610], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.367276"], ["updated_at", "2025-10-15 22:10:53.367276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 611], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 611], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 611], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:10:53.373278"], ["updated_at", "2025-10-15 22:10:53.373278"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 611], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 533]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 533]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 611], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 611], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.6ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 611]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 533], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.395763"], ["updated_at", "2025-10-15 22:10:53.395763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 612], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 612], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:10:53.398921"], ["updated_at", "2025-10-15 22:10:53.398921"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 534], ["resource_type", "TestOrder"], ["resource_id", 612], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 534], ["resource_type", "TestOrder"], ["resource_id", 612], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.406976"], ["updated_at", "2025-10-15 22:10:53.406976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 613], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 613], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:10:53.409824"], ["updated_at", "2025-10-15 22:10:53.409824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 535], ["resource_type", "TestOrder"], ["resource_id", 613], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 535], ["resource_type", "TestOrder"], ["resource_id", 613], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.415335"], ["updated_at", "2025-10-15 22:10:53.415335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 614], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 614], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:10:53.417838"], ["updated_at", "2025-10-15 22:10:53.417838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 536], ["resource_type", "TestOrder"], ["resource_id", 614], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.423573"], ["updated_at", "2025-10-15 22:10:53.423573"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 615], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 615], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:10:53.426178"], ["updated_at", "2025-10-15 22:10:53.426178"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 537], ["resource_type", "TestOrder"], ["resource_id", 615], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 537], ["resource_type", "TestOrder"], ["resource_id", 615], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 537], ["resource_type", "TestOrder"], ["resource_id", 615], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 537], ["resource_type", "TestOrder"], ["resource_id", 615], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.431812"], ["updated_at", "2025-10-15 22:10:53.431812"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 616], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 616], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:10:53.434029"], ["updated_at", "2025-10-15 22:10:53.434029"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 538], ["resource_type", "TestOrder"], ["resource_id", 616], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 538], ["resource_type", "TestOrder"], ["resource_id", 616], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.441589"], ["updated_at", "2025-10-15 22:10:53.441589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 617], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 617], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:10:53.444194"], ["updated_at", "2025-10-15 22:10:53.444194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.446943"], ["updated_at", "2025-10-15 22:10:53.446943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 618], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 618], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:10:53.448916"], ["updated_at", "2025-10-15 22:10:53.448916"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.451257"], ["updated_at", "2025-10-15 22:10:53.451257"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 619], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 619], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:10:53.453901"], ["updated_at", "2025-10-15 22:10:53.453901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.467275"], ["updated_at", "2025-10-15 22:10:53.467275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 620], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 620], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:10:53.469733"], ["updated_at", "2025-10-15 22:10:53.469733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.472239"], ["updated_at", "2025-10-15 22:10:53.472239"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 621], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 621], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:10:53.475334"], ["updated_at", "2025-10-15 22:10:53.475334"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.481399"], ["updated_at", "2025-10-15 22:10:53.481399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 622], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 622], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:10:53.483614"], ["updated_at", "2025-10-15 22:10:53.483614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.486816"], ["updated_at", "2025-10-15 22:10:53.486816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 623], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 623], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:10:53.489095"], ["updated_at", "2025-10-15 22:10:53.489095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.492270"], ["updated_at", "2025-10-15 22:10:53.492270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 624], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 624], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:10:53.494250"], ["updated_at", "2025-10-15 22:10:53.494250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.497293"], ["updated_at", "2025-10-15 22:10:53.497293"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 625], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 625], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:10:53.499181"], ["updated_at", "2025-10-15 22:10:53.499181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 547], ["resource_type", "TestOrder"], ["resource_id", 625], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.502288"], ["updated_at", "2025-10-15 22:10:53.502288"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 626], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 626], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:10:53.504244"], ["updated_at", "2025-10-15 22:10:53.504244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 548], ["resource_type", "TestOrder"], ["resource_id", 626], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:10:53.505908"], ["id", 548]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 548], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.509831"], ["updated_at", "2025-10-15 22:10:53.509831"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 627], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 627], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:10:53.511965"], ["updated_at", "2025-10-15 22:10:53.511965"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.514484"], ["updated_at", "2025-10-15 22:10:53.514484"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 628], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 628], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:10:53.516406"], ["updated_at", "2025-10-15 22:10:53.516406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:10:53.519194"], ["updated_at", "2025-10-15 22:10:53.519194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 629], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 629], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:10:53.521245"], ["updated_at", "2025-10-15 22:10:53.521245"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.376986"], ["updated_at", "2025-10-15 22:13:07.376986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.381323"], ["updated_at", "2025-10-15 22:13:07.381323"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.383762"], ["updated_at", "2025-10-15 22:13:07.383762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.385670"], ["updated_at", "2025-10-15 22:13:07.385670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.387268"], ["updated_at", "2025-10-15 22:13:07.387268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.389734"], ["updated_at", "2025-10-15 22:13:07.389734"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.392028"], ["updated_at", "2025-10-15 22:13:07.392028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 636], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 636], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 636], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:13:07.407025"], ["updated_at", "2025-10-15 22:13:07.407025"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.410508"], ["updated_at", "2025-10-15 22:13:07.410508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 637], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 637], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 637], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:13:07.413036"], ["updated_at", "2025-10-15 22:13:07.413036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.415562"], ["updated_at", "2025-10-15 22:13:07.415562"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 638], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 638], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 638], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:13:07.422246"], ["updated_at", "2025-10-15 22:13:07.422246"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.425143"], ["updated_at", "2025-10-15 22:13:07.425143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.427129"], ["updated_at", "2025-10-15 22:13:07.427129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 640], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 640], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 640], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:13:07.429317"], ["updated_at", "2025-10-15 22:13:07.429317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 555], ["resource_type", "TestOrder"], ["resource_id", 640], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:13:07.433864"], ["id", 555]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.436675"], ["updated_at", "2025-10-15 22:13:07.436675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 641], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.439930"], ["updated_at", "2025-10-15 22:13:07.439930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 642], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 642], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 642], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:13:07.442159"], ["updated_at", "2025-10-15 22:13:07.442159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.444888"], ["updated_at", "2025-10-15 22:13:07.444888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 643], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.448103"], ["updated_at", "2025-10-15 22:13:07.448103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 644], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 644], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 644], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:13:07.452335"], ["updated_at", "2025-10-15 22:13:07.452335"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.455879"], ["updated_at", "2025-10-15 22:13:07.455879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 645], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 645], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 645], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:13:07.458520"], ["updated_at", "2025-10-15 22:13:07.458520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.459304"], ["updated_at", "2025-10-15 22:13:07.459304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 646], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.461906"], ["updated_at", "2025-10-15 22:13:07.461906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 647], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 647], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 647], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:13:07.464519"], ["updated_at", "2025-10-15 22:13:07.464519"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.466747"], ["updated_at", "2025-10-15 22:13:07.466747"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 648], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 648], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 648], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:13:07.469334"], ["updated_at", "2025-10-15 22:13:07.469334"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.471011"], ["updated_at", "2025-10-15 22:13:07.471011"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 649], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 649], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 649], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:13:07.473265"], ["updated_at", "2025-10-15 22:13:07.473265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.476019"], ["updated_at", "2025-10-15 22:13:07.476019"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 650], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 650], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 650], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:13:07.479251"], ["updated_at", "2025-10-15 22:13:07.479251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 650], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 650], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 650], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:13:07.481962"], ["updated_at", "2025-10-15 22:13:07.481962"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 650], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 650], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 650], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:13:07.484816"], ["updated_at", "2025-10-15 22:13:07.484816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 650], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 650], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.494251"], ["updated_at", "2025-10-15 22:13:07.494251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 651], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 651], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 651], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:13:07.498884"], ["updated_at", "2025-10-15 22:13:07.498884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 651], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 565]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 565]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 651], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 651], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 651]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 565], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.517645"], ["updated_at", "2025-10-15 22:13:07.517645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 652], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 652], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:13:07.520363"], ["updated_at", "2025-10-15 22:13:07.520363"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 566], ["resource_type", "TestOrder"], ["resource_id", 652], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 566], ["resource_type", "TestOrder"], ["resource_id", 652], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.529135"], ["updated_at", "2025-10-15 22:13:07.529135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 653], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 653], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:13:07.530692"], ["updated_at", "2025-10-15 22:13:07.530692"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 567], ["resource_type", "TestOrder"], ["resource_id", 653], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 567], ["resource_type", "TestOrder"], ["resource_id", 653], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.535474"], ["updated_at", "2025-10-15 22:13:07.535474"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 654], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 654], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:13:07.536987"], ["updated_at", "2025-10-15 22:13:07.536987"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 568], ["resource_type", "TestOrder"], ["resource_id", 654], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.540282"], ["updated_at", "2025-10-15 22:13:07.540282"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 655], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 655], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:13:07.542481"], ["updated_at", "2025-10-15 22:13:07.542481"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 569], ["resource_type", "TestOrder"], ["resource_id", 655], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 569], ["resource_type", "TestOrder"], ["resource_id", 655], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 569], ["resource_type", "TestOrder"], ["resource_id", 655], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 569], ["resource_type", "TestOrder"], ["resource_id", 655], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.546901"], ["updated_at", "2025-10-15 22:13:07.546901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 656], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 656], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:13:07.548285"], ["updated_at", "2025-10-15 22:13:07.548285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 570], ["resource_type", "TestOrder"], ["resource_id", 656], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 570], ["resource_type", "TestOrder"], ["resource_id", 656], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.554157"], ["updated_at", "2025-10-15 22:13:07.554157"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 657], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 657], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:13:07.556004"], ["updated_at", "2025-10-15 22:13:07.556004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.558102"], ["updated_at", "2025-10-15 22:13:07.558102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 658], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 658], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:13:07.559986"], ["updated_at", "2025-10-15 22:13:07.559986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.562723"], ["updated_at", "2025-10-15 22:13:07.562723"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 659], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 659], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:13:07.564623"], ["updated_at", "2025-10-15 22:13:07.564623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.577525"], ["updated_at", "2025-10-15 22:13:07.577525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 660], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 660], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:13:07.579846"], ["updated_at", "2025-10-15 22:13:07.579846"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.582143"], ["updated_at", "2025-10-15 22:13:07.582143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 661], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 661], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:13:07.583923"], ["updated_at", "2025-10-15 22:13:07.583923"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.588917"], ["updated_at", "2025-10-15 22:13:07.588917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 662], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 662], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:13:07.590603"], ["updated_at", "2025-10-15 22:13:07.590603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.592981"], ["updated_at", "2025-10-15 22:13:07.592981"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 663], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 663], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:13:07.594868"], ["updated_at", "2025-10-15 22:13:07.594868"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.597158"], ["updated_at", "2025-10-15 22:13:07.597158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 664], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 664], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:13:07.598725"], ["updated_at", "2025-10-15 22:13:07.598725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.601272"], ["updated_at", "2025-10-15 22:13:07.601272"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 665], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 665], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:13:07.603010"], ["updated_at", "2025-10-15 22:13:07.603010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 579], ["resource_type", "TestOrder"], ["resource_id", 665], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.605624"], ["updated_at", "2025-10-15 22:13:07.605624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 666], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 666], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:13:07.607171"], ["updated_at", "2025-10-15 22:13:07.607171"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 580], ["resource_type", "TestOrder"], ["resource_id", 666], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:13:07.608651"], ["id", 580]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 580], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.611736"], ["updated_at", "2025-10-15 22:13:07.611736"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 667], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 667], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:13:07.613251"], ["updated_at", "2025-10-15 22:13:07.613251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.615176"], ["updated_at", "2025-10-15 22:13:07.615176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 668], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 668], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:13:07.616769"], ["updated_at", "2025-10-15 22:13:07.616769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:13:07.619327"], ["updated_at", "2025-10-15 22:13:07.619327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 669], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 669], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:13:07.621101"], ["updated_at", "2025-10-15 22:13:07.621101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.841616"], ["updated_at", "2025-10-15 22:14:04.841616"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.845805"], ["updated_at", "2025-10-15 22:14:04.845805"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.847600"], ["updated_at", "2025-10-15 22:14:04.847600"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.849075"], ["updated_at", "2025-10-15 22:14:04.849075"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.850553"], ["updated_at", "2025-10-15 22:14:04.850553"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.852861"], ["updated_at", "2025-10-15 22:14:04.852861"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.855284"], ["updated_at", "2025-10-15 22:14:04.855284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 676], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 676], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 676], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:14:04.871220"], ["updated_at", "2025-10-15 22:14:04.871220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.875441"], ["updated_at", "2025-10-15 22:14:04.875441"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 677], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 677], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 677], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:14:04.878307"], ["updated_at", "2025-10-15 22:14:04.878307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.880601"], ["updated_at", "2025-10-15 22:14:04.880601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 678], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 678], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 678], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:14:04.886129"], ["updated_at", "2025-10-15 22:14:04.886129"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.888775"], ["updated_at", "2025-10-15 22:14:04.888775"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.890922"], ["updated_at", "2025-10-15 22:14:04.890922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 680], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 680], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 680], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:04.893394"], ["updated_at", "2025-10-15 22:14:04.893394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 587], ["resource_type", "TestOrder"], ["resource_id", 680], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:14:04.899011"], ["id", 587]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.902476"], ["updated_at", "2025-10-15 22:14:04.902476"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 681], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.907427"], ["updated_at", "2025-10-15 22:14:04.907427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 682], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 682], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 682], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:14:04.909877"], ["updated_at", "2025-10-15 22:14:04.909877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.912496"], ["updated_at", "2025-10-15 22:14:04.912496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 683], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.915135"], ["updated_at", "2025-10-15 22:14:04.915135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 684], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 684], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 684], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:14:04.917814"], ["updated_at", "2025-10-15 22:14:04.917814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.921165"], ["updated_at", "2025-10-15 22:14:04.921165"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 685], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 685], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 685], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:04.923633"], ["updated_at", "2025-10-15 22:14:04.923633"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.924409"], ["updated_at", "2025-10-15 22:14:04.924409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 686], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.926960"], ["updated_at", "2025-10-15 22:14:04.926960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 687], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 687], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 687], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:04.929707"], ["updated_at", "2025-10-15 22:14:04.929707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.932053"], ["updated_at", "2025-10-15 22:14:04.932053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 688], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 688], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 688], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:14:04.935024"], ["updated_at", "2025-10-15 22:14:04.935024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.937563"], ["updated_at", "2025-10-15 22:14:04.937563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 689], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 689], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 689], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:14:04.941120"], ["updated_at", "2025-10-15 22:14:04.941120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.943663"], ["updated_at", "2025-10-15 22:14:04.943663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 690], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 690], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 690], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:04.947987"], ["updated_at", "2025-10-15 22:14:04.947987"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 690], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 690], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 690], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:14:04.950629"], ["updated_at", "2025-10-15 22:14:04.950629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 690], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 690], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 690], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:14:04.953713"], ["updated_at", "2025-10-15 22:14:04.953713"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 690], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 690], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.963170"], ["updated_at", "2025-10-15 22:14:04.963170"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 691], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 691], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 691], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:14:04.967461"], ["updated_at", "2025-10-15 22:14:04.967461"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 691], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 597]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 597]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 691], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 691], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 691]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 597], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.987466"], ["updated_at", "2025-10-15 22:14:04.987466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 692], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 692], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:04.990193"], ["updated_at", "2025-10-15 22:14:04.990193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 598], ["resource_type", "TestOrder"], ["resource_id", 692], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 598], ["resource_type", "TestOrder"], ["resource_id", 692], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:04.999377"], ["updated_at", "2025-10-15 22:14:04.999377"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 693], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 693], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:05.000958"], ["updated_at", "2025-10-15 22:14:05.000958"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 599], ["resource_type", "TestOrder"], ["resource_id", 693], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 599], ["resource_type", "TestOrder"], ["resource_id", 693], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.005702"], ["updated_at", "2025-10-15 22:14:05.005702"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 694], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 694], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:05.007273"], ["updated_at", "2025-10-15 22:14:05.007273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 600], ["resource_type", "TestOrder"], ["resource_id", 694], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.010681"], ["updated_at", "2025-10-15 22:14:05.010681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 695], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 695], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:05.012646"], ["updated_at", "2025-10-15 22:14:05.012646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 601], ["resource_type", "TestOrder"], ["resource_id", 695], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 601], ["resource_type", "TestOrder"], ["resource_id", 695], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 601], ["resource_type", "TestOrder"], ["resource_id", 695], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 601], ["resource_type", "TestOrder"], ["resource_id", 695], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.016797"], ["updated_at", "2025-10-15 22:14:05.016797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 696], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 696], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:05.018280"], ["updated_at", "2025-10-15 22:14:05.018280"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 602], ["resource_type", "TestOrder"], ["resource_id", 696], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 602], ["resource_type", "TestOrder"], ["resource_id", 696], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.023604"], ["updated_at", "2025-10-15 22:14:05.023604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 697], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 697], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:05.025793"], ["updated_at", "2025-10-15 22:14:05.025793"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.028667"], ["updated_at", "2025-10-15 22:14:05.028667"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 698], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 698], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:05.031218"], ["updated_at", "2025-10-15 22:14:05.031218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.033284"], ["updated_at", "2025-10-15 22:14:05.033284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 699], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 699], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:05.034943"], ["updated_at", "2025-10-15 22:14:05.034943"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.047545"], ["updated_at", "2025-10-15 22:14:05.047545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 700], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 700], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:05.049468"], ["updated_at", "2025-10-15 22:14:05.049468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.051704"], ["updated_at", "2025-10-15 22:14:05.051704"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 701], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 701], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:05.053469"], ["updated_at", "2025-10-15 22:14:05.053469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.058193"], ["updated_at", "2025-10-15 22:14:05.058193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 702], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 702], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:05.059988"], ["updated_at", "2025-10-15 22:14:05.059988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.062491"], ["updated_at", "2025-10-15 22:14:05.062491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 703], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 703], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:05.064187"], ["updated_at", "2025-10-15 22:14:05.064187"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.066367"], ["updated_at", "2025-10-15 22:14:05.066367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 704], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 704], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:05.068054"], ["updated_at", "2025-10-15 22:14:05.068054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.070359"], ["updated_at", "2025-10-15 22:14:05.070359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 705], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 705], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:05.072077"], ["updated_at", "2025-10-15 22:14:05.072077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 611], ["resource_type", "TestOrder"], ["resource_id", 705], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.074437"], ["updated_at", "2025-10-15 22:14:05.074437"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 706], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 706], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:05.075968"], ["updated_at", "2025-10-15 22:14:05.075968"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 612], ["resource_type", "TestOrder"], ["resource_id", 706], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:14:05.077392"], ["id", 612]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 612], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.080472"], ["updated_at", "2025-10-15 22:14:05.080472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 707], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 707], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:14:05.081936"], ["updated_at", "2025-10-15 22:14:05.081936"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.083909"], ["updated_at", "2025-10-15 22:14:05.083909"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 708], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 708], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:14:05.085614"], ["updated_at", "2025-10-15 22:14:05.085614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:05.087868"], ["updated_at", "2025-10-15 22:14:05.087868"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 709], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 709], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:14:05.089932"], ["updated_at", "2025-10-15 22:14:05.089932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.904658"], ["updated_at", "2025-10-15 22:14:29.904658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 710], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 710], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 710], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:14:29.917751"], ["updated_at", "2025-10-15 22:14:29.917751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.929518"], ["updated_at", "2025-10-15 22:14:29.929518"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.932513"], ["updated_at", "2025-10-15 22:14:29.932513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.934955"], ["updated_at", "2025-10-15 22:14:29.934955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.937357"], ["updated_at", "2025-10-15 22:14:29.937357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.939641"], ["updated_at", "2025-10-15 22:14:29.939641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.942065"], ["updated_at", "2025-10-15 22:14:29.942065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.945496"], ["updated_at", "2025-10-15 22:14:29.945496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 717], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 717], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 717], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:14:29.947981"], ["updated_at", "2025-10-15 22:14:29.947981"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.950899"], ["updated_at", "2025-10-15 22:14:29.950899"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 718], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 718], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 718], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:14:29.953056"], ["updated_at", "2025-10-15 22:14:29.953056"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.956158"], ["updated_at", "2025-10-15 22:14:29.956158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 719], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 719], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 719], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:14:29.962852"], ["updated_at", "2025-10-15 22:14:29.962852"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.965407"], ["updated_at", "2025-10-15 22:14:29.965407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.967751"], ["updated_at", "2025-10-15 22:14:29.967751"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 721], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 721], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 721], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:29.970027"], ["updated_at", "2025-10-15 22:14:29.970027"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 620], ["resource_type", "TestOrder"], ["resource_id", 721], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:14:29.974301"], ["id", 620]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.977279"], ["updated_at", "2025-10-15 22:14:29.977279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 722], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.980307"], ["updated_at", "2025-10-15 22:14:29.980307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 723], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 723], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 723], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:14:29.983536"], ["updated_at", "2025-10-15 22:14:29.983536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.987154"], ["updated_at", "2025-10-15 22:14:29.987154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 724], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:29.990860"], ["updated_at", "2025-10-15 22:14:29.990860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 725], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 725], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 725], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:14:29.995452"], ["updated_at", "2025-10-15 22:14:29.995452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.001338"], ["updated_at", "2025-10-15 22:14:30.001338"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 726], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (1.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 726], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 726], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:30.012815"], ["updated_at", "2025-10-15 22:14:30.012815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.013749"], ["updated_at", "2025-10-15 22:14:30.013749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 727], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.020248"], ["updated_at", "2025-10-15 22:14:30.020248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 728], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 728], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 728], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:30.025071"], ["updated_at", "2025-10-15 22:14:30.025071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.030685"], ["updated_at", "2025-10-15 22:14:30.030685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 729], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 729], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 729], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:14:30.034181"], ["updated_at", "2025-10-15 22:14:30.034181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.038099"], ["updated_at", "2025-10-15 22:14:30.038099"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 730], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 730], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 730], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:14:30.042525"], ["updated_at", "2025-10-15 22:14:30.042525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.046298"], ["updated_at", "2025-10-15 22:14:30.046298"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 731], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 731], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 731], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:30.050631"], ["updated_at", "2025-10-15 22:14:30.050631"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 731], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 731], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 731], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:14:30.054045"], ["updated_at", "2025-10-15 22:14:30.054045"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 731], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 731], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 731], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:14:30.056678"], ["updated_at", "2025-10-15 22:14:30.056678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 731], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 731], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.064913"], ["updated_at", "2025-10-15 22:14:30.064913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 732], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 732], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 732], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:14:30.068739"], ["updated_at", "2025-10-15 22:14:30.068739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 732], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 630]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 630]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 732], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 732], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 732]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 630], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.081114"], ["updated_at", "2025-10-15 22:14:30.081114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 733], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 733], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:30.082932"], ["updated_at", "2025-10-15 22:14:30.082932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 631], ["resource_type", "TestOrder"], ["resource_id", 733], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 631], ["resource_type", "TestOrder"], ["resource_id", 733], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.088068"], ["updated_at", "2025-10-15 22:14:30.088068"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 734], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 734], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:30.090182"], ["updated_at", "2025-10-15 22:14:30.090182"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 632], ["resource_type", "TestOrder"], ["resource_id", 734], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 632], ["resource_type", "TestOrder"], ["resource_id", 734], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.094675"], ["updated_at", "2025-10-15 22:14:30.094675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 735], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 735], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:30.096250"], ["updated_at", "2025-10-15 22:14:30.096250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 633], ["resource_type", "TestOrder"], ["resource_id", 735], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.099638"], ["updated_at", "2025-10-15 22:14:30.099638"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 736], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 736], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:30.101083"], ["updated_at", "2025-10-15 22:14:30.101083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 634], ["resource_type", "TestOrder"], ["resource_id", 736], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 634], ["resource_type", "TestOrder"], ["resource_id", 736], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 634], ["resource_type", "TestOrder"], ["resource_id", 736], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 634], ["resource_type", "TestOrder"], ["resource_id", 736], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.106010"], ["updated_at", "2025-10-15 22:14:30.106010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 737], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 737], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:30.107500"], ["updated_at", "2025-10-15 22:14:30.107500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 635], ["resource_type", "TestOrder"], ["resource_id", 737], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 635], ["resource_type", "TestOrder"], ["resource_id", 737], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.113769"], ["updated_at", "2025-10-15 22:14:30.113769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 738], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 738], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:30.115716"], ["updated_at", "2025-10-15 22:14:30.115716"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.117858"], ["updated_at", "2025-10-15 22:14:30.117858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 739], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 739], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:30.119503"], ["updated_at", "2025-10-15 22:14:30.119503"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.121608"], ["updated_at", "2025-10-15 22:14:30.121608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 740], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 740], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:30.123297"], ["updated_at", "2025-10-15 22:14:30.123297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.135247"], ["updated_at", "2025-10-15 22:14:30.135247"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 741], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 741], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:30.137164"], ["updated_at", "2025-10-15 22:14:30.137164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.139718"], ["updated_at", "2025-10-15 22:14:30.139718"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 742], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 742], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:14:30.141248"], ["updated_at", "2025-10-15 22:14:30.141248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.144194"], ["updated_at", "2025-10-15 22:14:30.144194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 743], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 743], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:30.145974"], ["updated_at", "2025-10-15 22:14:30.145974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.148769"], ["updated_at", "2025-10-15 22:14:30.148769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 744], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 744], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:30.150374"], ["updated_at", "2025-10-15 22:14:30.150374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.152434"], ["updated_at", "2025-10-15 22:14:30.152434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 745], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 745], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:14:30.154009"], ["updated_at", "2025-10-15 22:14:30.154009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.156556"], ["updated_at", "2025-10-15 22:14:30.156556"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 746], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 746], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:30.158085"], ["updated_at", "2025-10-15 22:14:30.158085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 644], ["resource_type", "TestOrder"], ["resource_id", 746], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.160786"], ["updated_at", "2025-10-15 22:14:30.160786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 747], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 747], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:14:30.162703"], ["updated_at", "2025-10-15 22:14:30.162703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 645], ["resource_type", "TestOrder"], ["resource_id", 747], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:14:30.163958"], ["id", 645]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 645], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.166940"], ["updated_at", "2025-10-15 22:14:30.166940"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 748], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 748], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:14:30.168721"], ["updated_at", "2025-10-15 22:14:30.168721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.170891"], ["updated_at", "2025-10-15 22:14:30.170891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 749], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 749], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:14:30.172440"], ["updated_at", "2025-10-15 22:14:30.172440"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:14:30.174523"], ["updated_at", "2025-10-15 22:14:30.174523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 750], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 750], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:14:30.176055"], ["updated_at", "2025-10-15 22:14:30.176055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.922015"], ["updated_at", "2025-10-15 22:15:11.922015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 751], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.964318"], ["updated_at", "2025-10-15 22:15:11.964318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 752], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 752], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 752], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:11.969378"], ["updated_at", "2025-10-15 22:15:11.969378"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.971708"], ["updated_at", "2025-10-15 22:15:11.971708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 753], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.974560"], ["updated_at", "2025-10-15 22:15:11.974560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 754], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.978062"], ["updated_at", "2025-10-15 22:15:11.978062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 755], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.982242"], ["updated_at", "2025-10-15 22:15:11.982242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 756], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.986568"], ["updated_at", "2025-10-15 22:15:11.986568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 757], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.990434"], ["updated_at", "2025-10-15 22:15:11.990434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.993232"], ["updated_at", "2025-10-15 22:15:11.993232"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.996233"], ["updated_at", "2025-10-15 22:15:11.996233"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:11.998390"], ["updated_at", "2025-10-15 22:15:11.998390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.000981"], ["updated_at", "2025-10-15 22:15:12.000981"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.003508"], ["updated_at", "2025-10-15 22:15:12.003508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.008409"], ["updated_at", "2025-10-15 22:15:12.008409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 764], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 764], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 764], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:12.011843"], ["updated_at", "2025-10-15 22:15:12.011843"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.015662"], ["updated_at", "2025-10-15 22:15:12.015662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 765], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 765], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 765], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:15:12.018353"], ["updated_at", "2025-10-15 22:15:12.018353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.020717"], ["updated_at", "2025-10-15 22:15:12.020717"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 766], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 766], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 766], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:12.026853"], ["updated_at", "2025-10-15 22:15:12.026853"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.030639"], ["updated_at", "2025-10-15 22:15:12.030639"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.032841"], ["updated_at", "2025-10-15 22:15:12.032841"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 768], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 768], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 768], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:12.035187"], ["updated_at", "2025-10-15 22:15:12.035187"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 653], ["resource_type", "TestOrder"], ["resource_id", 768], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:15:12.040134"], ["id", 653]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.042756"], ["updated_at", "2025-10-15 22:15:12.042756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 769], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.045849"], ["updated_at", "2025-10-15 22:15:12.045849"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 770], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 770], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 770], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:15:12.048358"], ["updated_at", "2025-10-15 22:15:12.048358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.051161"], ["updated_at", "2025-10-15 22:15:12.051161"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 771], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.053325"], ["updated_at", "2025-10-15 22:15:12.053325"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 772], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 772], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 772], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:12.056231"], ["updated_at", "2025-10-15 22:15:12.056231"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.061212"], ["updated_at", "2025-10-15 22:15:12.061212"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 773], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 773], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 773], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:12.064040"], ["updated_at", "2025-10-15 22:15:12.064040"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.064756"], ["updated_at", "2025-10-15 22:15:12.064756"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 774], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.067118"], ["updated_at", "2025-10-15 22:15:12.067118"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 775], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 775], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 775], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:12.069164"], ["updated_at", "2025-10-15 22:15:12.069164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.071405"], ["updated_at", "2025-10-15 22:15:12.071405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 776], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 776], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 776], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:15:12.073334"], ["updated_at", "2025-10-15 22:15:12.073334"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.075031"], ["updated_at", "2025-10-15 22:15:12.075031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 777], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 777], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 777], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:15:12.077277"], ["updated_at", "2025-10-15 22:15:12.077277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.079629"], ["updated_at", "2025-10-15 22:15:12.079629"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 778], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 778], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 778], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:12.082104"], ["updated_at", "2025-10-15 22:15:12.082104"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 778], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 778], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 778], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:15:12.083869"], ["updated_at", "2025-10-15 22:15:12.083869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 778], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 778], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 778], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:15:12.085661"], ["updated_at", "2025-10-15 22:15:12.085661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 778], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 778], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.090241"], ["updated_at", "2025-10-15 22:15:12.090241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 779], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 779], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 779], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:15:12.092409"], ["updated_at", "2025-10-15 22:15:12.092409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 779], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 663]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 663]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 779], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 779], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 779]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 663], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.107859"], ["updated_at", "2025-10-15 22:15:12.107859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 780], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 780], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:12.110387"], ["updated_at", "2025-10-15 22:15:12.110387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 664], ["resource_type", "TestOrder"], ["resource_id", 780], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 664], ["resource_type", "TestOrder"], ["resource_id", 780], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.121857"], ["updated_at", "2025-10-15 22:15:12.121857"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 781], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 781], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:12.124346"], ["updated_at", "2025-10-15 22:15:12.124346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 665], ["resource_type", "TestOrder"], ["resource_id", 781], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 665], ["resource_type", "TestOrder"], ["resource_id", 781], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.134081"], ["updated_at", "2025-10-15 22:15:12.134081"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 782], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 782], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:12.137065"], ["updated_at", "2025-10-15 22:15:12.137065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 666], ["resource_type", "TestOrder"], ["resource_id", 782], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.144579"], ["updated_at", "2025-10-15 22:15:12.144579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 783], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 783], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:12.146177"], ["updated_at", "2025-10-15 22:15:12.146177"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 667], ["resource_type", "TestOrder"], ["resource_id", 783], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 667], ["resource_type", "TestOrder"], ["resource_id", 783], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 667], ["resource_type", "TestOrder"], ["resource_id", 783], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 667], ["resource_type", "TestOrder"], ["resource_id", 783], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.152139"], ["updated_at", "2025-10-15 22:15:12.152139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 784], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 784], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:12.154869"], ["updated_at", "2025-10-15 22:15:12.154869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 668], ["resource_type", "TestOrder"], ["resource_id", 784], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 668], ["resource_type", "TestOrder"], ["resource_id", 784], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.161897"], ["updated_at", "2025-10-15 22:15:12.161897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 785], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 785], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:12.163722"], ["updated_at", "2025-10-15 22:15:12.163722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.165779"], ["updated_at", "2025-10-15 22:15:12.165779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 786], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 786], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:12.167472"], ["updated_at", "2025-10-15 22:15:12.167472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.169839"], ["updated_at", "2025-10-15 22:15:12.169839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 787], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 787], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:12.171526"], ["updated_at", "2025-10-15 22:15:12.171526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.183341"], ["updated_at", "2025-10-15 22:15:12.183341"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 788], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 788], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:12.185279"], ["updated_at", "2025-10-15 22:15:12.185279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.187561"], ["updated_at", "2025-10-15 22:15:12.187561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 789], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 789], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:12.189357"], ["updated_at", "2025-10-15 22:15:12.189357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.192542"], ["updated_at", "2025-10-15 22:15:12.192542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 790], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 790], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:12.194540"], ["updated_at", "2025-10-15 22:15:12.194540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.197179"], ["updated_at", "2025-10-15 22:15:12.197179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 791], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 791], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:12.198833"], ["updated_at", "2025-10-15 22:15:12.198833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.200974"], ["updated_at", "2025-10-15 22:15:12.200974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 792], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 792], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:12.203147"], ["updated_at", "2025-10-15 22:15:12.203147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.206218"], ["updated_at", "2025-10-15 22:15:12.206218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 793], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 793], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:12.208031"], ["updated_at", "2025-10-15 22:15:12.208031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 677], ["resource_type", "TestOrder"], ["resource_id", 793], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.210876"], ["updated_at", "2025-10-15 22:15:12.210876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 794], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 794], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:12.213013"], ["updated_at", "2025-10-15 22:15:12.213013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 678], ["resource_type", "TestOrder"], ["resource_id", 794], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:15:12.214850"], ["id", 678]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 678], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.218317"], ["updated_at", "2025-10-15 22:15:12.218317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 795], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 795], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:15:12.220187"], ["updated_at", "2025-10-15 22:15:12.220187"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.222372"], ["updated_at", "2025-10-15 22:15:12.222372"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 796], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 796], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:15:12.223958"], ["updated_at", "2025-10-15 22:15:12.223958"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:12.226277"], ["updated_at", "2025-10-15 22:15:12.226277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 797], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 797], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:15:12.228071"], ["updated_at", "2025-10-15 22:15:12.228071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.463739"], ["updated_at", "2025-10-15 22:15:37.463739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 798], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.506067"], ["updated_at", "2025-10-15 22:15:37.506067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 799], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 799], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 799], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:37.511109"], ["updated_at", "2025-10-15 22:15:37.511109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.513440"], ["updated_at", "2025-10-15 22:15:37.513440"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 800], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.516189"], ["updated_at", "2025-10-15 22:15:37.516189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 801], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.518919"], ["updated_at", "2025-10-15 22:15:37.518919"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 802], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.521590"], ["updated_at", "2025-10-15 22:15:37.521590"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 803], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.524054"], ["updated_at", "2025-10-15 22:15:37.524054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 804], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.526977"], ["updated_at", "2025-10-15 22:15:37.526977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.529218"], ["updated_at", "2025-10-15 22:15:37.529218"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.531498"], ["updated_at", "2025-10-15 22:15:37.531498"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.533258"], ["updated_at", "2025-10-15 22:15:37.533258"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.535109"], ["updated_at", "2025-10-15 22:15:37.535109"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.537021"], ["updated_at", "2025-10-15 22:15:37.537021"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.539444"], ["updated_at", "2025-10-15 22:15:37.539444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 811], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 811], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 811], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:37.542050"], ["updated_at", "2025-10-15 22:15:37.542050"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.545289"], ["updated_at", "2025-10-15 22:15:37.545289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 812], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 812], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 812], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:15:37.547428"], ["updated_at", "2025-10-15 22:15:37.547428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.549217"], ["updated_at", "2025-10-15 22:15:37.549217"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 813], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 813], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 813], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:37.554252"], ["updated_at", "2025-10-15 22:15:37.554252"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.557391"], ["updated_at", "2025-10-15 22:15:37.557391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.559522"], ["updated_at", "2025-10-15 22:15:37.559522"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 815], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 815], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 815], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:37.561966"], ["updated_at", "2025-10-15 22:15:37.561966"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 686], ["resource_type", "TestOrder"], ["resource_id", 815], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:15:37.566938"], ["id", 686]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.570315"], ["updated_at", "2025-10-15 22:15:37.570315"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 816], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.574186"], ["updated_at", "2025-10-15 22:15:37.574186"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 817], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 817], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 817], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:15:37.577324"], ["updated_at", "2025-10-15 22:15:37.577324"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.581693"], ["updated_at", "2025-10-15 22:15:37.581693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 818], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.584866"], ["updated_at", "2025-10-15 22:15:37.584866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 819], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 819], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 819], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:15:37.588266"], ["updated_at", "2025-10-15 22:15:37.588266"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.592731"], ["updated_at", "2025-10-15 22:15:37.592731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 820], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 820], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 820], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:37.595860"], ["updated_at", "2025-10-15 22:15:37.595860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.596690"], ["updated_at", "2025-10-15 22:15:37.596690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 821], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.599115"], ["updated_at", "2025-10-15 22:15:37.599115"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 822], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 822], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 822], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:37.601197"], ["updated_at", "2025-10-15 22:15:37.601197"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.603710"], ["updated_at", "2025-10-15 22:15:37.603710"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 823], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 823], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 823], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:15:37.605725"], ["updated_at", "2025-10-15 22:15:37.605725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.607386"], ["updated_at", "2025-10-15 22:15:37.607386"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 824], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 824], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 824], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:15:37.609863"], ["updated_at", "2025-10-15 22:15:37.609863"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.611931"], ["updated_at", "2025-10-15 22:15:37.611931"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 825], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 825], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 825], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:37.614925"], ["updated_at", "2025-10-15 22:15:37.614925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 825], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 825], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 825], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:15:37.617760"], ["updated_at", "2025-10-15 22:15:37.617760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 825], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 825], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 825], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:15:37.619883"], ["updated_at", "2025-10-15 22:15:37.619883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 825], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 825], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.624665"], ["updated_at", "2025-10-15 22:15:37.624665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 826], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 826], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 826], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:15:37.626974"], ["updated_at", "2025-10-15 22:15:37.626974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 826], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 696]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 696]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 826], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 826], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 826]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 696], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.643526"], ["updated_at", "2025-10-15 22:15:37.643526"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 827], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 827], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:37.646542"], ["updated_at", "2025-10-15 22:15:37.646542"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 697], ["resource_type", "TestOrder"], ["resource_id", 827], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 697], ["resource_type", "TestOrder"], ["resource_id", 827], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.656401"], ["updated_at", "2025-10-15 22:15:37.656401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 828], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 828], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:37.659721"], ["updated_at", "2025-10-15 22:15:37.659721"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 698], ["resource_type", "TestOrder"], ["resource_id", 828], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 698], ["resource_type", "TestOrder"], ["resource_id", 828], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.670832"], ["updated_at", "2025-10-15 22:15:37.670832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 829], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 829], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:37.673320"], ["updated_at", "2025-10-15 22:15:37.673320"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 699], ["resource_type", "TestOrder"], ["resource_id", 829], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.679087"], ["updated_at", "2025-10-15 22:15:37.679087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 830], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 830], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:37.680596"], ["updated_at", "2025-10-15 22:15:37.680596"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 700], ["resource_type", "TestOrder"], ["resource_id", 830], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 700], ["resource_type", "TestOrder"], ["resource_id", 830], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 700], ["resource_type", "TestOrder"], ["resource_id", 830], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 700], ["resource_type", "TestOrder"], ["resource_id", 830], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.685643"], ["updated_at", "2025-10-15 22:15:37.685643"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 831], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 831], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:37.687062"], ["updated_at", "2025-10-15 22:15:37.687062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 701], ["resource_type", "TestOrder"], ["resource_id", 831], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 701], ["resource_type", "TestOrder"], ["resource_id", 831], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.692305"], ["updated_at", "2025-10-15 22:15:37.692305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 832], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 832], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:37.693926"], ["updated_at", "2025-10-15 22:15:37.693926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.696833"], ["updated_at", "2025-10-15 22:15:37.696833"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 833], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 833], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:37.698686"], ["updated_at", "2025-10-15 22:15:37.698686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.700949"], ["updated_at", "2025-10-15 22:15:37.700949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 834], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 834], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:37.702678"], ["updated_at", "2025-10-15 22:15:37.702678"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.715359"], ["updated_at", "2025-10-15 22:15:37.715359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 835], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 835], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:37.717558"], ["updated_at", "2025-10-15 22:15:37.717558"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.720181"], ["updated_at", "2025-10-15 22:15:37.720181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 836], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 836], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:15:37.721904"], ["updated_at", "2025-10-15 22:15:37.721904"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.724763"], ["updated_at", "2025-10-15 22:15:37.724763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 837], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 837], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:37.726777"], ["updated_at", "2025-10-15 22:15:37.726777"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.729361"], ["updated_at", "2025-10-15 22:15:37.729361"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 838], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 838], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:37.731049"], ["updated_at", "2025-10-15 22:15:37.731049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.733166"], ["updated_at", "2025-10-15 22:15:37.733166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 839], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 839], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:15:37.734974"], ["updated_at", "2025-10-15 22:15:37.734974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.737391"], ["updated_at", "2025-10-15 22:15:37.737391"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 840], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 840], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:37.739419"], ["updated_at", "2025-10-15 22:15:37.739419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 710], ["resource_type", "TestOrder"], ["resource_id", 840], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.742668"], ["updated_at", "2025-10-15 22:15:37.742668"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 841], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 841], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:15:37.744697"], ["updated_at", "2025-10-15 22:15:37.744697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 711], ["resource_type", "TestOrder"], ["resource_id", 841], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:15:37.746042"], ["id", 711]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 711], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.748764"], ["updated_at", "2025-10-15 22:15:37.748764"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 842], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 842], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:15:37.750521"], ["updated_at", "2025-10-15 22:15:37.750521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.752760"], ["updated_at", "2025-10-15 22:15:37.752760"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 843], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 843], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:15:37.754254"], ["updated_at", "2025-10-15 22:15:37.754254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:15:37.756248"], ["updated_at", "2025-10-15 22:15:37.756248"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 844], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 844], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:15:37.757962"], ["updated_at", "2025-10-15 22:15:37.757962"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.253447"], ["updated_at", "2025-10-15 22:57:12.253447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.258572"], ["updated_at", "2025-10-15 22:57:12.258572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.260907"], ["updated_at", "2025-10-15 22:57:12.260907"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.263252"], ["updated_at", "2025-10-15 22:57:12.263252"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.265435"], ["updated_at", "2025-10-15 22:57:12.265435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.268911"], ["updated_at", "2025-10-15 22:57:12.268911"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.272545"], ["updated_at", "2025-10-15 22:57:12.272545"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 851], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 851], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 851], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:57:12.291085"], ["updated_at", "2025-10-15 22:57:12.291085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.295235"], ["updated_at", "2025-10-15 22:57:12.295235"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 852], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 852], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 852], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:57:12.298501"], ["updated_at", "2025-10-15 22:57:12.298501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.301619"], ["updated_at", "2025-10-15 22:57:12.301619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 853], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 853], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 853], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:57:12.307067"], ["updated_at", "2025-10-15 22:57:12.307067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.310597"], ["updated_at", "2025-10-15 22:57:12.310597"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.313766"], ["updated_at", "2025-10-15 22:57:12.313766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 855], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 855], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 855], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:12.316566"], ["updated_at", "2025-10-15 22:57:12.316566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 718], ["resource_type", "TestOrder"], ["resource_id", 855], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:57:12.321362"], ["id", 718]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.324369"], ["updated_at", "2025-10-15 22:57:12.324369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 856], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.327825"], ["updated_at", "2025-10-15 22:57:12.327825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 857], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 857], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 857], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:57:12.330077"], ["updated_at", "2025-10-15 22:57:12.330077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.332623"], ["updated_at", "2025-10-15 22:57:12.332623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 858], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.335188"], ["updated_at", "2025-10-15 22:57:12.335188"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 859], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 859], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 859], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:57:12.338002"], ["updated_at", "2025-10-15 22:57:12.338002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.341655"], ["updated_at", "2025-10-15 22:57:12.341655"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 860], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 860], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 860], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:12.344087"], ["updated_at", "2025-10-15 22:57:12.344087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.344853"], ["updated_at", "2025-10-15 22:57:12.344853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 861], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.347312"], ["updated_at", "2025-10-15 22:57:12.347312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 862], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 862], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 862], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:12.350015"], ["updated_at", "2025-10-15 22:57:12.350015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.352263"], ["updated_at", "2025-10-15 22:57:12.352263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 863], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 863], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 863], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:57:12.354891"], ["updated_at", "2025-10-15 22:57:12.354891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.356953"], ["updated_at", "2025-10-15 22:57:12.356953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 864], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 864], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 864], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:57:12.359531"], ["updated_at", "2025-10-15 22:57:12.359531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.363482"], ["updated_at", "2025-10-15 22:57:12.363482"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 865], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 865], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 865], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:12.368520"], ["updated_at", "2025-10-15 22:57:12.368520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 865], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 865], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 865], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:57:12.372856"], ["updated_at", "2025-10-15 22:57:12.372856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 865], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 865], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 865], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:57:12.376133"], ["updated_at", "2025-10-15 22:57:12.376133"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.3ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 865], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 865], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.386715"], ["updated_at", "2025-10-15 22:57:12.386715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 866], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 866], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 866], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:57:12.391679"], ["updated_at", "2025-10-15 22:57:12.391679"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 866], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 728]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 728]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 866], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 866], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 866]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 728], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.424747"], ["updated_at", "2025-10-15 22:57:12.424747"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 867], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 867], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:12.426824"], ["updated_at", "2025-10-15 22:57:12.426824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.429503"], ["updated_at", "2025-10-15 22:57:12.429503"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 868], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 868], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:12.431370"], ["updated_at", "2025-10-15 22:57:12.431370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.434206"], ["updated_at", "2025-10-15 22:57:12.434206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 869], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 869], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:12.436062"], ["updated_at", "2025-10-15 22:57:12.436062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.439219"], ["updated_at", "2025-10-15 22:57:12.439219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 870], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 870], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:12.441358"], ["updated_at", "2025-10-15 22:57:12.441358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.443925"], ["updated_at", "2025-10-15 22:57:12.443925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 871], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 871], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:12.445705"], ["updated_at", "2025-10-15 22:57:12.445705"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.449739"], ["updated_at", "2025-10-15 22:57:12.449739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 872], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 872], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:12.451936"], ["updated_at", "2025-10-15 22:57:12.451936"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.453881"], ["updated_at", "2025-10-15 22:57:12.453881"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 873], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 873], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:12.455691"], ["updated_at", "2025-10-15 22:57:12.455691"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.458382"], ["updated_at", "2025-10-15 22:57:12.458382"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 874], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 874], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:12.460918"], ["updated_at", "2025-10-15 22:57:12.460918"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.472665"], ["updated_at", "2025-10-15 22:57:12.472665"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 875], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 875], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:12.474698"], ["updated_at", "2025-10-15 22:57:12.474698"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.477078"], ["updated_at", "2025-10-15 22:57:12.477078"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 876], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 876], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:12.478759"], ["updated_at", "2025-10-15 22:57:12.478759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.483732"], ["updated_at", "2025-10-15 22:57:12.483732"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 877], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 877], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:12.485755"], ["updated_at", "2025-10-15 22:57:12.485755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.488303"], ["updated_at", "2025-10-15 22:57:12.488303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 878], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 878], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:12.490231"], ["updated_at", "2025-10-15 22:57:12.490231"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.492495"], ["updated_at", "2025-10-15 22:57:12.492495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 879], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 879], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:12.494303"], ["updated_at", "2025-10-15 22:57:12.494303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.496644"], ["updated_at", "2025-10-15 22:57:12.496644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 880], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 880], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:12.498260"], ["updated_at", "2025-10-15 22:57:12.498260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 742], ["resource_type", "TestOrder"], ["resource_id", 880], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.500850"], ["updated_at", "2025-10-15 22:57:12.500850"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 881], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 881], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:12.502546"], ["updated_at", "2025-10-15 22:57:12.502546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 743], ["resource_type", "TestOrder"], ["resource_id", 881], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:57:12.503960"], ["id", 743]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 743], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.507353"], ["updated_at", "2025-10-15 22:57:12.507353"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 882], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 882], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:57:12.509096"], ["updated_at", "2025-10-15 22:57:12.509096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.511174"], ["updated_at", "2025-10-15 22:57:12.511174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 883], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 883], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:57:12.512926"], ["updated_at", "2025-10-15 22:57:12.512926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:12.515719"], ["updated_at", "2025-10-15 22:57:12.515719"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 884], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 884], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:57:12.517652"], ["updated_at", "2025-10-15 22:57:12.517652"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.287356"], ["updated_at", "2025-10-15 22:57:40.287356"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.294093"], ["updated_at", "2025-10-15 22:57:40.294093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.297520"], ["updated_at", "2025-10-15 22:57:40.297520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.300143"], ["updated_at", "2025-10-15 22:57:40.300143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.302525"], ["updated_at", "2025-10-15 22:57:40.302525"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.305875"], ["updated_at", "2025-10-15 22:57:40.305875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.309482"], ["updated_at", "2025-10-15 22:57:40.309482"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 891], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 891], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 891], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:57:40.327749"], ["updated_at", "2025-10-15 22:57:40.327749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.331807"], ["updated_at", "2025-10-15 22:57:40.331807"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 892], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 892], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 892], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 22:57:40.335666"], ["updated_at", "2025-10-15 22:57:40.335666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.338478"], ["updated_at", "2025-10-15 22:57:40.338478"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 893], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 893], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 893], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:57:40.343560"], ["updated_at", "2025-10-15 22:57:40.343560"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.346271"], ["updated_at", "2025-10-15 22:57:40.346271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.348393"], ["updated_at", "2025-10-15 22:57:40.348393"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 895], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 895], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 895], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:40.350836"], ["updated_at", "2025-10-15 22:57:40.350836"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 750], ["resource_type", "TestOrder"], ["resource_id", 895], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 22:57:40.355646"], ["id", 750]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.358411"], ["updated_at", "2025-10-15 22:57:40.358411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 896], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.362074"], ["updated_at", "2025-10-15 22:57:40.362074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 897], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 897], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 897], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 22:57:40.364368"], ["updated_at", "2025-10-15 22:57:40.364368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.366970"], ["updated_at", "2025-10-15 22:57:40.366970"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 898], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.369512"], ["updated_at", "2025-10-15 22:57:40.369512"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 899], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 899], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 899], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 22:57:40.372614"], ["updated_at", "2025-10-15 22:57:40.372614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.376073"], ["updated_at", "2025-10-15 22:57:40.376073"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 900], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 900], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 900], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:40.378540"], ["updated_at", "2025-10-15 22:57:40.378540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.379318"], ["updated_at", "2025-10-15 22:57:40.379318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 901], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.381930"], ["updated_at", "2025-10-15 22:57:40.381930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 902], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 902], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 902], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:40.384791"], ["updated_at", "2025-10-15 22:57:40.384791"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.387000"], ["updated_at", "2025-10-15 22:57:40.387000"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 903], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 903], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 903], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:57:40.389870"], ["updated_at", "2025-10-15 22:57:40.389870"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.391767"], ["updated_at", "2025-10-15 22:57:40.391767"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 904], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 904], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 904], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 22:57:40.394601"], ["updated_at", "2025-10-15 22:57:40.394601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.398254"], ["updated_at", "2025-10-15 22:57:40.398254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 905], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 905], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 905], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:40.402279"], ["updated_at", "2025-10-15 22:57:40.402279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 905], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 905], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 905], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:57:40.407624"], ["updated_at", "2025-10-15 22:57:40.407624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 905], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 905], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 905], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 22:57:40.412304"], ["updated_at", "2025-10-15 22:57:40.412304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.7ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 905], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 905], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.421788"], ["updated_at", "2025-10-15 22:57:40.421788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 906], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 906], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 906], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 22:57:40.427287"], ["updated_at", "2025-10-15 22:57:40.427287"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 906], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 760]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 760]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 906], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 906], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 906]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 760], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.462286"], ["updated_at", "2025-10-15 22:57:40.462286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 907], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 907], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:40.464625"], ["updated_at", "2025-10-15 22:57:40.464625"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.468290"], ["updated_at", "2025-10-15 22:57:40.468290"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 908], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 908], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:40.471461"], ["updated_at", "2025-10-15 22:57:40.471461"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.474644"], ["updated_at", "2025-10-15 22:57:40.474644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 909], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 909], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:40.477369"], ["updated_at", "2025-10-15 22:57:40.477369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.480141"], ["updated_at", "2025-10-15 22:57:40.480141"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 910], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 910], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:40.482652"], ["updated_at", "2025-10-15 22:57:40.482652"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.485401"], ["updated_at", "2025-10-15 22:57:40.485401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 911], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 911], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:40.487605"], ["updated_at", "2025-10-15 22:57:40.487605"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.492381"], ["updated_at", "2025-10-15 22:57:40.492381"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 912], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 912], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:40.494561"], ["updated_at", "2025-10-15 22:57:40.494561"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.496722"], ["updated_at", "2025-10-15 22:57:40.496722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 913], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 913], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:40.498794"], ["updated_at", "2025-10-15 22:57:40.498794"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.500882"], ["updated_at", "2025-10-15 22:57:40.500882"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 914], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 914], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:40.502867"], ["updated_at", "2025-10-15 22:57:40.502867"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.515385"], ["updated_at", "2025-10-15 22:57:40.515385"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 915], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 915], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:40.517545"], ["updated_at", "2025-10-15 22:57:40.517545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.519958"], ["updated_at", "2025-10-15 22:57:40.519958"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 916], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 916], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 22:57:40.522189"], ["updated_at", "2025-10-15 22:57:40.522189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.527345"], ["updated_at", "2025-10-15 22:57:40.527345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 917], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 917], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:40.529467"], ["updated_at", "2025-10-15 22:57:40.529467"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.532117"], ["updated_at", "2025-10-15 22:57:40.532117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 918], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 918], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:40.534620"], ["updated_at", "2025-10-15 22:57:40.534620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.537229"], ["updated_at", "2025-10-15 22:57:40.537229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 919], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 919], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 22:57:40.539516"], ["updated_at", "2025-10-15 22:57:40.539516"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.542592"], ["updated_at", "2025-10-15 22:57:40.542592"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 920], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 920], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:40.544865"], ["updated_at", "2025-10-15 22:57:40.544865"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 774], ["resource_type", "TestOrder"], ["resource_id", 920], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.547671"], ["updated_at", "2025-10-15 22:57:40.547671"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 921], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 921], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 22:57:40.549602"], ["updated_at", "2025-10-15 22:57:40.549602"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 775], ["resource_type", "TestOrder"], ["resource_id", 921], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 22:57:40.550986"], ["id", 775]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 775], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.554071"], ["updated_at", "2025-10-15 22:57:40.554071"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 922], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 922], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 22:57:40.555890"], ["updated_at", "2025-10-15 22:57:40.555890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.558098"], ["updated_at", "2025-10-15 22:57:40.558098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 923], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 923], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 22:57:40.559872"], ["updated_at", "2025-10-15 22:57:40.559872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 22:57:40.562102"], ["updated_at", "2025-10-15 22:57:40.562102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 924], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 924], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 22:57:40.563818"], ["updated_at", "2025-10-15 22:57:40.563818"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.063933"], ["updated_at", "2025-10-15 23:25:28.063933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.068724"], ["updated_at", "2025-10-15 23:25:28.068724"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.071126"], ["updated_at", "2025-10-15 23:25:28.071126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.073130"], ["updated_at", "2025-10-15 23:25:28.073130"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.075724"], ["updated_at", "2025-10-15 23:25:28.075724"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.078989"], ["updated_at", "2025-10-15 23:25:28.078989"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.082613"], ["updated_at", "2025-10-15 23:25:28.082613"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 931], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 931], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 931], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:25:28.098739"], ["updated_at", "2025-10-15 23:25:28.098739"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.102164"], ["updated_at", "2025-10-15 23:25:28.102164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 932], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 932], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 932], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:25:28.104788"], ["updated_at", "2025-10-15 23:25:28.104788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.108162"], ["updated_at", "2025-10-15 23:25:28.108162"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 933], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 933], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 933], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:25:28.114711"], ["updated_at", "2025-10-15 23:25:28.114711"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.117854"], ["updated_at", "2025-10-15 23:25:28.117854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.120348"], ["updated_at", "2025-10-15 23:25:28.120348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 935], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 935], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 935], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:25:28.123027"], ["updated_at", "2025-10-15 23:25:28.123027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 782], ["resource_type", "TestOrder"], ["resource_id", 935], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:25:28.127686"], ["id", 782]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.130422"], ["updated_at", "2025-10-15 23:25:28.130422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 936], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.134483"], ["updated_at", "2025-10-15 23:25:28.134483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 937], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 937], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 937], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:25:28.137453"], ["updated_at", "2025-10-15 23:25:28.137453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.140075"], ["updated_at", "2025-10-15 23:25:28.140075"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 938], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.142709"], ["updated_at", "2025-10-15 23:25:28.142709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 939], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 939], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 939], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:25:28.145405"], ["updated_at", "2025-10-15 23:25:28.145405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.148655"], ["updated_at", "2025-10-15 23:25:28.148655"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 940], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 940], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 940], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:25:28.151111"], ["updated_at", "2025-10-15 23:25:28.151111"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.151899"], ["updated_at", "2025-10-15 23:25:28.151899"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 941], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.154491"], ["updated_at", "2025-10-15 23:25:28.154491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 942], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 942], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 942], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:25:28.157039"], ["updated_at", "2025-10-15 23:25:28.157039"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.159079"], ["updated_at", "2025-10-15 23:25:28.159079"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 943], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 943], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 943], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:25:28.161733"], ["updated_at", "2025-10-15 23:25:28.161733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.163383"], ["updated_at", "2025-10-15 23:25:28.163383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 944], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 944], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 944], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:25:28.165811"], ["updated_at", "2025-10-15 23:25:28.165811"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.167810"], ["updated_at", "2025-10-15 23:25:28.167810"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 945], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 945], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 945], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:25:28.170325"], ["updated_at", "2025-10-15 23:25:28.170325"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 945], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 945], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 945], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:25:28.173972"], ["updated_at", "2025-10-15 23:25:28.173972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 945], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 945], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 945], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:25:28.176399"], ["updated_at", "2025-10-15 23:25:28.176399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 945], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 945], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.183796"], ["updated_at", "2025-10-15 23:25:28.183796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 946], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 946], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 946], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:25:28.187789"], ["updated_at", "2025-10-15 23:25:28.187789"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 946], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 792]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 792]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 946], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 946], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 946]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 792], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.223602"], ["updated_at", "2025-10-15 23:25:28.223602"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 947], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 947], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:25:28.226183"], ["updated_at", "2025-10-15 23:25:28.226183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.229051"], ["updated_at", "2025-10-15 23:25:28.229051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 948], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 948], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:25:28.231046"], ["updated_at", "2025-10-15 23:25:28.231046"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.233609"], ["updated_at", "2025-10-15 23:25:28.233609"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 949], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 949], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:25:28.235672"], ["updated_at", "2025-10-15 23:25:28.235672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.238290"], ["updated_at", "2025-10-15 23:25:28.238290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 950], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 950], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:25:28.240369"], ["updated_at", "2025-10-15 23:25:28.240369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.242749"], ["updated_at", "2025-10-15 23:25:28.242749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 951], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 951], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:25:28.244543"], ["updated_at", "2025-10-15 23:25:28.244543"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.249097"], ["updated_at", "2025-10-15 23:25:28.249097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 952], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 952], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:25:28.251622"], ["updated_at", "2025-10-15 23:25:28.251622"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.254495"], ["updated_at", "2025-10-15 23:25:28.254495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 953], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 953], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:25:28.256461"], ["updated_at", "2025-10-15 23:25:28.256461"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.258485"], ["updated_at", "2025-10-15 23:25:28.258485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 954], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 954], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:25:28.260428"], ["updated_at", "2025-10-15 23:25:28.260428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.272586"], ["updated_at", "2025-10-15 23:25:28.272586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 955], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 955], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:25:28.274456"], ["updated_at", "2025-10-15 23:25:28.274456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.276770"], ["updated_at", "2025-10-15 23:25:28.276770"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 956], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 956], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:25:28.278499"], ["updated_at", "2025-10-15 23:25:28.278499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.283500"], ["updated_at", "2025-10-15 23:25:28.283500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 957], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 957], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:25:28.285538"], ["updated_at", "2025-10-15 23:25:28.285538"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.288546"], ["updated_at", "2025-10-15 23:25:28.288546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 958], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 958], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:25:28.290817"], ["updated_at", "2025-10-15 23:25:28.290817"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.293470"], ["updated_at", "2025-10-15 23:25:28.293470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 959], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 959], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:25:28.295306"], ["updated_at", "2025-10-15 23:25:28.295306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.298001"], ["updated_at", "2025-10-15 23:25:28.298001"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 960], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 960], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:25:28.299614"], ["updated_at", "2025-10-15 23:25:28.299614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 806], ["resource_type", "TestOrder"], ["resource_id", 960], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.302176"], ["updated_at", "2025-10-15 23:25:28.302176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 961], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 961], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:25:28.304074"], ["updated_at", "2025-10-15 23:25:28.304074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 807], ["resource_type", "TestOrder"], ["resource_id", 961], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:25:28.305503"], ["id", 807]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 807], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.309502"], ["updated_at", "2025-10-15 23:25:28.309502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 962], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 962], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:25:28.311311"], ["updated_at", "2025-10-15 23:25:28.311311"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.313402"], ["updated_at", "2025-10-15 23:25:28.313402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 963], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 963], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:25:28.315659"], ["updated_at", "2025-10-15 23:25:28.315659"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:25:28.318520"], ["updated_at", "2025-10-15 23:25:28.318520"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 964], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 964], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:25:28.320947"], ["updated_at", "2025-10-15 23:25:28.320947"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.448573"], ["updated_at", "2025-10-15 23:26:38.448573"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.453659"], ["updated_at", "2025-10-15 23:26:38.453659"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.456176"], ["updated_at", "2025-10-15 23:26:38.456176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.458367"], ["updated_at", "2025-10-15 23:26:38.458367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.460458"], ["updated_at", "2025-10-15 23:26:38.460458"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.463360"], ["updated_at", "2025-10-15 23:26:38.463360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.466149"], ["updated_at", "2025-10-15 23:26:38.466149"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 971], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 971], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 971], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:26:38.483487"], ["updated_at", "2025-10-15 23:26:38.483487"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.488137"], ["updated_at", "2025-10-15 23:26:38.488137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 972], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 972], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 972], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:26:38.491818"], ["updated_at", "2025-10-15 23:26:38.491818"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.494138"], ["updated_at", "2025-10-15 23:26:38.494138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 973], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 973], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 973], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:26:38.499726"], ["updated_at", "2025-10-15 23:26:38.499726"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.502637"], ["updated_at", "2025-10-15 23:26:38.502637"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.505454"], ["updated_at", "2025-10-15 23:26:38.505454"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 975], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 975], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 975], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:26:38.508007"], ["updated_at", "2025-10-15 23:26:38.508007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 814], ["resource_type", "TestOrder"], ["resource_id", 975], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.3ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:26:38.514677"], ["id", 814]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.518426"], ["updated_at", "2025-10-15 23:26:38.518426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 976], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.521966"], ["updated_at", "2025-10-15 23:26:38.521966"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 977], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 977], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 977], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:26:38.524522"], ["updated_at", "2025-10-15 23:26:38.524522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.526884"], ["updated_at", "2025-10-15 23:26:38.526884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 978], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.529402"], ["updated_at", "2025-10-15 23:26:38.529402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 979], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 979], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 979], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:26:38.532105"], ["updated_at", "2025-10-15 23:26:38.532105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.535426"], ["updated_at", "2025-10-15 23:26:38.535426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 980], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 980], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 980], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:26:38.537894"], ["updated_at", "2025-10-15 23:26:38.537894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.538576"], ["updated_at", "2025-10-15 23:26:38.538576"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 981], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.541010"], ["updated_at", "2025-10-15 23:26:38.541010"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 982], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 982], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 982], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:26:38.543782"], ["updated_at", "2025-10-15 23:26:38.543782"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.546004"], ["updated_at", "2025-10-15 23:26:38.546004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 983], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 983], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 983], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:26:38.548620"], ["updated_at", "2025-10-15 23:26:38.548620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.550469"], ["updated_at", "2025-10-15 23:26:38.550469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 984], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 984], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 984], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:26:38.553057"], ["updated_at", "2025-10-15 23:26:38.553057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.556568"], ["updated_at", "2025-10-15 23:26:38.556568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 985], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 985], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 985], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:26:38.559730"], ["updated_at", "2025-10-15 23:26:38.559730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 985], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 985], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 985], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:26:38.562452"], ["updated_at", "2025-10-15 23:26:38.562452"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 985], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 985], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 985], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:26:38.565563"], ["updated_at", "2025-10-15 23:26:38.565563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 985], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 985], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.574892"], ["updated_at", "2025-10-15 23:26:38.574892"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.5ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 986], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 986], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 986], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:26:38.579761"], ["updated_at", "2025-10-15 23:26:38.579761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.5ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 986], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 824]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 824]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 986], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 986], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 986]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 824], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.624243"], ["updated_at", "2025-10-15 23:26:38.624243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 987], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 987], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:26:38.626806"], ["updated_at", "2025-10-15 23:26:38.626806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.629500"], ["updated_at", "2025-10-15 23:26:38.629500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 988], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 988], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:26:38.631203"], ["updated_at", "2025-10-15 23:26:38.631203"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.633375"], ["updated_at", "2025-10-15 23:26:38.633375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 989], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 989], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:26:38.635208"], ["updated_at", "2025-10-15 23:26:38.635208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.646884"], ["updated_at", "2025-10-15 23:26:38.646884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 990], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 990], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:26:38.649121"], ["updated_at", "2025-10-15 23:26:38.649121"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.651508"], ["updated_at", "2025-10-15 23:26:38.651508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 991], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 991], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:26:38.653369"], ["updated_at", "2025-10-15 23:26:38.653369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.658611"], ["updated_at", "2025-10-15 23:26:38.658611"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 992], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 992], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:26:38.660242"], ["updated_at", "2025-10-15 23:26:38.660242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.662501"], ["updated_at", "2025-10-15 23:26:38.662501"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 993], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 993], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:26:38.664545"], ["updated_at", "2025-10-15 23:26:38.664545"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.666707"], ["updated_at", "2025-10-15 23:26:38.666707"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 994], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 994], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:26:38.668903"], ["updated_at", "2025-10-15 23:26:38.668903"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.672224"], ["updated_at", "2025-10-15 23:26:38.672224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 995], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 995], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:26:38.674136"], ["updated_at", "2025-10-15 23:26:38.674136"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 833], ["resource_type", "TestOrder"], ["resource_id", 995], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.676779"], ["updated_at", "2025-10-15 23:26:38.676779"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 996], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 996], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:26:38.678754"], ["updated_at", "2025-10-15 23:26:38.678754"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 834], ["resource_type", "TestOrder"], ["resource_id", 996], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:26:38.680262"], ["id", 834]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 834], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (3.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.689601"], ["updated_at", "2025-10-15 23:26:38.689601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 997], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 997], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:26:38.701549"], ["updated_at", "2025-10-15 23:26:38.701549"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.704193"], ["updated_at", "2025-10-15 23:26:38.704193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 998], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 998], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:26:38.706238"], ["updated_at", "2025-10-15 23:26:38.706238"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:26:38.708562"], ["updated_at", "2025-10-15 23:26:38.708562"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 999], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 999], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:26:38.710415"], ["updated_at", "2025-10-15 23:26:38.710415"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.367744"], ["updated_at", "2025-10-15 23:27:24.367744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.372595"], ["updated_at", "2025-10-15 23:27:24.372595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.375051"], ["updated_at", "2025-10-15 23:27:24.375051"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.376835"], ["updated_at", "2025-10-15 23:27:24.376835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.378514"], ["updated_at", "2025-10-15 23:27:24.378514"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.381435"], ["updated_at", "2025-10-15 23:27:24.381435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.384305"], ["updated_at", "2025-10-15 23:27:24.384305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1006], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1006], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1006], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:27:24.401986"], ["updated_at", "2025-10-15 23:27:24.401986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.406831"], ["updated_at", "2025-10-15 23:27:24.406831"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1007], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1007], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1007], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:27:24.411364"], ["updated_at", "2025-10-15 23:27:24.411364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.414096"], ["updated_at", "2025-10-15 23:27:24.414096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1008], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1008], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1008], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:27:24.420069"], ["updated_at", "2025-10-15 23:27:24.420069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.423447"], ["updated_at", "2025-10-15 23:27:24.423447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.426110"], ["updated_at", "2025-10-15 23:27:24.426110"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1010], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1010], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1010], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:24.428689"], ["updated_at", "2025-10-15 23:27:24.428689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 841], ["resource_type", "TestOrder"], ["resource_id", 1010], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:27:24.433711"], ["id", 841]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.436361"], ["updated_at", "2025-10-15 23:27:24.436361"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1011], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.439751"], ["updated_at", "2025-10-15 23:27:24.439751"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1012], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1012], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1012], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:27:24.441808"], ["updated_at", "2025-10-15 23:27:24.441808"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.444004"], ["updated_at", "2025-10-15 23:27:24.444004"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1013], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.446131"], ["updated_at", "2025-10-15 23:27:24.446131"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1014], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1014], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1014], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:27:24.448797"], ["updated_at", "2025-10-15 23:27:24.448797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.452226"], ["updated_at", "2025-10-15 23:27:24.452226"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1015], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1015], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1015], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:24.454709"], ["updated_at", "2025-10-15 23:27:24.454709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.455455"], ["updated_at", "2025-10-15 23:27:24.455455"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1016], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.458134"], ["updated_at", "2025-10-15 23:27:24.458134"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1017], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1017], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1017], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:24.460664"], ["updated_at", "2025-10-15 23:27:24.460664"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.462992"], ["updated_at", "2025-10-15 23:27:24.462992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1018], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1018], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1018], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:27:24.465610"], ["updated_at", "2025-10-15 23:27:24.465610"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.467569"], ["updated_at", "2025-10-15 23:27:24.467569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1019], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1019], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1019], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:27:24.469828"], ["updated_at", "2025-10-15 23:27:24.469828"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.472412"], ["updated_at", "2025-10-15 23:27:24.472412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1020], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1020], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1020], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:24.476274"], ["updated_at", "2025-10-15 23:27:24.476274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1020], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1020], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1020], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:27:24.479330"], ["updated_at", "2025-10-15 23:27:24.479330"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1020], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1020], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1020], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:27:24.482268"], ["updated_at", "2025-10-15 23:27:24.482268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1020], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1020], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.492251"], ["updated_at", "2025-10-15 23:27:24.492251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1021], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1021], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1021], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:27:24.497072"], ["updated_at", "2025-10-15 23:27:24.497072"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1021], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 851]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 851]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1021], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1021], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1021]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 851], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.541410"], ["updated_at", "2025-10-15 23:27:24.541410"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1022], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1022], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:24.544112"], ["updated_at", "2025-10-15 23:27:24.544112"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.546552"], ["updated_at", "2025-10-15 23:27:24.546552"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1023], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1023], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:24.548686"], ["updated_at", "2025-10-15 23:27:24.548686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.550888"], ["updated_at", "2025-10-15 23:27:24.550888"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1024], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1024], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:24.552628"], ["updated_at", "2025-10-15 23:27:24.552628"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.564803"], ["updated_at", "2025-10-15 23:27:24.564803"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1025], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1025], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:24.566785"], ["updated_at", "2025-10-15 23:27:24.566785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.569067"], ["updated_at", "2025-10-15 23:27:24.569067"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1026], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1026], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:24.570711"], ["updated_at", "2025-10-15 23:27:24.570711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.575985"], ["updated_at", "2025-10-15 23:27:24.575985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1027], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1027], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:24.577651"], ["updated_at", "2025-10-15 23:27:24.577651"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.579842"], ["updated_at", "2025-10-15 23:27:24.579842"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1028], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1028], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:24.581730"], ["updated_at", "2025-10-15 23:27:24.581730"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.583795"], ["updated_at", "2025-10-15 23:27:24.583795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1029], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1029], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:24.585546"], ["updated_at", "2025-10-15 23:27:24.585546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.588278"], ["updated_at", "2025-10-15 23:27:24.588278"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1030], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1030], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:27:24.590102"], ["updated_at", "2025-10-15 23:27:24.590102"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 860], ["resource_type", "TestOrder"], ["resource_id", 1030], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.593156"], ["updated_at", "2025-10-15 23:27:24.593156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1031], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1031], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:27:24.595061"], ["updated_at", "2025-10-15 23:27:24.595061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 861], ["resource_type", "TestOrder"], ["resource_id", 1031], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:27:24.596599"], ["id", 861]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 861], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.599796"], ["updated_at", "2025-10-15 23:27:24.599796"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1032], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1032], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:27:24.601675"], ["updated_at", "2025-10-15 23:27:24.601675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.603969"], ["updated_at", "2025-10-15 23:27:24.603969"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1033], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1033], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:27:24.606011"], ["updated_at", "2025-10-15 23:27:24.606011"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:24.608432"], ["updated_at", "2025-10-15 23:27:24.608432"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1034], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1034], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:27:24.610147"], ["updated_at", "2025-10-15 23:27:24.610147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.712711"], ["updated_at", "2025-10-15 23:27:44.712711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.717194"], ["updated_at", "2025-10-15 23:27:44.717194"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.719630"], ["updated_at", "2025-10-15 23:27:44.719630"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.721724"], ["updated_at", "2025-10-15 23:27:44.721724"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.723741"], ["updated_at", "2025-10-15 23:27:44.723741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.726270"], ["updated_at", "2025-10-15 23:27:44.726270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.728977"], ["updated_at", "2025-10-15 23:27:44.728977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1041], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1041], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1041], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:27:44.744090"], ["updated_at", "2025-10-15 23:27:44.744090"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.748607"], ["updated_at", "2025-10-15 23:27:44.748607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1042], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1042], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1042], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:27:44.751533"], ["updated_at", "2025-10-15 23:27:44.751533"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.753660"], ["updated_at", "2025-10-15 23:27:44.753660"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1043], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1043], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1043], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:27:44.759408"], ["updated_at", "2025-10-15 23:27:44.759408"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.762153"], ["updated_at", "2025-10-15 23:27:44.762153"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.764419"], ["updated_at", "2025-10-15 23:27:44.764419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1045], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1045], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1045], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:44.766814"], ["updated_at", "2025-10-15 23:27:44.766814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 868], ["resource_type", "TestOrder"], ["resource_id", 1045], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:27:44.771494"], ["id", 868]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.774491"], ["updated_at", "2025-10-15 23:27:44.774491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1046], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.778122"], ["updated_at", "2025-10-15 23:27:44.778122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1047], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1047], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1047], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:27:44.781135"], ["updated_at", "2025-10-15 23:27:44.781135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.783458"], ["updated_at", "2025-10-15 23:27:44.783458"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1048], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.786054"], ["updated_at", "2025-10-15 23:27:44.786054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1049], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1049], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1049], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:27:44.788683"], ["updated_at", "2025-10-15 23:27:44.788683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.791722"], ["updated_at", "2025-10-15 23:27:44.791722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1050], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1050], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1050], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:44.793820"], ["updated_at", "2025-10-15 23:27:44.793820"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.794628"], ["updated_at", "2025-10-15 23:27:44.794628"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1051], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.796804"], ["updated_at", "2025-10-15 23:27:44.796804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1052], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1052], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1052], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:44.799195"], ["updated_at", "2025-10-15 23:27:44.799195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.801076"], ["updated_at", "2025-10-15 23:27:44.801076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1053], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1053], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1053], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:27:44.803152"], ["updated_at", "2025-10-15 23:27:44.803152"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.804670"], ["updated_at", "2025-10-15 23:27:44.804670"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1054], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1054], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1054], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:27:44.806795"], ["updated_at", "2025-10-15 23:27:44.806795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.809103"], ["updated_at", "2025-10-15 23:27:44.809103"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1055], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1055], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1055], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:44.812508"], ["updated_at", "2025-10-15 23:27:44.812508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1055], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1055], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1055], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:27:44.815161"], ["updated_at", "2025-10-15 23:27:44.815161"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1055], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1055], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1055], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:27:44.818181"], ["updated_at", "2025-10-15 23:27:44.818181"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1055], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1055], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.825798"], ["updated_at", "2025-10-15 23:27:44.825798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1056], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1056], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1056], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:27:44.830219"], ["updated_at", "2025-10-15 23:27:44.830219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1056], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 878]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 878]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1056], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1056], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1056]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 878], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.868179"], ["updated_at", "2025-10-15 23:27:44.868179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1057], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1057], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:44.870170"], ["updated_at", "2025-10-15 23:27:44.870170"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.872360"], ["updated_at", "2025-10-15 23:27:44.872360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1058], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1058], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:44.874100"], ["updated_at", "2025-10-15 23:27:44.874100"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.876055"], ["updated_at", "2025-10-15 23:27:44.876055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1059], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1059], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:44.878021"], ["updated_at", "2025-10-15 23:27:44.878021"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.889442"], ["updated_at", "2025-10-15 23:27:44.889442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1060], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1060], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:44.891795"], ["updated_at", "2025-10-15 23:27:44.891795"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.895336"], ["updated_at", "2025-10-15 23:27:44.895336"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1061], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1061], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:27:44.897130"], ["updated_at", "2025-10-15 23:27:44.897130"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.902312"], ["updated_at", "2025-10-15 23:27:44.902312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1062], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1062], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:44.904031"], ["updated_at", "2025-10-15 23:27:44.904031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.906206"], ["updated_at", "2025-10-15 23:27:44.906206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1063], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1063], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:44.908009"], ["updated_at", "2025-10-15 23:27:44.908009"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.910401"], ["updated_at", "2025-10-15 23:27:44.910401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1064], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1064], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:27:44.912237"], ["updated_at", "2025-10-15 23:27:44.912237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.914666"], ["updated_at", "2025-10-15 23:27:44.914666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1065], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1065], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:27:44.916531"], ["updated_at", "2025-10-15 23:27:44.916531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 887], ["resource_type", "TestOrder"], ["resource_id", 1065], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.919155"], ["updated_at", "2025-10-15 23:27:44.919155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1066], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1066], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:27:44.921002"], ["updated_at", "2025-10-15 23:27:44.921002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 888], ["resource_type", "TestOrder"], ["resource_id", 1066], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:27:44.922431"], ["id", 888]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 888], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.925453"], ["updated_at", "2025-10-15 23:27:44.925453"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1067], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1067], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:27:44.927069"], ["updated_at", "2025-10-15 23:27:44.927069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.929242"], ["updated_at", "2025-10-15 23:27:44.929242"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1068], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1068], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:27:44.931193"], ["updated_at", "2025-10-15 23:27:44.931193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:27:44.933289"], ["updated_at", "2025-10-15 23:27:44.933289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1069], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1069], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:27:44.934795"], ["updated_at", "2025-10-15 23:27:44.934795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Shoulda::Matchers.configure
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.320439"], ["updated_at", "2025-10-15 23:29:19.320439"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.330956"], ["updated_at", "2025-10-15 23:29:19.330956"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.335619"], ["updated_at", "2025-10-15 23:29:19.335619"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.339181"], ["updated_at", "2025-10-15 23:29:19.339181"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.342140"], ["updated_at", "2025-10-15 23:29:19.342140"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.345595"], ["updated_at", "2025-10-15 23:29:19.345595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.349104"], ["updated_at", "2025-10-15 23:29:19.349104"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1076], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1076], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1076], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:29:19.365084"], ["updated_at", "2025-10-15 23:29:19.365084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.368828"], ["updated_at", "2025-10-15 23:29:19.368828"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1077], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1077], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1077], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:29:19.371690"], ["updated_at", "2025-10-15 23:29:19.371690"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.374433"], ["updated_at", "2025-10-15 23:29:19.374433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1078], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1078], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1078], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:29:19.379994"], ["updated_at", "2025-10-15 23:29:19.379994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.383333"], ["updated_at", "2025-10-15 23:29:19.383333"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.385759"], ["updated_at", "2025-10-15 23:29:19.385759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1080], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1080], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1080], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:29:19.388469"], ["updated_at", "2025-10-15 23:29:19.388469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 895], ["resource_type", "TestOrder"], ["resource_id", 1080], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.3ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:29:19.394509"], ["id", 895]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.397988"], ["updated_at", "2025-10-15 23:29:19.397988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1081], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.403134"], ["updated_at", "2025-10-15 23:29:19.403134"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1082], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1082], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1082], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:29:19.405762"], ["updated_at", "2025-10-15 23:29:19.405762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.408598"], ["updated_at", "2025-10-15 23:29:19.408598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1083], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.411287"], ["updated_at", "2025-10-15 23:29:19.411287"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1084], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1084], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1084], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:29:19.414323"], ["updated_at", "2025-10-15 23:29:19.414323"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.418159"], ["updated_at", "2025-10-15 23:29:19.418159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1085], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1085], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1085], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:29:19.420942"], ["updated_at", "2025-10-15 23:29:19.420942"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.421842"], ["updated_at", "2025-10-15 23:29:19.421842"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1086], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.424804"], ["updated_at", "2025-10-15 23:29:19.424804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1087], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1087], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1087], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:29:19.427746"], ["updated_at", "2025-10-15 23:29:19.427746"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.430245"], ["updated_at", "2025-10-15 23:29:19.430245"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1088], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1088], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1088], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:29:19.433086"], ["updated_at", "2025-10-15 23:29:19.433086"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.435268"], ["updated_at", "2025-10-15 23:29:19.435268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1089], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1089], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1089], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:29:19.437877"], ["updated_at", "2025-10-15 23:29:19.437877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.441469"], ["updated_at", "2025-10-15 23:29:19.441469"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1090], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1090], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1090], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:29:19.445658"], ["updated_at", "2025-10-15 23:29:19.445658"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1090], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1090], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1090], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:29:19.449074"], ["updated_at", "2025-10-15 23:29:19.449074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1090], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1090], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.6ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1090], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:29:19.452365"], ["updated_at", "2025-10-15 23:29:19.452365"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1090], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1090], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.461642"], ["updated_at", "2025-10-15 23:29:19.461642"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1091], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1091], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1091], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:29:19.467081"], ["updated_at", "2025-10-15 23:29:19.467081"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1091], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 905]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 905]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1091], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1091], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1091]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 905], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.510499"], ["updated_at", "2025-10-15 23:29:19.510499"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1092], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1092], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:29:19.512438"], ["updated_at", "2025-10-15 23:29:19.512438"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.514615"], ["updated_at", "2025-10-15 23:29:19.514615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1093], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1093], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:29:19.516936"], ["updated_at", "2025-10-15 23:29:19.516936"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.519057"], ["updated_at", "2025-10-15 23:29:19.519057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1094], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1094], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:29:19.520887"], ["updated_at", "2025-10-15 23:29:19.520887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.532961"], ["updated_at", "2025-10-15 23:29:19.532961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1095], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1095], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:29:19.534871"], ["updated_at", "2025-10-15 23:29:19.534871"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.537069"], ["updated_at", "2025-10-15 23:29:19.537069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1096], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1096], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:29:19.538741"], ["updated_at", "2025-10-15 23:29:19.538741"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.544420"], ["updated_at", "2025-10-15 23:29:19.544420"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1097], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1097], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:29:19.546572"], ["updated_at", "2025-10-15 23:29:19.546572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.549285"], ["updated_at", "2025-10-15 23:29:19.549285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1098], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1098], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:29:19.551206"], ["updated_at", "2025-10-15 23:29:19.551206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.553639"], ["updated_at", "2025-10-15 23:29:19.553639"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1099], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1099], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:29:19.555855"], ["updated_at", "2025-10-15 23:29:19.555855"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.558475"], ["updated_at", "2025-10-15 23:29:19.558475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1100], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1100], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:29:19.560176"], ["updated_at", "2025-10-15 23:29:19.560176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 914], ["resource_type", "TestOrder"], ["resource_id", 1100], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.562722"], ["updated_at", "2025-10-15 23:29:19.562722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1101], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1101], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:29:19.564614"], ["updated_at", "2025-10-15 23:29:19.564614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 915], ["resource_type", "TestOrder"], ["resource_id", 1101], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:29:19.566151"], ["id", 915]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 915], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.569156"], ["updated_at", "2025-10-15 23:29:19.569156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1102], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1102], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:29:19.570858"], ["updated_at", "2025-10-15 23:29:19.570858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.572988"], ["updated_at", "2025-10-15 23:29:19.572988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1103], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1103], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:29:19.574978"], ["updated_at", "2025-10-15 23:29:19.574978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:29:19.577079"], ["updated_at", "2025-10-15 23:29:19.577079"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1104], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1104], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:29:19.578636"], ["updated_at", "2025-10-15 23:29:19.578636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Shoulda::Matchers.configure
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.459076"], ["updated_at", "2025-10-15 23:32:32.459076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.464083"], ["updated_at", "2025-10-15 23:32:32.464083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.466504"], ["updated_at", "2025-10-15 23:32:32.466504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.468314"], ["updated_at", "2025-10-15 23:32:32.468314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.469869"], ["updated_at", "2025-10-15 23:32:32.469869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.472220"], ["updated_at", "2025-10-15 23:32:32.472220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.474917"], ["updated_at", "2025-10-15 23:32:32.474917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1111], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1111], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1111], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:32:32.489503"], ["updated_at", "2025-10-15 23:32:32.489503"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.492953"], ["updated_at", "2025-10-15 23:32:32.492953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1112], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1112], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1112], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:32:32.495815"], ["updated_at", "2025-10-15 23:32:32.495815"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.498244"], ["updated_at", "2025-10-15 23:32:32.498244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1113], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1113], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1113], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:32:32.503121"], ["updated_at", "2025-10-15 23:32:32.503121"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.506195"], ["updated_at", "2025-10-15 23:32:32.506195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.508699"], ["updated_at", "2025-10-15 23:32:32.508699"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1115], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1115], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1115], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:32:32.511119"], ["updated_at", "2025-10-15 23:32:32.511119"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 922], ["resource_type", "TestOrder"], ["resource_id", 1115], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:32:32.515695"], ["id", 922]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.518427"], ["updated_at", "2025-10-15 23:32:32.518427"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1116], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.521666"], ["updated_at", "2025-10-15 23:32:32.521666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1117], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1117], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1117], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:32:32.523908"], ["updated_at", "2025-10-15 23:32:32.523908"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.526443"], ["updated_at", "2025-10-15 23:32:32.526443"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1118], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.528969"], ["updated_at", "2025-10-15 23:32:32.528969"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1119], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1119], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1119], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:32:32.531705"], ["updated_at", "2025-10-15 23:32:32.531705"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.535085"], ["updated_at", "2025-10-15 23:32:32.535085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1120], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1120], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1120], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:32:32.537465"], ["updated_at", "2025-10-15 23:32:32.537465"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.538460"], ["updated_at", "2025-10-15 23:32:32.538460"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1121], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.541436"], ["updated_at", "2025-10-15 23:32:32.541436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1122], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1122], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1122], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:32:32.544066"], ["updated_at", "2025-10-15 23:32:32.544066"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.546346"], ["updated_at", "2025-10-15 23:32:32.546346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1123], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1123], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1123], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:32:32.548990"], ["updated_at", "2025-10-15 23:32:32.548990"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.550747"], ["updated_at", "2025-10-15 23:32:32.550747"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1124], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1124], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1124], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:32:32.553635"], ["updated_at", "2025-10-15 23:32:32.553635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.556533"], ["updated_at", "2025-10-15 23:32:32.556533"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1125], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1125], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:32:32.559661"], ["updated_at", "2025-10-15 23:32:32.559661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1125], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1125], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:32:32.562495"], ["updated_at", "2025-10-15 23:32:32.562495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1125], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.7ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1125], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:32:32.565510"], ["updated_at", "2025-10-15 23:32:32.565510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1125], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.575577"], ["updated_at", "2025-10-15 23:32:32.575577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1126], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1126], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1126], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:32:32.581336"], ["updated_at", "2025-10-15 23:32:32.581336"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1126], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 932]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 932]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1126], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1126], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1126]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 932], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.622577"], ["updated_at", "2025-10-15 23:32:32.622577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1127], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1127], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:32:32.624740"], ["updated_at", "2025-10-15 23:32:32.624740"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.627333"], ["updated_at", "2025-10-15 23:32:32.627333"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1128], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1128], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:32:32.629286"], ["updated_at", "2025-10-15 23:32:32.629286"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.631939"], ["updated_at", "2025-10-15 23:32:32.631939"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1129], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1129], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:32:32.634166"], ["updated_at", "2025-10-15 23:32:32.634166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.646763"], ["updated_at", "2025-10-15 23:32:32.646763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1130], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1130], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:32:32.648776"], ["updated_at", "2025-10-15 23:32:32.648776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.650984"], ["updated_at", "2025-10-15 23:32:32.650984"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1131], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1131], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:32:32.652758"], ["updated_at", "2025-10-15 23:32:32.652758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.658014"], ["updated_at", "2025-10-15 23:32:32.658014"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1132], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1132], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:32:32.659737"], ["updated_at", "2025-10-15 23:32:32.659737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.662113"], ["updated_at", "2025-10-15 23:32:32.662113"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1133], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1133], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:32:32.663751"], ["updated_at", "2025-10-15 23:32:32.663751"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.665977"], ["updated_at", "2025-10-15 23:32:32.665977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1134], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1134], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:32:32.668015"], ["updated_at", "2025-10-15 23:32:32.668015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.670608"], ["updated_at", "2025-10-15 23:32:32.670608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1135], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1135], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:32:32.672292"], ["updated_at", "2025-10-15 23:32:32.672292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 941], ["resource_type", "TestOrder"], ["resource_id", 1135], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.674866"], ["updated_at", "2025-10-15 23:32:32.674866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1136], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1136], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:32:32.676598"], ["updated_at", "2025-10-15 23:32:32.676598"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 942], ["resource_type", "TestOrder"], ["resource_id", 1136], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:32:32.678017"], ["id", 942]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 942], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.681303"], ["updated_at", "2025-10-15 23:32:32.681303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1137], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1137], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:32:32.683257"], ["updated_at", "2025-10-15 23:32:32.683257"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.685388"], ["updated_at", "2025-10-15 23:32:32.685388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1138], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1138], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:32:32.687298"], ["updated_at", "2025-10-15 23:32:32.687298"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:32:32.689465"], ["updated_at", "2025-10-15 23:32:32.689465"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1139], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1139], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:32:32.691171"], ["updated_at", "2025-10-15 23:32:32.691171"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
Shoulda::Matchers.configure
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.648502"], ["updated_at", "2025-10-15 23:35:04.648502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.653060"], ["updated_at", "2025-10-15 23:35:04.653060"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.655006"], ["updated_at", "2025-10-15 23:35:04.655006"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.656533"], ["updated_at", "2025-10-15 23:35:04.656533"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.658147"], ["updated_at", "2025-10-15 23:35:04.658147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.660827"], ["updated_at", "2025-10-15 23:35:04.660827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.664049"], ["updated_at", "2025-10-15 23:35:04.664049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1146], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1146], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1146], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:35:04.679222"], ["updated_at", "2025-10-15 23:35:04.679222"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.682948"], ["updated_at", "2025-10-15 23:35:04.682948"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1147], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1147], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1147], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:35:04.685436"], ["updated_at", "2025-10-15 23:35:04.685436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.687772"], ["updated_at", "2025-10-15 23:35:04.687772"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1148], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1148], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1148], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:35:04.693785"], ["updated_at", "2025-10-15 23:35:04.693785"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.696665"], ["updated_at", "2025-10-15 23:35:04.696665"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.698837"], ["updated_at", "2025-10-15 23:35:04.698837"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1150], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1150], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1150], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:35:04.700985"], ["updated_at", "2025-10-15 23:35:04.700985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 949], ["resource_type", "TestOrder"], ["resource_id", 1150], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:35:04.705478"], ["id", 949]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.708092"], ["updated_at", "2025-10-15 23:35:04.708092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1151], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.711360"], ["updated_at", "2025-10-15 23:35:04.711360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1152], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1152], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1152], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:35:04.713583"], ["updated_at", "2025-10-15 23:35:04.713583"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.716127"], ["updated_at", "2025-10-15 23:35:04.716127"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1153], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.718725"], ["updated_at", "2025-10-15 23:35:04.718725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1154], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1154], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1154], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:35:04.721473"], ["updated_at", "2025-10-15 23:35:04.721473"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.724761"], ["updated_at", "2025-10-15 23:35:04.724761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1155], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1155], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1155], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:35:04.727112"], ["updated_at", "2025-10-15 23:35:04.727112"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.727825"], ["updated_at", "2025-10-15 23:35:04.727825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1156], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.730327"], ["updated_at", "2025-10-15 23:35:04.730327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1157], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1157], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1157], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:35:04.732568"], ["updated_at", "2025-10-15 23:35:04.732568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.734518"], ["updated_at", "2025-10-15 23:35:04.734518"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1158], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1158], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1158], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:35:04.736829"], ["updated_at", "2025-10-15 23:35:04.736829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.738345"], ["updated_at", "2025-10-15 23:35:04.738345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1159], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1159], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1159], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:35:04.740288"], ["updated_at", "2025-10-15 23:35:04.740288"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.743312"], ["updated_at", "2025-10-15 23:35:04.743312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1160], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1160], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1160], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:35:04.746468"], ["updated_at", "2025-10-15 23:35:04.746468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1160], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1160], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1160], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:35:04.748708"], ["updated_at", "2025-10-15 23:35:04.748708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1160], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1160], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1160], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:35:04.751117"], ["updated_at", "2025-10-15 23:35:04.751117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1160], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1160], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.759254"], ["updated_at", "2025-10-15 23:35:04.759254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1161], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1161], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1161], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:35:04.764054"], ["updated_at", "2025-10-15 23:35:04.764054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1161], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 959]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 959]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1161], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1161], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1161]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 959], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.806253"], ["updated_at", "2025-10-15 23:35:04.806253"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1162], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1162], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:35:04.808244"], ["updated_at", "2025-10-15 23:35:04.808244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.810819"], ["updated_at", "2025-10-15 23:35:04.810819"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1163], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1163], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:35:04.812711"], ["updated_at", "2025-10-15 23:35:04.812711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.814988"], ["updated_at", "2025-10-15 23:35:04.814988"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1164], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1164], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:35:04.816993"], ["updated_at", "2025-10-15 23:35:04.816993"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.831492"], ["updated_at", "2025-10-15 23:35:04.831492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1165], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1165], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:35:04.833396"], ["updated_at", "2025-10-15 23:35:04.833396"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.835671"], ["updated_at", "2025-10-15 23:35:04.835671"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1166], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1166], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:35:04.837442"], ["updated_at", "2025-10-15 23:35:04.837442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.842604"], ["updated_at", "2025-10-15 23:35:04.842604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1167], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1167], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:35:04.844636"], ["updated_at", "2025-10-15 23:35:04.844636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.847058"], ["updated_at", "2025-10-15 23:35:04.847058"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1168], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1168], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:35:04.848765"], ["updated_at", "2025-10-15 23:35:04.848765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.850774"], ["updated_at", "2025-10-15 23:35:04.850774"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1169], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1169], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:35:04.852612"], ["updated_at", "2025-10-15 23:35:04.852612"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.855151"], ["updated_at", "2025-10-15 23:35:04.855151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1170], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1170], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:35:04.856776"], ["updated_at", "2025-10-15 23:35:04.856776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 968], ["resource_type", "TestOrder"], ["resource_id", 1170], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.859386"], ["updated_at", "2025-10-15 23:35:04.859386"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1171], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1171], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:35:04.861281"], ["updated_at", "2025-10-15 23:35:04.861281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 969], ["resource_type", "TestOrder"], ["resource_id", 1171], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:35:04.862687"], ["id", 969]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 969], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.866015"], ["updated_at", "2025-10-15 23:35:04.866015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1172], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1172], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:35:04.867708"], ["updated_at", "2025-10-15 23:35:04.867708"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.870078"], ["updated_at", "2025-10-15 23:35:04.870078"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1173], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1173], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:35:04.872011"], ["updated_at", "2025-10-15 23:35:04.872011"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:35:04.873859"], ["updated_at", "2025-10-15 23:35:04.873859"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1174], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1174], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:35:04.875285"], ["updated_at", "2025-10-15 23:35:04.875285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.933436"], ["updated_at", "2025-10-15 23:37:23.933436"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.938143"], ["updated_at", "2025-10-15 23:37:23.938143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.940292"], ["updated_at", "2025-10-15 23:37:23.940292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.942702"], ["updated_at", "2025-10-15 23:37:23.942702"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.944884"], ["updated_at", "2025-10-15 23:37:23.944884"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.947762"], ["updated_at", "2025-10-15 23:37:23.947762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.950978"], ["updated_at", "2025-10-15 23:37:23.950978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (1.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1181], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1181], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1181], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:37:23.970806"], ["updated_at", "2025-10-15 23:37:23.970806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.974276"], ["updated_at", "2025-10-15 23:37:23.974276"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1182], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1182], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1182], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:37:23.977840"], ["updated_at", "2025-10-15 23:37:23.977840"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.980231"], ["updated_at", "2025-10-15 23:37:23.980231"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1183], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1183], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1183], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:37:23.987048"], ["updated_at", "2025-10-15 23:37:23.987048"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.991651"], ["updated_at", "2025-10-15 23:37:23.991651"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:23.994744"], ["updated_at", "2025-10-15 23:37:23.994744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1185], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1185], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1185], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:37:23.997146"], ["updated_at", "2025-10-15 23:37:23.997146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 976], ["resource_type", "TestOrder"], ["resource_id", 1185], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:37:24.001970"], ["id", 976]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.004886"], ["updated_at", "2025-10-15 23:37:24.004886"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1186], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.008362"], ["updated_at", "2025-10-15 23:37:24.008362"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1187], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1187], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1187], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:37:24.010973"], ["updated_at", "2025-10-15 23:37:24.010973"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.013383"], ["updated_at", "2025-10-15 23:37:24.013383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1188], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.016163"], ["updated_at", "2025-10-15 23:37:24.016163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1189], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1189], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1189], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:37:24.019015"], ["updated_at", "2025-10-15 23:37:24.019015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.022312"], ["updated_at", "2025-10-15 23:37:24.022312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1190], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1190], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1190], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:37:24.024606"], ["updated_at", "2025-10-15 23:37:24.024606"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.025412"], ["updated_at", "2025-10-15 23:37:24.025412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1191], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.028132"], ["updated_at", "2025-10-15 23:37:24.028132"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1192], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1192], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1192], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:37:24.030891"], ["updated_at", "2025-10-15 23:37:24.030891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.033327"], ["updated_at", "2025-10-15 23:37:24.033327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1193], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1193], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1193], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:37:24.035816"], ["updated_at", "2025-10-15 23:37:24.035816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.037652"], ["updated_at", "2025-10-15 23:37:24.037652"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1194], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1194], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1194], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:37:24.039944"], ["updated_at", "2025-10-15 23:37:24.039944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.043727"], ["updated_at", "2025-10-15 23:37:24.043727"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1195], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1195], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1195], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:37:24.046792"], ["updated_at", "2025-10-15 23:37:24.046792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1195], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1195], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1195], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:37:24.049302"], ["updated_at", "2025-10-15 23:37:24.049302"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1195], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1195], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1195], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:37:24.051913"], ["updated_at", "2025-10-15 23:37:24.051913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1195], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1195], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.061696"], ["updated_at", "2025-10-15 23:37:24.061696"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1196], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1196], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1196], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:37:24.066663"], ["updated_at", "2025-10-15 23:37:24.066663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1196], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 986]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 986]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1196], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1196], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1196]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 986], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.110326"], ["updated_at", "2025-10-15 23:37:24.110326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1197], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1197], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:37:24.112954"], ["updated_at", "2025-10-15 23:37:24.112954"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.115656"], ["updated_at", "2025-10-15 23:37:24.115656"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1198], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1198], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:37:24.117555"], ["updated_at", "2025-10-15 23:37:24.117555"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.119506"], ["updated_at", "2025-10-15 23:37:24.119506"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1199], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1199], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:37:24.121451"], ["updated_at", "2025-10-15 23:37:24.121451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.133619"], ["updated_at", "2025-10-15 23:37:24.133619"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1200], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1200], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:37:24.135569"], ["updated_at", "2025-10-15 23:37:24.135569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.137830"], ["updated_at", "2025-10-15 23:37:24.137830"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1201], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1201], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:37:24.139540"], ["updated_at", "2025-10-15 23:37:24.139540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.145387"], ["updated_at", "2025-10-15 23:37:24.145387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1202], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1202], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:37:24.147237"], ["updated_at", "2025-10-15 23:37:24.147237"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.149391"], ["updated_at", "2025-10-15 23:37:24.149391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1203], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1203], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:37:24.151183"], ["updated_at", "2025-10-15 23:37:24.151183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.153376"], ["updated_at", "2025-10-15 23:37:24.153376"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1204], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1204], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:37:24.155138"], ["updated_at", "2025-10-15 23:37:24.155138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.157504"], ["updated_at", "2025-10-15 23:37:24.157504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1205], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1205], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:37:24.159403"], ["updated_at", "2025-10-15 23:37:24.159403"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 995], ["resource_type", "TestOrder"], ["resource_id", 1205], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.162062"], ["updated_at", "2025-10-15 23:37:24.162062"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1206], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1206], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:37:24.163726"], ["updated_at", "2025-10-15 23:37:24.163726"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 996], ["resource_type", "TestOrder"], ["resource_id", 1206], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:37:24.165097"], ["id", 996]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 996], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.168234"], ["updated_at", "2025-10-15 23:37:24.168234"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1207], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1207], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:37:24.169951"], ["updated_at", "2025-10-15 23:37:24.169951"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.172220"], ["updated_at", "2025-10-15 23:37:24.172220"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1208], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1208], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:37:24.174027"], ["updated_at", "2025-10-15 23:37:24.174027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:37:24.176234"], ["updated_at", "2025-10-15 23:37:24.176234"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1209], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1209], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:37:24.178012"], ["updated_at", "2025-10-15 23:37:24.178012"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.629490"], ["updated_at", "2025-10-15 23:38:35.629490"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.636150"], ["updated_at", "2025-10-15 23:38:35.636150"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.638364"], ["updated_at", "2025-10-15 23:38:35.638364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.640350"], ["updated_at", "2025-10-15 23:38:35.640350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.642391"], ["updated_at", "2025-10-15 23:38:35.642391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.645271"], ["updated_at", "2025-10-15 23:38:35.645271"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.648296"], ["updated_at", "2025-10-15 23:38:35.648296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1216], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1216], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1216], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:38:35.664891"], ["updated_at", "2025-10-15 23:38:35.664891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.668406"], ["updated_at", "2025-10-15 23:38:35.668406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1217], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1217], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1217], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:38:35.670820"], ["updated_at", "2025-10-15 23:38:35.670820"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.674065"], ["updated_at", "2025-10-15 23:38:35.674065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1218], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1218], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1218], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:38:35.679370"], ["updated_at", "2025-10-15 23:38:35.679370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.682178"], ["updated_at", "2025-10-15 23:38:35.682178"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.684646"], ["updated_at", "2025-10-15 23:38:35.684646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1220], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1220], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1220], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:38:35.686896"], ["updated_at", "2025-10-15 23:38:35.686896"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1003], ["resource_type", "TestOrder"], ["resource_id", 1220], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:38:35.691371"], ["id", 1003]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.694069"], ["updated_at", "2025-10-15 23:38:35.694069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1221], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.697078"], ["updated_at", "2025-10-15 23:38:35.697078"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1222], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1222], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1222], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:38:35.699088"], ["updated_at", "2025-10-15 23:38:35.699088"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.701421"], ["updated_at", "2025-10-15 23:38:35.701421"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1223], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.703521"], ["updated_at", "2025-10-15 23:38:35.703521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1224], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1224], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1224], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:38:35.706163"], ["updated_at", "2025-10-15 23:38:35.706163"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.709318"], ["updated_at", "2025-10-15 23:38:35.709318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1225], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1225], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1225], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:38:35.712243"], ["updated_at", "2025-10-15 23:38:35.712243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.713021"], ["updated_at", "2025-10-15 23:38:35.713021"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1226], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.715351"], ["updated_at", "2025-10-15 23:38:35.715351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1227], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1227], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1227], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:38:35.717572"], ["updated_at", "2025-10-15 23:38:35.717572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.720034"], ["updated_at", "2025-10-15 23:38:35.720034"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1228], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1228], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1228], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:38:35.722491"], ["updated_at", "2025-10-15 23:38:35.722491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.724524"], ["updated_at", "2025-10-15 23:38:35.724524"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1229], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1229], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1229], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:38:35.726876"], ["updated_at", "2025-10-15 23:38:35.726876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.730285"], ["updated_at", "2025-10-15 23:38:35.730285"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1230], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1230], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1230], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:38:35.733769"], ["updated_at", "2025-10-15 23:38:35.733769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1230], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1230], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1230], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:38:35.736038"], ["updated_at", "2025-10-15 23:38:35.736038"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1230], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1230], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1230], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:38:35.739421"], ["updated_at", "2025-10-15 23:38:35.739421"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1230], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.746689"], ["updated_at", "2025-10-15 23:38:35.746689"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1231], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1231], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1231], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:38:35.752114"], ["updated_at", "2025-10-15 23:38:35.752114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1231], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1013]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1013]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1231], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1231], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1231]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1013], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.772672"], ["updated_at", "2025-10-15 23:38:35.772672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1232], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1232], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:38:35.774659"], ["updated_at", "2025-10-15 23:38:35.774659"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 1014], ["resource_type", "TestOrder"], ["resource_id", 1232], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 1014], ["resource_type", "TestOrder"], ["resource_id", 1232], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.783154"], ["updated_at", "2025-10-15 23:38:35.783154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1233], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1233], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:38:35.784906"], ["updated_at", "2025-10-15 23:38:35.784906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1015], ["resource_type", "TestOrder"], ["resource_id", 1233], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1015], ["resource_type", "TestOrder"], ["resource_id", 1233], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.789616"], ["updated_at", "2025-10-15 23:38:35.789616"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1234], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1234], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:38:35.791136"], ["updated_at", "2025-10-15 23:38:35.791136"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1016], ["resource_type", "TestOrder"], ["resource_id", 1234], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.794636"], ["updated_at", "2025-10-15 23:38:35.794636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1235], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1235], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:38:35.796345"], ["updated_at", "2025-10-15 23:38:35.796345"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1017], ["resource_type", "TestOrder"], ["resource_id", 1235], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1017], ["resource_type", "TestOrder"], ["resource_id", 1235], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1017], ["resource_type", "TestOrder"], ["resource_id", 1235], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1017], ["resource_type", "TestOrder"], ["resource_id", 1235], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.801151"], ["updated_at", "2025-10-15 23:38:35.801151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1236], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1236], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:38:35.802622"], ["updated_at", "2025-10-15 23:38:35.802622"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1018], ["resource_type", "TestOrder"], ["resource_id", 1236], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1018], ["resource_type", "TestOrder"], ["resource_id", 1236], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.809189"], ["updated_at", "2025-10-15 23:38:35.809189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1237], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1237], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:38:35.811079"], ["updated_at", "2025-10-15 23:38:35.811079"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.813384"], ["updated_at", "2025-10-15 23:38:35.813384"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1238], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1238], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:38:35.815733"], ["updated_at", "2025-10-15 23:38:35.815733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.818444"], ["updated_at", "2025-10-15 23:38:35.818444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1239], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1239], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:38:35.820307"], ["updated_at", "2025-10-15 23:38:35.820307"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.831978"], ["updated_at", "2025-10-15 23:38:35.831978"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1240], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1240], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:38:35.834623"], ["updated_at", "2025-10-15 23:38:35.834623"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.837038"], ["updated_at", "2025-10-15 23:38:35.837038"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1241], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1241], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:38:35.838735"], ["updated_at", "2025-10-15 23:38:35.838735"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.844191"], ["updated_at", "2025-10-15 23:38:35.844191"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1242], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1242], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:38:35.846020"], ["updated_at", "2025-10-15 23:38:35.846020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.848479"], ["updated_at", "2025-10-15 23:38:35.848479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1243], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1243], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:38:35.850534"], ["updated_at", "2025-10-15 23:38:35.850534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.852857"], ["updated_at", "2025-10-15 23:38:35.852857"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1244], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1244], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:38:35.854534"], ["updated_at", "2025-10-15 23:38:35.854534"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.857058"], ["updated_at", "2025-10-15 23:38:35.857058"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1245], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1245], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:38:35.858755"], ["updated_at", "2025-10-15 23:38:35.858755"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1027], ["resource_type", "TestOrder"], ["resource_id", 1245], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.861472"], ["updated_at", "2025-10-15 23:38:35.861472"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1246], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1246], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:38:35.862937"], ["updated_at", "2025-10-15 23:38:35.862937"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1028], ["resource_type", "TestOrder"], ["resource_id", 1246], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:38:35.864351"], ["id", 1028]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1028], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.867890"], ["updated_at", "2025-10-15 23:38:35.867890"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1247], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1247], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:38:35.869919"], ["updated_at", "2025-10-15 23:38:35.869919"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.872246"], ["updated_at", "2025-10-15 23:38:35.872246"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1248], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1248], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:38:35.874645"], ["updated_at", "2025-10-15 23:38:35.874645"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:38:35.877684"], ["updated_at", "2025-10-15 23:38:35.877684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1249], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1249], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:38:35.879464"], ["updated_at", "2025-10-15 23:38:35.879464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.231455"], ["updated_at", "2025-10-15 23:41:09.231455"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1250], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.275633"], ["updated_at", "2025-10-15 23:41:09.275633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1251], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1251], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1251], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:41:09.280554"], ["updated_at", "2025-10-15 23:41:09.280554"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.282846"], ["updated_at", "2025-10-15 23:41:09.282846"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1252], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.285702"], ["updated_at", "2025-10-15 23:41:09.285702"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1253], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.288412"], ["updated_at", "2025-10-15 23:41:09.288412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1254], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.291834"], ["updated_at", "2025-10-15 23:41:09.291834"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1255], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.295773"], ["updated_at", "2025-10-15 23:41:09.295773"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1256], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.300307"], ["updated_at", "2025-10-15 23:41:09.300307"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.303323"], ["updated_at", "2025-10-15 23:41:09.303323"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.306404"], ["updated_at", "2025-10-15 23:41:09.306404"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.308348"], ["updated_at", "2025-10-15 23:41:09.308348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.310348"], ["updated_at", "2025-10-15 23:41:09.310348"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.312588"], ["updated_at", "2025-10-15 23:41:09.312588"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.315693"], ["updated_at", "2025-10-15 23:41:09.315693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1263], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1263], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1263], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:41:09.318601"], ["updated_at", "2025-10-15 23:41:09.318601"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.322350"], ["updated_at", "2025-10-15 23:41:09.322350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1264], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1264], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1264], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-15 23:41:09.325325"], ["updated_at", "2025-10-15 23:41:09.325325"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.328080"], ["updated_at", "2025-10-15 23:41:09.328080"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1265], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1265], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1265], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:41:09.335937"], ["updated_at", "2025-10-15 23:41:09.335937"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.339715"], ["updated_at", "2025-10-15 23:41:09.339715"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.342574"], ["updated_at", "2025-10-15 23:41:09.342574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1267], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1267], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1267], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:41:09.345120"], ["updated_at", "2025-10-15 23:41:09.345120"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1036], ["resource_type", "TestOrder"], ["resource_id", 1267], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-15 23:41:09.349998"], ["id", 1036]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.352585"], ["updated_at", "2025-10-15 23:41:09.352585"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1268], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.356341"], ["updated_at", "2025-10-15 23:41:09.356341"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1269], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1269], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1269], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-15 23:41:09.358882"], ["updated_at", "2025-10-15 23:41:09.358882"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.361898"], ["updated_at", "2025-10-15 23:41:09.361898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1270], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.364305"], ["updated_at", "2025-10-15 23:41:09.364305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1271], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1271], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1271], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-15 23:41:09.366480"], ["updated_at", "2025-10-15 23:41:09.366480"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.370095"], ["updated_at", "2025-10-15 23:41:09.370095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1272], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1272], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1272], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:41:09.372607"], ["updated_at", "2025-10-15 23:41:09.372607"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.373387"], ["updated_at", "2025-10-15 23:41:09.373387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1273], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.375674"], ["updated_at", "2025-10-15 23:41:09.375674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1274], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1274], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1274], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:41:09.377801"], ["updated_at", "2025-10-15 23:41:09.377801"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.380107"], ["updated_at", "2025-10-15 23:41:09.380107"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1275], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1275], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1275], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:41:09.382395"], ["updated_at", "2025-10-15 23:41:09.382395"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.383911"], ["updated_at", "2025-10-15 23:41:09.383911"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1276], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1276], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1276], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-15 23:41:09.385869"], ["updated_at", "2025-10-15 23:41:09.385869"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.387347"], ["updated_at", "2025-10-15 23:41:09.387347"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1277], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1277], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1277], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:41:09.389636"], ["updated_at", "2025-10-15 23:41:09.389636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1277], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1277], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1277], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:41:09.391326"], ["updated_at", "2025-10-15 23:41:09.391326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1277], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1277], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1277], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-15 23:41:09.393100"], ["updated_at", "2025-10-15 23:41:09.393100"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1277], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1277], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.397624"], ["updated_at", "2025-10-15 23:41:09.397624"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1278], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1278], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1278], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-15 23:41:09.399662"], ["updated_at", "2025-10-15 23:41:09.399662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1278], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1046]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1046]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1278], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1278], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1278]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1046], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.418342"], ["updated_at", "2025-10-15 23:41:09.418342"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1279], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1279], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:41:09.421135"], ["updated_at", "2025-10-15 23:41:09.421135"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 1047], ["resource_type", "TestOrder"], ["resource_id", 1279], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 1047], ["resource_type", "TestOrder"], ["resource_id", 1279], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.430382"], ["updated_at", "2025-10-15 23:41:09.430382"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1280], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1280], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:41:09.433208"], ["updated_at", "2025-10-15 23:41:09.433208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1048], ["resource_type", "TestOrder"], ["resource_id", 1280], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1048], ["resource_type", "TestOrder"], ["resource_id", 1280], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.442536"], ["updated_at", "2025-10-15 23:41:09.442536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1281], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1281], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:41:09.445066"], ["updated_at", "2025-10-15 23:41:09.445066"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1049], ["resource_type", "TestOrder"], ["resource_id", 1281], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.451906"], ["updated_at", "2025-10-15 23:41:09.451906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1282], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1282], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:41:09.453479"], ["updated_at", "2025-10-15 23:41:09.453479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1050], ["resource_type", "TestOrder"], ["resource_id", 1282], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1050], ["resource_type", "TestOrder"], ["resource_id", 1282], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1050], ["resource_type", "TestOrder"], ["resource_id", 1282], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1050], ["resource_type", "TestOrder"], ["resource_id", 1282], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.458674"], ["updated_at", "2025-10-15 23:41:09.458674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1283], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1283], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:41:09.461086"], ["updated_at", "2025-10-15 23:41:09.461086"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1051], ["resource_type", "TestOrder"], ["resource_id", 1283], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1051], ["resource_type", "TestOrder"], ["resource_id", 1283], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.468604"], ["updated_at", "2025-10-15 23:41:09.468604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1284], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1284], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:41:09.470511"], ["updated_at", "2025-10-15 23:41:09.470511"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.472662"], ["updated_at", "2025-10-15 23:41:09.472662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1285], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1285], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:41:09.474787"], ["updated_at", "2025-10-15 23:41:09.474787"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.477036"], ["updated_at", "2025-10-15 23:41:09.477036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1286], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1286], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:41:09.478795"], ["updated_at", "2025-10-15 23:41:09.478795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.492146"], ["updated_at", "2025-10-15 23:41:09.492146"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1287], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1287], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:41:09.494055"], ["updated_at", "2025-10-15 23:41:09.494055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.496383"], ["updated_at", "2025-10-15 23:41:09.496383"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1288], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1288], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-15 23:41:09.498076"], ["updated_at", "2025-10-15 23:41:09.498076"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.501239"], ["updated_at", "2025-10-15 23:41:09.501239"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1289], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1289], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:41:09.503155"], ["updated_at", "2025-10-15 23:41:09.503155"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.505717"], ["updated_at", "2025-10-15 23:41:09.505717"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1290], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1290], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:41:09.507774"], ["updated_at", "2025-10-15 23:41:09.507774"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.510265"], ["updated_at", "2025-10-15 23:41:09.510265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1291], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1291], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-15 23:41:09.511920"], ["updated_at", "2025-10-15 23:41:09.511920"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.514441"], ["updated_at", "2025-10-15 23:41:09.514441"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1292], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1292], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:41:09.516954"], ["updated_at", "2025-10-15 23:41:09.516954"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1060], ["resource_type", "TestOrder"], ["resource_id", 1292], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.520110"], ["updated_at", "2025-10-15 23:41:09.520110"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1293], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1293], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-15 23:41:09.521763"], ["updated_at", "2025-10-15 23:41:09.521763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1061], ["resource_type", "TestOrder"], ["resource_id", 1293], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-15 23:41:09.523063"], ["id", 1061]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1061], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.526241"], ["updated_at", "2025-10-15 23:41:09.526241"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1294], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1294], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-15 23:41:09.528041"], ["updated_at", "2025-10-15 23:41:09.528041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.530219"], ["updated_at", "2025-10-15 23:41:09.530219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1295], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1295], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-15 23:41:09.532138"], ["updated_at", "2025-10-15 23:41:09.532138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-15 23:41:09.534606"], ["updated_at", "2025-10-15 23:41:09.534606"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1296], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1296], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-15 23:41:09.536108"], ["updated_at", "2025-10-15 23:41:09.536108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.343138"], ["updated_at", "2025-10-16 22:01:28.343138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1297], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.396894"], ["updated_at", "2025-10-16 22:01:28.396894"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1298], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1298], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1298], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:01:28.403580"], ["updated_at", "2025-10-16 22:01:28.403580"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.407557"], ["updated_at", "2025-10-16 22:01:28.407557"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1299], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.413477"], ["updated_at", "2025-10-16 22:01:28.413477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1300], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.417569"], ["updated_at", "2025-10-16 22:01:28.417569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1301], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.421291"], ["updated_at", "2025-10-16 22:01:28.421291"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1302], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.425065"], ["updated_at", "2025-10-16 22:01:28.425065"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1303], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.429154"], ["updated_at", "2025-10-16 22:01:28.429154"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.431560"], ["updated_at", "2025-10-16 22:01:28.431560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.434367"], ["updated_at", "2025-10-16 22:01:28.434367"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.437202"], ["updated_at", "2025-10-16 22:01:28.437202"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.439318"], ["updated_at", "2025-10-16 22:01:28.439318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.441957"], ["updated_at", "2025-10-16 22:01:28.441957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.445407"], ["updated_at", "2025-10-16 22:01:28.445407"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1310], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1310], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1310], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:01:28.448557"], ["updated_at", "2025-10-16 22:01:28.448557"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.453659"], ["updated_at", "2025-10-16 22:01:28.453659"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1311], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1311], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1311], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-16 22:01:28.456392"], ["updated_at", "2025-10-16 22:01:28.456392"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.458747"], ["updated_at", "2025-10-16 22:01:28.458747"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1312], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1312], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1312], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:01:28.464304"], ["updated_at", "2025-10-16 22:01:28.464304"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.467504"], ["updated_at", "2025-10-16 22:01:28.467504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.470496"], ["updated_at", "2025-10-16 22:01:28.470496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1314], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1314], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1314], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:01:28.473234"], ["updated_at", "2025-10-16 22:01:28.473234"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1069], ["resource_type", "TestOrder"], ["resource_id", 1314], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-16 22:01:28.478420"], ["id", 1069]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.481451"], ["updated_at", "2025-10-16 22:01:28.481451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1315], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.485594"], ["updated_at", "2025-10-16 22:01:28.485594"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1316], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1316], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1316], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-16 22:01:28.488470"], ["updated_at", "2025-10-16 22:01:28.488470"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.492015"], ["updated_at", "2025-10-16 22:01:28.492015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1317], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.494800"], ["updated_at", "2025-10-16 22:01:28.494800"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1318], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1318], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1318], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:01:28.497271"], ["updated_at", "2025-10-16 22:01:28.497271"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.501566"], ["updated_at", "2025-10-16 22:01:28.501566"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1319], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1319], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1319], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:01:28.504500"], ["updated_at", "2025-10-16 22:01:28.504500"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.505267"], ["updated_at", "2025-10-16 22:01:28.505267"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1320], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.508184"], ["updated_at", "2025-10-16 22:01:28.508184"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1321], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1321], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1321], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:01:28.510688"], ["updated_at", "2025-10-16 22:01:28.510688"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.513323"], ["updated_at", "2025-10-16 22:01:28.513323"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1322], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1322], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1322], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:01:28.515792"], ["updated_at", "2025-10-16 22:01:28.515792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.517725"], ["updated_at", "2025-10-16 22:01:28.517725"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1323], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1323], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1323], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-16 22:01:28.520081"], ["updated_at", "2025-10-16 22:01:28.520081"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.521731"], ["updated_at", "2025-10-16 22:01:28.521731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1324], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1324], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1324], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:01:28.524610"], ["updated_at", "2025-10-16 22:01:28.524610"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1324], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1324], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1324], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:01:28.526488"], ["updated_at", "2025-10-16 22:01:28.526488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1324], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1324], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1324], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-16 22:01:28.528329"], ["updated_at", "2025-10-16 22:01:28.528329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1324], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.533426"], ["updated_at", "2025-10-16 22:01:28.533426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1325], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1325], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1325], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:01:28.536281"], ["updated_at", "2025-10-16 22:01:28.536281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.5ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1325], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1079]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1079]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1325], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1325], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1325]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1079], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.558753"], ["updated_at", "2025-10-16 22:01:28.558753"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1326], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1326], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.563189"], ["updated_at", "2025-10-16 22:01:28.563189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 1080], ["resource_type", "TestOrder"], ["resource_id", 1326], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 1080], ["resource_type", "TestOrder"], ["resource_id", 1326], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.573835"], ["updated_at", "2025-10-16 22:01:28.573835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1327], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1327], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.577312"], ["updated_at", "2025-10-16 22:01:28.577312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1327], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1327], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "SUBTOTAL"], ["resource_type", "TestOrder"], ["resource_id", 1327], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins"[0m
  [1m[36mShoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes Load (0.3ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1327], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "Shoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes"], ["resource_id", 1327], ["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1328], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1328], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.595559"], ["updated_at", "2025-10-16 22:01:28.595559"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1328], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1328], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.597508"], ["updated_at", "2025-10-16 22:01:28.597508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1082], ["resource_type", "TestOrder"], ["resource_id", 1328], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1082], ["resource_type", "TestOrder"], ["resource_id", 1328], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.604438"], ["updated_at", "2025-10-16 22:01:28.604438"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1329], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1329], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.606404"], ["updated_at", "2025-10-16 22:01:28.606404"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1083], ["resource_type", "TestOrder"], ["resource_id", 1329], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1083], ["resource_type", "TestOrder"], ["resource_id", 1329], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1083], ["resource_type", "TestOrder"], ["resource_id", 1329], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1083], ["resource_type", "TestOrder"], ["resource_id", 1329], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.611735"], ["updated_at", "2025-10-16 22:01:28.611735"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1330], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1330], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.613515"], ["updated_at", "2025-10-16 22:01:28.613515"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1084], ["resource_type", "TestOrder"], ["resource_id", 1330], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.618158"], ["updated_at", "2025-10-16 22:01:28.618158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1331], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1331], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.620504"], ["updated_at", "2025-10-16 22:01:28.620504"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1085], ["resource_type", "TestOrder"], ["resource_id", 1331], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1085], ["resource_type", "TestOrder"], ["resource_id", 1331], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.627143"], ["updated_at", "2025-10-16 22:01:28.627143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1332], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1332], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:01:28.629508"], ["updated_at", "2025-10-16 22:01:28.629508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.632694"], ["updated_at", "2025-10-16 22:01:28.632694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1333], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1333], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:01:28.635505"], ["updated_at", "2025-10-16 22:01:28.635505"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.638947"], ["updated_at", "2025-10-16 22:01:28.638947"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1334], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1334], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:01:28.641254"], ["updated_at", "2025-10-16 22:01:28.641254"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.654295"], ["updated_at", "2025-10-16 22:01:28.654295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1335], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1335], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:01:28.656355"], ["updated_at", "2025-10-16 22:01:28.656355"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.658785"], ["updated_at", "2025-10-16 22:01:28.658785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1336], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1336], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:01:28.660957"], ["updated_at", "2025-10-16 22:01:28.660957"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.663878"], ["updated_at", "2025-10-16 22:01:28.663878"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1337], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1337], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:01:28.665793"], ["updated_at", "2025-10-16 22:01:28.665793"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.668387"], ["updated_at", "2025-10-16 22:01:28.668387"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1338], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1338], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:01:28.670093"], ["updated_at", "2025-10-16 22:01:28.670093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.672422"], ["updated_at", "2025-10-16 22:01:28.672422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1339], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1339], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:01:28.674560"], ["updated_at", "2025-10-16 22:01:28.674560"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.677600"], ["updated_at", "2025-10-16 22:01:28.677600"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1340], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1340], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.680100"], ["updated_at", "2025-10-16 22:01:28.680100"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1094], ["resource_type", "TestOrder"], ["resource_id", 1340], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.683425"], ["updated_at", "2025-10-16 22:01:28.683425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1341], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1341], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:01:28.685231"], ["updated_at", "2025-10-16 22:01:28.685231"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1095], ["resource_type", "TestOrder"], ["resource_id", 1341], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-16 22:01:28.686826"], ["id", 1095]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1095], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.689956"], ["updated_at", "2025-10-16 22:01:28.689956"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1342], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1342], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-16 22:01:28.691986"], ["updated_at", "2025-10-16 22:01:28.691986"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.694451"], ["updated_at", "2025-10-16 22:01:28.694451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1343], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1343], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-16 22:01:28.696405"], ["updated_at", "2025-10-16 22:01:28.696405"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:01:28.699257"], ["updated_at", "2025-10-16 22:01:28.699257"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1344], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1344], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-16 22:01:28.701004"], ["updated_at", "2025-10-16 22:01:28.701004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.145388"], ["updated_at", "2025-10-16 22:08:34.145388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1345], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.193391"], ["updated_at", "2025-10-16 22:08:34.193391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1346], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1346], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1346], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:08:34.198968"], ["updated_at", "2025-10-16 22:08:34.198968"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.202673"], ["updated_at", "2025-10-16 22:08:34.202673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1347], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.208053"], ["updated_at", "2025-10-16 22:08:34.208053"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1348], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.212178"], ["updated_at", "2025-10-16 22:08:34.212178"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1349], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.215406"], ["updated_at", "2025-10-16 22:08:34.215406"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1350], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.219309"], ["updated_at", "2025-10-16 22:08:34.219309"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1351], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.222994"], ["updated_at", "2025-10-16 22:08:34.222994"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.226070"], ["updated_at", "2025-10-16 22:08:34.226070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.229078"], ["updated_at", "2025-10-16 22:08:34.229078"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.231591"], ["updated_at", "2025-10-16 22:08:34.231591"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.235468"], ["updated_at", "2025-10-16 22:08:34.235468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.238421"], ["updated_at", "2025-10-16 22:08:34.238421"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.241384"], ["updated_at", "2025-10-16 22:08:34.241384"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1358], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1358], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1358], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:08:34.244711"], ["updated_at", "2025-10-16 22:08:34.244711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.248842"], ["updated_at", "2025-10-16 22:08:34.248842"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1359], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1359], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1359], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-16 22:08:34.251587"], ["updated_at", "2025-10-16 22:08:34.251587"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.253764"], ["updated_at", "2025-10-16 22:08:34.253764"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1360], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1360], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1360], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:08:34.258529"], ["updated_at", "2025-10-16 22:08:34.258529"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.261544"], ["updated_at", "2025-10-16 22:08:34.261544"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.263965"], ["updated_at", "2025-10-16 22:08:34.263965"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1362], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1362], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1362], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:08:34.266710"], ["updated_at", "2025-10-16 22:08:34.266710"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1103], ["resource_type", "TestOrder"], ["resource_id", 1362], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-16 22:08:34.271573"], ["id", 1103]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.274329"], ["updated_at", "2025-10-16 22:08:34.274329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1363], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.278649"], ["updated_at", "2025-10-16 22:08:34.278649"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1364], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1364], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1364], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-16 22:08:34.281275"], ["updated_at", "2025-10-16 22:08:34.281275"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.284317"], ["updated_at", "2025-10-16 22:08:34.284317"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1365], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.286804"], ["updated_at", "2025-10-16 22:08:34.286804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1366], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1366], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1366], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:08:34.288963"], ["updated_at", "2025-10-16 22:08:34.288963"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.293140"], ["updated_at", "2025-10-16 22:08:34.293140"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1367], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1367], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1367], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:08:34.295838"], ["updated_at", "2025-10-16 22:08:34.295838"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.296528"], ["updated_at", "2025-10-16 22:08:34.296528"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1368], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.299243"], ["updated_at", "2025-10-16 22:08:34.299243"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1369], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1369], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1369], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:08:34.301759"], ["updated_at", "2025-10-16 22:08:34.301759"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.304425"], ["updated_at", "2025-10-16 22:08:34.304425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1370], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1370], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1370], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:08:34.306795"], ["updated_at", "2025-10-16 22:08:34.306795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.308677"], ["updated_at", "2025-10-16 22:08:34.308677"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1371], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1371], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1371], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-16 22:08:34.311123"], ["updated_at", "2025-10-16 22:08:34.311123"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.313087"], ["updated_at", "2025-10-16 22:08:34.313087"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1372], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1372], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1372], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:08:34.315604"], ["updated_at", "2025-10-16 22:08:34.315604"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1372], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1372], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1372], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:08:34.317447"], ["updated_at", "2025-10-16 22:08:34.317447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1372], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1372], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1372], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-16 22:08:34.319279"], ["updated_at", "2025-10-16 22:08:34.319279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1372], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1372], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.324290"], ["updated_at", "2025-10-16 22:08:34.324290"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1373], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1373], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1373], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:08:34.326866"], ["updated_at", "2025-10-16 22:08:34.326866"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1373], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1113]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1113]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.8ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1373], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1373], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1373]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1113], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.349292"], ["updated_at", "2025-10-16 22:08:34.349292"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1374], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1374], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.353540"], ["updated_at", "2025-10-16 22:08:34.353540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 1114], ["resource_type", "TestOrder"], ["resource_id", 1374], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 1114], ["resource_type", "TestOrder"], ["resource_id", 1374], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.364744"], ["updated_at", "2025-10-16 22:08:34.364744"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1375], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1375], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.367709"], ["updated_at", "2025-10-16 22:08:34.367709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtitle"], ["id", 1115], ["resource_type", "TestOrder"], ["resource_id", 1375], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.372785"], ["updated_at", "2025-10-16 22:08:34.372785"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1376], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1376], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.374995"], ["updated_at", "2025-10-16 22:08:34.374995"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1376], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1376], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "SUBTOTAL"], ["resource_type", "TestOrder"], ["resource_id", 1376], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins"[0m
  [1m[36mShoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1376], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "Shoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes"], ["resource_id", 1376], ["LIMIT", 1]]
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1377], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1377], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.393369"], ["updated_at", "2025-10-16 22:08:34.393369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1377], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1377], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.395167"], ["updated_at", "2025-10-16 22:08:34.395167"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1117], ["resource_type", "TestOrder"], ["resource_id", 1377], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1117], ["resource_type", "TestOrder"], ["resource_id", 1377], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.400942"], ["updated_at", "2025-10-16 22:08:34.400942"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1378], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1378], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.404871"], ["updated_at", "2025-10-16 22:08:34.404871"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1118], ["resource_type", "TestOrder"], ["resource_id", 1378], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1118], ["resource_type", "TestOrder"], ["resource_id", 1378], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1118], ["resource_type", "TestOrder"], ["resource_id", 1378], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1118], ["resource_type", "TestOrder"], ["resource_id", 1378], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.413027"], ["updated_at", "2025-10-16 22:08:34.413027"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1379], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1379], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.414813"], ["updated_at", "2025-10-16 22:08:34.414813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1119], ["resource_type", "TestOrder"], ["resource_id", 1379], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.419089"], ["updated_at", "2025-10-16 22:08:34.419089"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1380], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1380], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.421035"], ["updated_at", "2025-10-16 22:08:34.421035"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1120], ["resource_type", "TestOrder"], ["resource_id", 1380], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1120], ["resource_type", "TestOrder"], ["resource_id", 1380], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.427644"], ["updated_at", "2025-10-16 22:08:34.427644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1381], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1381], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:08:34.429626"], ["updated_at", "2025-10-16 22:08:34.429626"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.431977"], ["updated_at", "2025-10-16 22:08:34.431977"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1382], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1382], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:08:34.433962"], ["updated_at", "2025-10-16 22:08:34.433962"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.436270"], ["updated_at", "2025-10-16 22:08:34.436270"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1383], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1383], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:08:34.439346"], ["updated_at", "2025-10-16 22:08:34.439346"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.454765"], ["updated_at", "2025-10-16 22:08:34.454765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1384], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1384], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:08:34.457143"], ["updated_at", "2025-10-16 22:08:34.457143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.460055"], ["updated_at", "2025-10-16 22:08:34.460055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1385], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1385], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:08:34.462037"], ["updated_at", "2025-10-16 22:08:34.462037"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.464980"], ["updated_at", "2025-10-16 22:08:34.464980"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1386], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1386], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:08:34.467002"], ["updated_at", "2025-10-16 22:08:34.467002"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.469568"], ["updated_at", "2025-10-16 22:08:34.469568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1387], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1387], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:08:34.471422"], ["updated_at", "2025-10-16 22:08:34.471422"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.473489"], ["updated_at", "2025-10-16 22:08:34.473489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1388], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1388], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:08:34.475349"], ["updated_at", "2025-10-16 22:08:34.475349"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.479092"], ["updated_at", "2025-10-16 22:08:34.479092"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1389], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1389], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.480904"], ["updated_at", "2025-10-16 22:08:34.480904"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1129], ["resource_type", "TestOrder"], ["resource_id", 1389], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.483768"], ["updated_at", "2025-10-16 22:08:34.483768"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1390], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1390], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:08:34.485709"], ["updated_at", "2025-10-16 22:08:34.485709"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1130], ["resource_type", "TestOrder"], ["resource_id", 1390], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-16 22:08:34.487022"], ["id", 1130]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1130], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.490054"], ["updated_at", "2025-10-16 22:08:34.490054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1391], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1391], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-16 22:08:34.491875"], ["updated_at", "2025-10-16 22:08:34.491875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.494164"], ["updated_at", "2025-10-16 22:08:34.494164"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1392], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1392], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-16 22:08:34.495870"], ["updated_at", "2025-10-16 22:08:34.495870"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:08:34.498020"], ["updated_at", "2025-10-16 22:08:34.498020"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1393], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1393], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-16 22:08:34.499925"], ["updated_at", "2025-10-16 22:08:34.499925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.557502"], ["updated_at", "2025-10-16 22:09:50.557502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.7ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1394], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.602357"], ["updated_at", "2025-10-16 22:09:50.602357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1395], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1395], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1395], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:09:50.607693"], ["updated_at", "2025-10-16 22:09:50.607693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.610166"], ["updated_at", "2025-10-16 22:09:50.610166"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1396], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.613061"], ["updated_at", "2025-10-16 22:09:50.613061"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1397], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.616240"], ["updated_at", "2025-10-16 22:09:50.616240"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1398], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.619593"], ["updated_at", "2025-10-16 22:09:50.619593"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1399], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.623069"], ["updated_at", "2025-10-16 22:09:50.623069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1400], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.627050"], ["updated_at", "2025-10-16 22:09:50.627050"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.631394"], ["updated_at", "2025-10-16 22:09:50.631394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.634865"], ["updated_at", "2025-10-16 22:09:50.634865"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.637653"], ["updated_at", "2025-10-16 22:09:50.637653"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.640477"], ["updated_at", "2025-10-16 22:09:50.640477"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.643266"], ["updated_at", "2025-10-16 22:09:50.643266"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.646592"], ["updated_at", "2025-10-16 22:09:50.646592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1407], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1407], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1407], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:09:50.649402"], ["updated_at", "2025-10-16 22:09:50.649402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.654157"], ["updated_at", "2025-10-16 22:09:50.654157"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1408], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1408], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1408], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-16 22:09:50.658568"], ["updated_at", "2025-10-16 22:09:50.658568"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.661271"], ["updated_at", "2025-10-16 22:09:50.661271"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1409], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1409], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1409], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:09:50.667792"], ["updated_at", "2025-10-16 22:09:50.667792"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.671018"], ["updated_at", "2025-10-16 22:09:50.671018"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.673435"], ["updated_at", "2025-10-16 22:09:50.673435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1411], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1411], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1411], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:09:50.675971"], ["updated_at", "2025-10-16 22:09:50.675971"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1138], ["resource_type", "TestOrder"], ["resource_id", 1411], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-16 22:09:50.681804"], ["id", 1138]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.684887"], ["updated_at", "2025-10-16 22:09:50.684887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1412], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.688464"], ["updated_at", "2025-10-16 22:09:50.688464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1413], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1413], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1413], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-16 22:09:50.691128"], ["updated_at", "2025-10-16 22:09:50.691128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.694175"], ["updated_at", "2025-10-16 22:09:50.694175"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1414], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.696853"], ["updated_at", "2025-10-16 22:09:50.696853"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1415], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1415], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1415], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-16 22:09:50.699374"], ["updated_at", "2025-10-16 22:09:50.699374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.703641"], ["updated_at", "2025-10-16 22:09:50.703641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1416], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1416], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1416], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:09:50.706575"], ["updated_at", "2025-10-16 22:09:50.706575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.707349"], ["updated_at", "2025-10-16 22:09:50.707349"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1417], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.710052"], ["updated_at", "2025-10-16 22:09:50.710052"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1418], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1418], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1418], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:09:50.712854"], ["updated_at", "2025-10-16 22:09:50.712854"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.716634"], ["updated_at", "2025-10-16 22:09:50.716634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1419], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1419], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1419], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:09:50.720066"], ["updated_at", "2025-10-16 22:09:50.720066"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.722295"], ["updated_at", "2025-10-16 22:09:50.722295"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1420], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1420], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1420], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-16 22:09:50.724914"], ["updated_at", "2025-10-16 22:09:50.724914"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.726945"], ["updated_at", "2025-10-16 22:09:50.726945"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1421], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1421], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1421], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:09:50.730466"], ["updated_at", "2025-10-16 22:09:50.730466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1421], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1421], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1421], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:09:50.732392"], ["updated_at", "2025-10-16 22:09:50.732392"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1421], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1421], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1421], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-16 22:09:50.734369"], ["updated_at", "2025-10-16 22:09:50.734369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1421], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1421], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.740876"], ["updated_at", "2025-10-16 22:09:50.740876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1422], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1422], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1422], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-16 22:09:50.743706"], ["updated_at", "2025-10-16 22:09:50.743706"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 1422], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1148]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 1148]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1422], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1422], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 1422]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1148], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.764581"], ["updated_at", "2025-10-16 22:09:50.764581"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1423], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1423], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.767932"], ["updated_at", "2025-10-16 22:09:50.767932"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", ""], ["id", 1149], ["resource_type", "TestOrder"], ["resource_id", 1423], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 1149], ["resource_type", "TestOrder"], ["resource_id", 1423], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.779214"], ["updated_at", "2025-10-16 22:09:50.779214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1424], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1424], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.782371"], ["updated_at", "2025-10-16 22:09:50.782371"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "price"], ["id", 1150], ["resource_type", "TestOrder"], ["resource_id", 1424], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.787783"], ["updated_at", "2025-10-16 22:09:50.787783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1425], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1425], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.790999"], ["updated_at", "2025-10-16 22:09:50.790999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "cost"], ["id", 1151], ["resource_type", "TestOrder"], ["resource_id", 1425], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.800483"], ["updated_at", "2025-10-16 22:09:50.800483"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1426], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1426], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.804755"], ["updated_at", "2025-10-16 22:09:50.804755"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "value"], ["id", 1152], ["resource_type", "TestOrder"], ["resource_id", 1426], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.810661"], ["updated_at", "2025-10-16 22:09:50.810661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1427], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1427], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.813069"], ["updated_at", "2025-10-16 22:09:50.813069"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "money"], ["id", 1153], ["resource_type", "TestOrder"], ["resource_id", 1427], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.817453"], ["updated_at", "2025-10-16 22:09:50.817453"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1428], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1428], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.822441"], ["updated_at", "2025-10-16 22:09:50.822441"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1154], ["resource_type", "TestOrder"], ["resource_id", 1428], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.826523"], ["updated_at", "2025-10-16 22:09:50.826523"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1429], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1429], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.828495"], ["updated_at", "2025-10-16 22:09:50.828495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "tax"], ["id", 1155], ["resource_type", "TestOrder"], ["resource_id", 1429], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.831661"], ["updated_at", "2025-10-16 22:09:50.831661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1430], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1430], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.833701"], ["updated_at", "2025-10-16 22:09:50.833701"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "total"], ["id", 1156], ["resource_type", "TestOrder"], ["resource_id", 1430], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.837200"], ["updated_at", "2025-10-16 22:09:50.837200"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1431], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1431], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.839460"], ["updated_at", "2025-10-16 22:09:50.839460"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "shipping"], ["id", 1157], ["resource_type", "TestOrder"], ["resource_id", 1431], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.842930"], ["updated_at", "2025-10-16 22:09:50.842930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1432], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1432], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.844450"], ["updated_at", "2025-10-16 22:09:50.844450"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1432], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1432], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "SUBTOTAL"], ["resource_type", "TestOrder"], ["resource_id", 1432], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins"[0m
  [1m[36mShoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1432], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "Shoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes"], ["resource_id", 1432], ["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 1433], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1433], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.856058"], ["updated_at", "2025-10-16 22:09:50.856058"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1433], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1433], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.858448"], ["updated_at", "2025-10-16 22:09:50.858448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1159], ["resource_type", "TestOrder"], ["resource_id", 1433], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1159], ["resource_type", "TestOrder"], ["resource_id", 1433], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.865479"], ["updated_at", "2025-10-16 22:09:50.865479"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1434], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1434], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.868630"], ["updated_at", "2025-10-16 22:09:50.868630"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1160], ["resource_type", "TestOrder"], ["resource_id", 1434], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1160], ["resource_type", "TestOrder"], ["resource_id", 1434], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1160], ["resource_type", "TestOrder"], ["resource_id", 1434], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1160], ["resource_type", "TestOrder"], ["resource_id", 1434], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.876493"], ["updated_at", "2025-10-16 22:09:50.876493"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1435], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1435], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.878802"], ["updated_at", "2025-10-16 22:09:50.878802"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1161], ["resource_type", "TestOrder"], ["resource_id", 1435], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.883955"], ["updated_at", "2025-10-16 22:09:50.883955"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1436], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1436], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.886205"], ["updated_at", "2025-10-16 22:09:50.886205"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1162], ["resource_type", "TestOrder"], ["resource_id", 1436], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1162], ["resource_type", "TestOrder"], ["resource_id", 1436], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.893692"], ["updated_at", "2025-10-16 22:09:50.893692"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1437], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1437], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:09:50.896034"], ["updated_at", "2025-10-16 22:09:50.896034"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.898435"], ["updated_at", "2025-10-16 22:09:50.898435"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1438], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1438], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:09:50.900399"], ["updated_at", "2025-10-16 22:09:50.900399"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.902447"], ["updated_at", "2025-10-16 22:09:50.902447"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1439], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1439], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:09:50.904644"], ["updated_at", "2025-10-16 22:09:50.904644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.915297"], ["updated_at", "2025-10-16 22:09:50.915297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1440], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1440], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:09:50.917329"], ["updated_at", "2025-10-16 22:09:50.917329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.919365"], ["updated_at", "2025-10-16 22:09:50.919365"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1441], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1441], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-16 22:09:50.921677"], ["updated_at", "2025-10-16 22:09:50.921677"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.925038"], ["updated_at", "2025-10-16 22:09:50.925038"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1442], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1442], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:09:50.926674"], ["updated_at", "2025-10-16 22:09:50.926674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.928971"], ["updated_at", "2025-10-16 22:09:50.928971"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1443], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1443], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:09:50.930766"], ["updated_at", "2025-10-16 22:09:50.930766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.933022"], ["updated_at", "2025-10-16 22:09:50.933022"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1444], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1444], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-16 22:09:50.934571"], ["updated_at", "2025-10-16 22:09:50.934571"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.937283"], ["updated_at", "2025-10-16 22:09:50.937283"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1445], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1445], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.939250"], ["updated_at", "2025-10-16 22:09:50.939250"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1171], ["resource_type", "TestOrder"], ["resource_id", 1445], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.942024"], ["updated_at", "2025-10-16 22:09:50.942024"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1446], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1446], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-16 22:09:50.943521"], ["updated_at", "2025-10-16 22:09:50.943521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 1172], ["resource_type", "TestOrder"], ["resource_id", 1446], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-16 22:09:50.944754"], ["id", 1172]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 1172], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.949198"], ["updated_at", "2025-10-16 22:09:50.949198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1447], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1447], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-16 22:09:50.951128"], ["updated_at", "2025-10-16 22:09:50.951128"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.954042"], ["updated_at", "2025-10-16 22:09:50.954042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1448], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1448], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-16 22:09:50.955995"], ["updated_at", "2025-10-16 22:09:50.955995"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-16 22:09:50.958259"], ["updated_at", "2025-10-16 22:09:50.958259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1449], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1449], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-16 22:09:50.959875"], ["updated_at", "2025-10-16 22:09:50.959875"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4435622828437576755)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.872137"], ["updated_at", "2025-10-17 01:57:04.872137"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.5ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.916622"], ["updated_at", "2025-10-17 01:57:04.916622"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 2], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.931660"], ["updated_at", "2025-10-17 01:57:04.931660"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 3], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.935584"], ["updated_at", "2025-10-17 01:57:04.935584"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 4], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.938879"], ["updated_at", "2025-10-17 01:57:04.938879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 5], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.942318"], ["updated_at", "2025-10-17 01:57:04.942318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 6], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.946312"], ["updated_at", "2025-10-17 01:57:04.946312"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 7], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.950093"], ["updated_at", "2025-10-17 01:57:04.950093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.953388"], ["updated_at", "2025-10-17 01:57:04.953388"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.956339"], ["updated_at", "2025-10-17 01:57:04.956339"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.958720"], ["updated_at", "2025-10-17 01:57:04.958720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.961521"], ["updated_at", "2025-10-17 01:57:04.961521"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.964421"], ["updated_at", "2025-10-17 01:57:04.964421"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.968877"], ["updated_at", "2025-10-17 01:57:04.968877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 14], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.976122"], ["updated_at", "2025-10-17 01:57:04.976122"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 15], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.980475"], ["updated_at", "2025-10-17 01:57:04.980475"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 16], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.988468"], ["updated_at", "2025-10-17 01:57:04.988468"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.991798"], ["updated_at", "2025-10-17 01:57:04.991798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 18], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.995321"], ["updated_at", "2025-10-17 01:57:04.995321"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 19], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:04.999425"], ["updated_at", "2025-10-17 01:57:04.999425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 20], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.005987"], ["updated_at", "2025-10-17 01:57:05.005987"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 21], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.009975"], ["updated_at", "2025-10-17 01:57:05.009975"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 22], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.016318"], ["updated_at", "2025-10-17 01:57:05.016318"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 23], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.023802"], ["updated_at", "2025-10-17 01:57:05.023802"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 24], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.034314"], ["updated_at", "2025-10-17 01:57:05.034314"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 25], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.041614"], ["updated_at", "2025-10-17 01:57:05.041614"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 26], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.049439"], ["updated_at", "2025-10-17 01:57:05.049439"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 27], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:57:05.058860"], ["updated_at", "2025-10-17 01:57:05.058860"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 28], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.391273"], ["updated_at", "2025-10-17 01:58:54.391273"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 29], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.434055"], ["updated_at", "2025-10-17 01:58:54.434055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 30], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 30], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 30], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 01:58:54.438772"], ["updated_at", "2025-10-17 01:58:54.438772"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.441148"], ["updated_at", "2025-10-17 01:58:54.441148"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 31], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.443599"], ["updated_at", "2025-10-17 01:58:54.443599"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 32], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.446251"], ["updated_at", "2025-10-17 01:58:54.446251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 33], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.448930"], ["updated_at", "2025-10-17 01:58:54.448930"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 34], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.451720"], ["updated_at", "2025-10-17 01:58:54.451720"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 35], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.455449"], ["updated_at", "2025-10-17 01:58:54.455449"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.457871"], ["updated_at", "2025-10-17 01:58:54.457871"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.460296"], ["updated_at", "2025-10-17 01:58:54.460296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.462416"], ["updated_at", "2025-10-17 01:58:54.462416"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.464972"], ["updated_at", "2025-10-17 01:58:54.464972"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.467455"], ["updated_at", "2025-10-17 01:58:54.467455"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.470786"], ["updated_at", "2025-10-17 01:58:54.470786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 42], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 42], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 42], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 01:58:54.473781"], ["updated_at", "2025-10-17 01:58:54.473781"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.477517"], ["updated_at", "2025-10-17 01:58:54.477517"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 43], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 43], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 43], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-17 01:58:54.480143"], ["updated_at", "2025-10-17 01:58:54.480143"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.482234"], ["updated_at", "2025-10-17 01:58:54.482234"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 44], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 44], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 44], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 01:58:54.490817"], ["updated_at", "2025-10-17 01:58:54.490817"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.494824"], ["updated_at", "2025-10-17 01:58:54.494824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.497783"], ["updated_at", "2025-10-17 01:58:54.497783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 46], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 46], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 46], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 01:58:54.500622"], ["updated_at", "2025-10-17 01:58:54.500622"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 5], ["resource_type", "TestOrder"], ["resource_id", 46], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.3ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-17 01:58:54.506336"], ["id", 5]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.510224"], ["updated_at", "2025-10-17 01:58:54.510224"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 47], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.513674"], ["updated_at", "2025-10-17 01:58:54.513674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 48], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 48], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 48], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-17 01:58:54.516634"], ["updated_at", "2025-10-17 01:58:54.516634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.519851"], ["updated_at", "2025-10-17 01:58:54.519851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 49], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.522570"], ["updated_at", "2025-10-17 01:58:54.522570"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 50], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 50], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 50], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 01:58:54.524936"], ["updated_at", "2025-10-17 01:58:54.524936"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.528872"], ["updated_at", "2025-10-17 01:58:54.528872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 51], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 51], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 51], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 01:58:54.532618"], ["updated_at", "2025-10-17 01:58:54.532618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.533695"], ["updated_at", "2025-10-17 01:58:54.533695"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 52], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.537717"], ["updated_at", "2025-10-17 01:58:54.537717"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 53], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 53], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 53], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 01:58:54.540207"], ["updated_at", "2025-10-17 01:58:54.540207"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.542924"], ["updated_at", "2025-10-17 01:58:54.542924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 54], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 54], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 54], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 01:58:54.545600"], ["updated_at", "2025-10-17 01:58:54.545600"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.547615"], ["updated_at", "2025-10-17 01:58:54.547615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 55], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 55], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 55], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-17 01:58:54.549861"], ["updated_at", "2025-10-17 01:58:54.549861"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.551681"], ["updated_at", "2025-10-17 01:58:54.551681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 56], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 56], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 56], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 01:58:54.554369"], ["updated_at", "2025-10-17 01:58:54.554369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 56], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 56], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 56], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 01:58:54.556099"], ["updated_at", "2025-10-17 01:58:54.556099"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 56], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 56], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 56], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-17 01:58:54.557933"], ["updated_at", "2025-10-17 01:58:54.557933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 56], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.563564"], ["updated_at", "2025-10-17 01:58:54.563564"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 57], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 57], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 57], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 01:58:54.565949"], ["updated_at", "2025-10-17 01:58:54.565949"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 57], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 15]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 15]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 57], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 57], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 57]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.584829"], ["updated_at", "2025-10-17 01:58:54.584829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 58], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 58], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.587471"], ["updated_at", "2025-10-17 01:58:54.587471"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 16], ["resource_type", "TestOrder"], ["resource_id", 58], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 16], ["resource_type", "TestOrder"], ["resource_id", 58], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.597546"], ["updated_at", "2025-10-17 01:58:54.597546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 59], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 59], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.600636"], ["updated_at", "2025-10-17 01:58:54.600636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "price"], ["id", 17], ["resource_type", "TestOrder"], ["resource_id", 59], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.605811"], ["updated_at", "2025-10-17 01:58:54.605811"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 60], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 60], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.608914"], ["updated_at", "2025-10-17 01:58:54.608914"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "cost"], ["id", 18], ["resource_type", "TestOrder"], ["resource_id", 60], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.614806"], ["updated_at", "2025-10-17 01:58:54.614806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 61], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 61], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.618221"], ["updated_at", "2025-10-17 01:58:54.618221"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "value"], ["id", 19], ["resource_type", "TestOrder"], ["resource_id", 61], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.624114"], ["updated_at", "2025-10-17 01:58:54.624114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 62], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 62], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.625729"], ["updated_at", "2025-10-17 01:58:54.625729"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "money"], ["id", 20], ["resource_type", "TestOrder"], ["resource_id", 62], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.629216"], ["updated_at", "2025-10-17 01:58:54.629216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 63], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 63], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.632983"], ["updated_at", "2025-10-17 01:58:54.632983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 21], ["resource_type", "TestOrder"], ["resource_id", 63], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.636620"], ["updated_at", "2025-10-17 01:58:54.636620"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 64], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 64], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.638425"], ["updated_at", "2025-10-17 01:58:54.638425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "tax"], ["id", 22], ["resource_type", "TestOrder"], ["resource_id", 64], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.641675"], ["updated_at", "2025-10-17 01:58:54.641675"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 65], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 65], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.643560"], ["updated_at", "2025-10-17 01:58:54.643560"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "total"], ["id", 23], ["resource_type", "TestOrder"], ["resource_id", 65], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.647592"], ["updated_at", "2025-10-17 01:58:54.647592"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 66], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 66], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.649129"], ["updated_at", "2025-10-17 01:58:54.649129"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "shipping"], ["id", 24], ["resource_type", "TestOrder"], ["resource_id", 66], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.652042"], ["updated_at", "2025-10-17 01:58:54.652042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 67], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 67], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.653667"], ["updated_at", "2025-10-17 01:58:54.653667"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 67], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 67], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.676193"], ["updated_at", "2025-10-17 01:58:54.676193"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 68], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 68], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.678749"], ["updated_at", "2025-10-17 01:58:54.678749"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 26], ["resource_type", "TestOrder"], ["resource_id", 68], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 26], ["resource_type", "TestOrder"], ["resource_id", 68], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.683644"], ["updated_at", "2025-10-17 01:58:54.683644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 69], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 69], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.686093"], ["updated_at", "2025-10-17 01:58:54.686093"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 27], ["resource_type", "TestOrder"], ["resource_id", 69], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 27], ["resource_type", "TestOrder"], ["resource_id", 69], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 27], ["resource_type", "TestOrder"], ["resource_id", 69], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 27], ["resource_type", "TestOrder"], ["resource_id", 69], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.690926"], ["updated_at", "2025-10-17 01:58:54.690926"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 70], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 70], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.692485"], ["updated_at", "2025-10-17 01:58:54.692485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 28], ["resource_type", "TestOrder"], ["resource_id", 70], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.696496"], ["updated_at", "2025-10-17 01:58:54.696496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 71], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 71], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.698378"], ["updated_at", "2025-10-17 01:58:54.698378"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 29], ["resource_type", "TestOrder"], ["resource_id", 71], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 29], ["resource_type", "TestOrder"], ["resource_id", 71], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.704268"], ["updated_at", "2025-10-17 01:58:54.704268"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 72], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 72], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 01:58:54.706260"], ["updated_at", "2025-10-17 01:58:54.706260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.708260"], ["updated_at", "2025-10-17 01:58:54.708260"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 73], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 73], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 01:58:54.709832"], ["updated_at", "2025-10-17 01:58:54.709832"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.712036"], ["updated_at", "2025-10-17 01:58:54.712036"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 74], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 74], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 01:58:54.713722"], ["updated_at", "2025-10-17 01:58:54.713722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.724204"], ["updated_at", "2025-10-17 01:58:54.724204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 75], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 75], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 01:58:54.726138"], ["updated_at", "2025-10-17 01:58:54.726138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.728357"], ["updated_at", "2025-10-17 01:58:54.728357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 76], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 76], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 01:58:54.729990"], ["updated_at", "2025-10-17 01:58:54.729990"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.733049"], ["updated_at", "2025-10-17 01:58:54.733049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 77], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 77], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 01:58:54.735358"], ["updated_at", "2025-10-17 01:58:54.735358"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.738291"], ["updated_at", "2025-10-17 01:58:54.738291"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 78], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 78], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 01:58:54.740581"], ["updated_at", "2025-10-17 01:58:54.740581"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.742906"], ["updated_at", "2025-10-17 01:58:54.742906"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 79], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 79], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 01:58:54.744723"], ["updated_at", "2025-10-17 01:58:54.744723"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.747283"], ["updated_at", "2025-10-17 01:58:54.747283"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (13.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 80], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 80], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.762357"], ["updated_at", "2025-10-17 01:58:54.762357"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 38], ["resource_type", "TestOrder"], ["resource_id", 80], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.766055"], ["updated_at", "2025-10-17 01:58:54.766055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 81], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 81], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 01:58:54.767983"], ["updated_at", "2025-10-17 01:58:54.767983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 39], ["resource_type", "TestOrder"], ["resource_id", 81], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.3ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-17 01:58:54.770038"], ["id", 39]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.774824"], ["updated_at", "2025-10-17 01:58:54.774824"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 82], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 82], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-17 01:58:54.776732"], ["updated_at", "2025-10-17 01:58:54.776732"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.780802"], ["updated_at", "2025-10-17 01:58:54.780802"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 83], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 83], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-17 01:58:54.782586"], ["updated_at", "2025-10-17 01:58:54.782586"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 01:58:54.785733"], ["updated_at", "2025-10-17 01:58:54.785733"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 84], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 84], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-17 01:58:54.787612"], ["updated_at", "2025-10-17 01:58:54.787612"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.784902"], ["updated_at", "2025-10-17 02:03:33.784902"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 85], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.831995"], ["updated_at", "2025-10-17 02:03:33.831995"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 86], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 86], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 86], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:03:33.838101"], ["updated_at", "2025-10-17 02:03:33.838101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.840684"], ["updated_at", "2025-10-17 02:03:33.840684"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 87], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.843373"], ["updated_at", "2025-10-17 02:03:33.843373"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 88], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.847106"], ["updated_at", "2025-10-17 02:03:33.847106"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 89], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.851297"], ["updated_at", "2025-10-17 02:03:33.851297"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 90], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.854634"], ["updated_at", "2025-10-17 02:03:33.854634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 91], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.858517"], ["updated_at", "2025-10-17 02:03:33.858517"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.861444"], ["updated_at", "2025-10-17 02:03:33.861444"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.864195"], ["updated_at", "2025-10-17 02:03:33.864195"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.867007"], ["updated_at", "2025-10-17 02:03:33.867007"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.869703"], ["updated_at", "2025-10-17 02:03:33.869703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.873265"], ["updated_at", "2025-10-17 02:03:33.873265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.876391"], ["updated_at", "2025-10-17 02:03:33.876391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 98], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 98], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 98], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:03:33.879661"], ["updated_at", "2025-10-17 02:03:33.879661"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.883786"], ["updated_at", "2025-10-17 02:03:33.883786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 99], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 99], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 99], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-17 02:03:33.886574"], ["updated_at", "2025-10-17 02:03:33.886574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.889085"], ["updated_at", "2025-10-17 02:03:33.889085"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 100], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 100], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 100], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:03:33.895332"], ["updated_at", "2025-10-17 02:03:33.895332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.899341"], ["updated_at", "2025-10-17 02:03:33.899341"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.902694"], ["updated_at", "2025-10-17 02:03:33.902694"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 102], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 102], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 102], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:03:33.905724"], ["updated_at", "2025-10-17 02:03:33.905724"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 47], ["resource_type", "TestOrder"], ["resource_id", 102], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-17 02:03:33.908836"], ["id", 47]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.912351"], ["updated_at", "2025-10-17 02:03:33.912351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 103], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.916793"], ["updated_at", "2025-10-17 02:03:33.916793"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 104], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 104], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 104], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-17 02:03:33.919681"], ["updated_at", "2025-10-17 02:03:33.919681"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.922985"], ["updated_at", "2025-10-17 02:03:33.922985"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 105], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.925711"], ["updated_at", "2025-10-17 02:03:33.925711"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 106], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 106], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 106], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:03:33.928238"], ["updated_at", "2025-10-17 02:03:33.928238"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.932519"], ["updated_at", "2025-10-17 02:03:33.932519"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 107], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 107], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 107], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:03:33.935433"], ["updated_at", "2025-10-17 02:03:33.935433"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.936187"], ["updated_at", "2025-10-17 02:03:33.936187"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 108], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.939179"], ["updated_at", "2025-10-17 02:03:33.939179"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 109], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 109], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 109], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:03:33.941632"], ["updated_at", "2025-10-17 02:03:33.941632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.944274"], ["updated_at", "2025-10-17 02:03:33.944274"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 110], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 110], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 110], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:03:33.946991"], ["updated_at", "2025-10-17 02:03:33.946991"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.949055"], ["updated_at", "2025-10-17 02:03:33.949055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 111], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 111], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 111], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-17 02:03:33.951284"], ["updated_at", "2025-10-17 02:03:33.951284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.953116"], ["updated_at", "2025-10-17 02:03:33.953116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 112], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 112], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 112], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:03:33.955879"], ["updated_at", "2025-10-17 02:03:33.955879"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 112], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 112], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 112], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:03:33.957602"], ["updated_at", "2025-10-17 02:03:33.957602"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 112], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 112], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 112], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-17 02:03:33.959389"], ["updated_at", "2025-10-17 02:03:33.959389"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 112], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.964489"], ["updated_at", "2025-10-17 02:03:33.964489"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 113], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 113], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 113], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:03:33.968683"], ["updated_at", "2025-10-17 02:03:33.968683"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.9ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 113], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 57]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 57]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 113], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 113], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 113]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:33.989390"], ["updated_at", "2025-10-17 02:03:33.989390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 114], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 114], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:33.991735"], ["updated_at", "2025-10-17 02:03:33.991735"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 58], ["resource_type", "TestOrder"], ["resource_id", 114], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 58], ["resource_type", "TestOrder"], ["resource_id", 114], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.003369"], ["updated_at", "2025-10-17 02:03:34.003369"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 115], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 115], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.007013"], ["updated_at", "2025-10-17 02:03:34.007013"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "price"], ["id", 59], ["resource_type", "TestOrder"], ["resource_id", 115], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.012265"], ["updated_at", "2025-10-17 02:03:34.012265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 116], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 116], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.014790"], ["updated_at", "2025-10-17 02:03:34.014790"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "cost"], ["id", 60], ["resource_type", "TestOrder"], ["resource_id", 116], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.022269"], ["updated_at", "2025-10-17 02:03:34.022269"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 117], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 117], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.024104"], ["updated_at", "2025-10-17 02:03:34.024104"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "value"], ["id", 61], ["resource_type", "TestOrder"], ["resource_id", 117], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.027138"], ["updated_at", "2025-10-17 02:03:34.027138"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 118], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 118], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.029371"], ["updated_at", "2025-10-17 02:03:34.029371"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "money"], ["id", 62], ["resource_type", "TestOrder"], ["resource_id", 118], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.032480"], ["updated_at", "2025-10-17 02:03:34.032480"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 119], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 119], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.035126"], ["updated_at", "2025-10-17 02:03:34.035126"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 63], ["resource_type", "TestOrder"], ["resource_id", 119], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.038883"], ["updated_at", "2025-10-17 02:03:34.038883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 120], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 120], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.040655"], ["updated_at", "2025-10-17 02:03:34.040655"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "tax"], ["id", 64], ["resource_type", "TestOrder"], ["resource_id", 120], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.043491"], ["updated_at", "2025-10-17 02:03:34.043491"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 121], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 121], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.045117"], ["updated_at", "2025-10-17 02:03:34.045117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "total"], ["id", 65], ["resource_type", "TestOrder"], ["resource_id", 121], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.048389"], ["updated_at", "2025-10-17 02:03:34.048389"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 122], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 122], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.050464"], ["updated_at", "2025-10-17 02:03:34.050464"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "shipping"], ["id", 66], ["resource_type", "TestOrder"], ["resource_id", 122], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.053047"], ["updated_at", "2025-10-17 02:03:34.053047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 123], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 123], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.055042"], ["updated_at", "2025-10-17 02:03:34.055042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 123], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 123], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins"[0m
  [1m[36mShoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "Shoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes"], ["resource_id", 123], ["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 124], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.065922"], ["updated_at", "2025-10-17 02:03:34.065922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 124], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 124], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.067763"], ["updated_at", "2025-10-17 02:03:34.067763"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 68], ["resource_type", "TestOrder"], ["resource_id", 124], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 68], ["resource_type", "TestOrder"], ["resource_id", 124], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.072767"], ["updated_at", "2025-10-17 02:03:34.072767"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 125], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.074174"], ["updated_at", "2025-10-17 02:03:34.074174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 69], ["resource_type", "TestOrder"], ["resource_id", 125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 69], ["resource_type", "TestOrder"], ["resource_id", 125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 69], ["resource_type", "TestOrder"], ["resource_id", 125], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 69], ["resource_type", "TestOrder"], ["resource_id", 125], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.078281"], ["updated_at", "2025-10-17 02:03:34.078281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 126], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 126], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.079887"], ["updated_at", "2025-10-17 02:03:34.079887"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 70], ["resource_type", "TestOrder"], ["resource_id", 126], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.083175"], ["updated_at", "2025-10-17 02:03:34.083175"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 127], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 127], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.084631"], ["updated_at", "2025-10-17 02:03:34.084631"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 71], ["resource_type", "TestOrder"], ["resource_id", 127], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 71], ["resource_type", "TestOrder"], ["resource_id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.090015"], ["updated_at", "2025-10-17 02:03:34.090015"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 128], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 128], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:03:34.091595"], ["updated_at", "2025-10-17 02:03:34.091595"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.093412"], ["updated_at", "2025-10-17 02:03:34.093412"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 129], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 129], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:03:34.095214"], ["updated_at", "2025-10-17 02:03:34.095214"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.097448"], ["updated_at", "2025-10-17 02:03:34.097448"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 130], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 130], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:03:34.099258"], ["updated_at", "2025-10-17 02:03:34.099258"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "price"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.108026"], ["updated_at", "2025-10-17 02:03:34.108026"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 131], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 131], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.109883"], ["updated_at", "2025-10-17 02:03:34.109883"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.112272"], ["updated_at", "2025-10-17 02:03:34.112272"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 132], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 132], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.114516"], ["updated_at", "2025-10-17 02:03:34.114516"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.126306"], ["updated_at", "2025-10-17 02:03:34.126306"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 133], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 133], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:03:34.128467"], ["updated_at", "2025-10-17 02:03:34.128467"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.131354"], ["updated_at", "2025-10-17 02:03:34.131354"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 134], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 134], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:03:34.133116"], ["updated_at", "2025-10-17 02:03:34.133116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.137174"], ["updated_at", "2025-10-17 02:03:34.137174"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 135], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 135], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:03:34.139189"], ["updated_at", "2025-10-17 02:03:34.139189"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.142359"], ["updated_at", "2025-10-17 02:03:34.142359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 136], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 136], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:03:34.144105"], ["updated_at", "2025-10-17 02:03:34.144105"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.146327"], ["updated_at", "2025-10-17 02:03:34.146327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 137], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 137], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:03:34.148494"], ["updated_at", "2025-10-17 02:03:34.148494"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.151322"], ["updated_at", "2025-10-17 02:03:34.151322"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 138], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 138], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.152953"], ["updated_at", "2025-10-17 02:03:34.152953"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 82], ["resource_type", "TestOrder"], ["resource_id", 138], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.156158"], ["updated_at", "2025-10-17 02:03:34.156158"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 139], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 139], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:03:34.157765"], ["updated_at", "2025-10-17 02:03:34.157765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 83], ["resource_type", "TestOrder"], ["resource_id", 139], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-17 02:03:34.159101"], ["id", 83]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.162210"], ["updated_at", "2025-10-17 02:03:34.162210"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 140], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 140], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-17 02:03:34.164204"], ["updated_at", "2025-10-17 02:03:34.164204"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.166461"], ["updated_at", "2025-10-17 02:03:34.166461"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 141], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 141], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-17 02:03:34.168095"], ["updated_at", "2025-10-17 02:03:34.168095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:03:34.170446"], ["updated_at", "2025-10-17 02:03:34.170446"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 142], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 142], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-17 02:03:34.172216"], ["updated_at", "2025-10-17 02:03:34.172216"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.014574"], ["updated_at", "2025-10-17 02:04:37.014574"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 143], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.058701"], ["updated_at", "2025-10-17 02:04:37.058701"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 144], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 144], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 144], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:04:37.065259"], ["updated_at", "2025-10-17 02:04:37.065259"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.068147"], ["updated_at", "2025-10-17 02:04:37.068147"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 145], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.072001"], ["updated_at", "2025-10-17 02:04:37.072001"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 146], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.075761"], ["updated_at", "2025-10-17 02:04:37.075761"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 147], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.079634"], ["updated_at", "2025-10-17 02:04:37.079634"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 148], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.083731"], ["updated_at", "2025-10-17 02:04:37.083731"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 149], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.088142"], ["updated_at", "2025-10-17 02:04:37.088142"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.091673"], ["updated_at", "2025-10-17 02:04:37.091673"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.094410"], ["updated_at", "2025-10-17 02:04:37.094410"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.096925"], ["updated_at", "2025-10-17 02:04:37.096925"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.100171"], ["updated_at", "2025-10-17 02:04:37.100171"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.103110"], ["updated_at", "2025-10-17 02:04:37.103110"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.107238"], ["updated_at", "2025-10-17 02:04:37.107238"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 156], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 156], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 156], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:04:37.110284"], ["updated_at", "2025-10-17 02:04:37.110284"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.114924"], ["updated_at", "2025-10-17 02:04:37.114924"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 157], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 157], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 157], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-17 02:04:37.117536"], ["updated_at", "2025-10-17 02:04:37.117536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.119914"], ["updated_at", "2025-10-17 02:04:37.119914"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 158], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 158], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 158], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:04:37.124952"], ["updated_at", "2025-10-17 02:04:37.124952"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.127925"], ["updated_at", "2025-10-17 02:04:37.127925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.130193"], ["updated_at", "2025-10-17 02:04:37.130193"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 160], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 160], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 160], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:04:37.132714"], ["updated_at", "2025-10-17 02:04:37.132714"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 91], ["resource_type", "TestOrder"], ["resource_id", 160], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-17 02:04:37.136149"], ["id", 91]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.140655"], ["updated_at", "2025-10-17 02:04:37.140655"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 161], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.144536"], ["updated_at", "2025-10-17 02:04:37.144536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 162], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 162], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 162], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-17 02:04:37.147445"], ["updated_at", "2025-10-17 02:04:37.147445"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.150496"], ["updated_at", "2025-10-17 02:04:37.150496"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 163], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.152992"], ["updated_at", "2025-10-17 02:04:37.152992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 164], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 164], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 164], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:04:37.155508"], ["updated_at", "2025-10-17 02:04:37.155508"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.159329"], ["updated_at", "2025-10-17 02:04:37.159329"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 165], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 165], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 165], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:04:37.161898"], ["updated_at", "2025-10-17 02:04:37.161898"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.162686"], ["updated_at", "2025-10-17 02:04:37.162686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 166], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.165246"], ["updated_at", "2025-10-17 02:04:37.165246"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 167], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 167], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 167], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:04:37.167546"], ["updated_at", "2025-10-17 02:04:37.167546"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.170084"], ["updated_at", "2025-10-17 02:04:37.170084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 168], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 168], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 168], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:04:37.172536"], ["updated_at", "2025-10-17 02:04:37.172536"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.174442"], ["updated_at", "2025-10-17 02:04:37.174442"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 169], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 169], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 169], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-17 02:04:37.176646"], ["updated_at", "2025-10-17 02:04:37.176646"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.178371"], ["updated_at", "2025-10-17 02:04:37.178371"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 170], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 170], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 170], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:04:37.181049"], ["updated_at", "2025-10-17 02:04:37.181049"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 170], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 170], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 170], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:04:37.182844"], ["updated_at", "2025-10-17 02:04:37.182844"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 170], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 170], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 170], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-17 02:04:37.184603"], ["updated_at", "2025-10-17 02:04:37.184603"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 170], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.189401"], ["updated_at", "2025-10-17 02:04:37.189401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 171], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 171], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 171], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:04:37.192945"], ["updated_at", "2025-10-17 02:04:37.192945"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 171], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.2ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 101]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 101]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 171], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 171], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 171]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.215944"], ["updated_at", "2025-10-17 02:04:37.215944"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 172], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 172], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.218763"], ["updated_at", "2025-10-17 02:04:37.218763"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 102], ["resource_type", "TestOrder"], ["resource_id", 172], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 102], ["resource_type", "TestOrder"], ["resource_id", 172], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.229177"], ["updated_at", "2025-10-17 02:04:37.229177"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 173], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 173], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.232083"], ["updated_at", "2025-10-17 02:04:37.232083"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "price"], ["id", 103], ["resource_type", "TestOrder"], ["resource_id", 173], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.237351"], ["updated_at", "2025-10-17 02:04:37.237351"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 174], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 174], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.240325"], ["updated_at", "2025-10-17 02:04:37.240325"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "cost"], ["id", 104], ["resource_type", "TestOrder"], ["resource_id", 174], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.245783"], ["updated_at", "2025-10-17 02:04:37.245783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 175], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 175], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.247672"], ["updated_at", "2025-10-17 02:04:37.247672"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "value"], ["id", 105], ["resource_type", "TestOrder"], ["resource_id", 175], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.251409"], ["updated_at", "2025-10-17 02:04:37.251409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 176], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 176], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.253047"], ["updated_at", "2025-10-17 02:04:37.253047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "money"], ["id", 106], ["resource_type", "TestOrder"], ["resource_id", 176], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.256057"], ["updated_at", "2025-10-17 02:04:37.256057"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 177], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 177], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.259064"], ["updated_at", "2025-10-17 02:04:37.259064"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 107], ["resource_type", "TestOrder"], ["resource_id", 177], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.262074"], ["updated_at", "2025-10-17 02:04:37.262074"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 178], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 178], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.263910"], ["updated_at", "2025-10-17 02:04:37.263910"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "tax"], ["id", 108], ["resource_type", "TestOrder"], ["resource_id", 178], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.266688"], ["updated_at", "2025-10-17 02:04:37.266688"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 179], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 179], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.268375"], ["updated_at", "2025-10-17 02:04:37.268375"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "total"], ["id", 109], ["resource_type", "TestOrder"], ["resource_id", 179], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.271765"], ["updated_at", "2025-10-17 02:04:37.271765"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 180], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 180], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.273425"], ["updated_at", "2025-10-17 02:04:37.273425"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "shipping"], ["id", 110], ["resource_type", "TestOrder"], ["resource_id", 180], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.275874"], ["updated_at", "2025-10-17 02:04:37.275874"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 181], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 181], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.277778"], ["updated_at", "2025-10-17 02:04:37.277778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 181], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 181], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins"[0m
  [1m[36mShoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "Shoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes"], ["resource_id", 181], ["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 182], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.288219"], ["updated_at", "2025-10-17 02:04:37.288219"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 182], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 182], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.289835"], ["updated_at", "2025-10-17 02:04:37.289835"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 112], ["resource_type", "TestOrder"], ["resource_id", 182], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 112], ["resource_type", "TestOrder"], ["resource_id", 182], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.294277"], ["updated_at", "2025-10-17 02:04:37.294277"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 183], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 183], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.296360"], ["updated_at", "2025-10-17 02:04:37.296360"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 113], ["resource_type", "TestOrder"], ["resource_id", 183], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 113], ["resource_type", "TestOrder"], ["resource_id", 183], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 113], ["resource_type", "TestOrder"], ["resource_id", 183], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 113], ["resource_type", "TestOrder"], ["resource_id", 183], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.300851"], ["updated_at", "2025-10-17 02:04:37.300851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 184], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 184], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.302618"], ["updated_at", "2025-10-17 02:04:37.302618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 114], ["resource_type", "TestOrder"], ["resource_id", 184], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.306677"], ["updated_at", "2025-10-17 02:04:37.306677"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 185], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 185], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.308674"], ["updated_at", "2025-10-17 02:04:37.308674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 115], ["resource_type", "TestOrder"], ["resource_id", 185], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 115], ["resource_type", "TestOrder"], ["resource_id", 185], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.315047"], ["updated_at", "2025-10-17 02:04:37.315047"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 186], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 186], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:04:37.316635"], ["updated_at", "2025-10-17 02:04:37.316635"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.318531"], ["updated_at", "2025-10-17 02:04:37.318531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 187], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 187], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:04:37.320124"], ["updated_at", "2025-10-17 02:04:37.320124"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.322350"], ["updated_at", "2025-10-17 02:04:37.322350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 188], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 188], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:04:37.323998"], ["updated_at", "2025-10-17 02:04:37.323998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "price"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.332798"], ["updated_at", "2025-10-17 02:04:37.332798"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 189], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 189], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.334497"], ["updated_at", "2025-10-17 02:04:37.334497"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.336539"], ["updated_at", "2025-10-17 02:04:37.336539"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 190], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 190], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.338479"], ["updated_at", "2025-10-17 02:04:37.338479"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.350497"], ["updated_at", "2025-10-17 02:04:37.350497"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 191], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 191], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:04:37.352757"], ["updated_at", "2025-10-17 02:04:37.352757"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.356068"], ["updated_at", "2025-10-17 02:04:37.356068"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 192], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 192], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:04:37.358778"], ["updated_at", "2025-10-17 02:04:37.358778"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.363532"], ["updated_at", "2025-10-17 02:04:37.363532"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 193], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 193], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:04:37.366066"], ["updated_at", "2025-10-17 02:04:37.366066"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.369114"], ["updated_at", "2025-10-17 02:04:37.369114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 194], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 194], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:04:37.371139"], ["updated_at", "2025-10-17 02:04:37.371139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.373563"], ["updated_at", "2025-10-17 02:04:37.373563"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 195], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 195], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:04:37.375378"], ["updated_at", "2025-10-17 02:04:37.375378"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.378139"], ["updated_at", "2025-10-17 02:04:37.378139"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 196], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 196], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.380364"], ["updated_at", "2025-10-17 02:04:37.380364"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 126], ["resource_type", "TestOrder"], ["resource_id", 196], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.383293"], ["updated_at", "2025-10-17 02:04:37.383293"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 197], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 197], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:04:37.384933"], ["updated_at", "2025-10-17 02:04:37.384933"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 127], ["resource_type", "TestOrder"], ["resource_id", 197], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-17 02:04:37.386216"], ["id", 127]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.389265"], ["updated_at", "2025-10-17 02:04:37.389265"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 198], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 198], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-17 02:04:37.390792"], ["updated_at", "2025-10-17 02:04:37.390792"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.392856"], ["updated_at", "2025-10-17 02:04:37.392856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 199], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 199], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-17 02:04:37.394555"], ["updated_at", "2025-10-17 02:04:37.394555"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.396813"], ["updated_at", "2025-10-17 02:04:37.396813"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 200], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 200], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-17 02:04:37.398390"], ["updated_at", "2025-10-17 02:04:37.398390"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.400326"], ["updated_at", "2025-10-17 02:04:37.400326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 201], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 201], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-10-17 02:04:37.401825"], ["updated_at", "2025-10-17 02:04:37.401825"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.404045"], ["updated_at", "2025-10-17 02:04:37.404045"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 202], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 202], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-10-17 02:04:37.405961"], ["updated_at", "2025-10-17 02:04:37.405961"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:04:37.407762"], ["updated_at", "2025-10-17 02:04:37.407762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 203], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 203], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-10-17 02:04:37.409359"], ["updated_at", "2025-10-17 02:04:37.409359"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.733748"], ["updated_at", "2025-10-17 02:14:36.733748"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.6ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 204], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.778305"], ["updated_at", "2025-10-17 02:14:36.778305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 205], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 205], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 205], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:14:36.784223"], ["updated_at", "2025-10-17 02:14:36.784223"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.786786"], ["updated_at", "2025-10-17 02:14:36.786786"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 206], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.789485"], ["updated_at", "2025-10-17 02:14:36.789485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 207], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.792098"], ["updated_at", "2025-10-17 02:14:36.792098"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 208], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.794714"], ["updated_at", "2025-10-17 02:14:36.794714"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 209], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.797247"], ["updated_at", "2025-10-17 02:14:36.797247"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 210], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.800167"], ["updated_at", "2025-10-17 02:14:36.800167"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.802663"], ["updated_at", "2025-10-17 02:14:36.802663"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.805325"], ["updated_at", "2025-10-17 02:14:36.805325"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.808208"], ["updated_at", "2025-10-17 02:14:36.808208"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.811337"], ["updated_at", "2025-10-17 02:14:36.811337"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.814632"], ["updated_at", "2025-10-17 02:14:36.814632"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.818117"], ["updated_at", "2025-10-17 02:14:36.818117"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 217], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 217], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 217], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:14:36.821111"], ["updated_at", "2025-10-17 02:14:36.821111"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.824693"], ["updated_at", "2025-10-17 02:14:36.824693"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 218], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 218], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 218], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-10-17 02:14:36.827016"], ["updated_at", "2025-10-17 02:14:36.827016"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.829350"], ["updated_at", "2025-10-17 02:14:36.829350"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 219], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 219], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.4ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 219], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:14:36.835712"], ["updated_at", "2025-10-17 02:14:36.835712"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.839466"], ["updated_at", "2025-10-17 02:14:36.839466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.842998"], ["updated_at", "2025-10-17 02:14:36.842998"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 221], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 221], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 221], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:14:36.846023"], ["updated_at", "2025-10-17 02:14:36.846023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 138], ["resource_type", "TestOrder"], ["resource_id", 221], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.2ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = $1, "updated_at" = $2 WHERE "wt_midas_coins"."id" = $3[0m  [["currency_minor", 2000], ["updated_at", "2025-10-17 02:14:36.849076"], ["id", 138]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.851769"], ["updated_at", "2025-10-17 02:14:36.851769"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 222], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.854872"], ["updated_at", "2025-10-17 02:14:36.854872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 223], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 223], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 223], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-10-17 02:14:36.857753"], ["updated_at", "2025-10-17 02:14:36.857753"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.861266"], ["updated_at", "2025-10-17 02:14:36.861266"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 224], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.863797"], ["updated_at", "2025-10-17 02:14:36.863797"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 225], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 225], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 225], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-10-17 02:14:36.866340"], ["updated_at", "2025-10-17 02:14:36.866340"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.870722"], ["updated_at", "2025-10-17 02:14:36.870722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 226], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 226], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 226], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:14:36.873334"], ["updated_at", "2025-10-17 02:14:36.873334"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.874115"], ["updated_at", "2025-10-17 02:14:36.874115"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 227], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.876697"], ["updated_at", "2025-10-17 02:14:36.876697"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 228], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 228], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 228], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:14:36.878968"], ["updated_at", "2025-10-17 02:14:36.878968"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.881644"], ["updated_at", "2025-10-17 02:14:36.881644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 229], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 229], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 229], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:14:36.884391"], ["updated_at", "2025-10-17 02:14:36.884391"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.886263"], ["updated_at", "2025-10-17 02:14:36.886263"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 230], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 230], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 230], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-10-17 02:14:36.888332"], ["updated_at", "2025-10-17 02:14:36.888332"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.889812"], ["updated_at", "2025-10-17 02:14:36.889812"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 231], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 231], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 231], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:14:36.892168"], ["updated_at", "2025-10-17 02:14:36.892168"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 231], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 231], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 231], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:14:36.893829"], ["updated_at", "2025-10-17 02:14:36.893829"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 231], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 231], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 231], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-10-17 02:14:36.895641"], ["updated_at", "2025-10-17 02:14:36.895641"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.2ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 231], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.900299"], ["updated_at", "2025-10-17 02:14:36.900299"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 232], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 232], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 232], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-10-17 02:14:36.903650"], ["updated_at", "2025-10-17 02:14:36.903650"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.4ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2[0m  [["resource_id", 232], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 148]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.1ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1[0m  [["id", 148]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 232], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_label" = $3 LIMIT $4[0m  [["resource_id", 232], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.1ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = $1[0m  [["id", 232]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.926178"], ["updated_at", "2025-10-17 02:14:36.926178"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 233], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 233], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.929913"], ["updated_at", "2025-10-17 02:14:36.929913"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 149], ["resource_type", "TestOrder"], ["resource_id", 233], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != $1 AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["id", 149], ["resource_type", "TestOrder"], ["resource_id", 233], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.940070"], ["updated_at", "2025-10-17 02:14:36.940070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 234], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 234], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.943041"], ["updated_at", "2025-10-17 02:14:36.943041"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "price"], ["id", 150], ["resource_type", "TestOrder"], ["resource_id", 234], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.948428"], ["updated_at", "2025-10-17 02:14:36.948428"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 235], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 235], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.951528"], ["updated_at", "2025-10-17 02:14:36.951528"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "cost"], ["id", 151], ["resource_type", "TestOrder"], ["resource_id", 235], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.956795"], ["updated_at", "2025-10-17 02:14:36.956795"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 236], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 236], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.958703"], ["updated_at", "2025-10-17 02:14:36.958703"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "value"], ["id", 152], ["resource_type", "TestOrder"], ["resource_id", 236], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.961848"], ["updated_at", "2025-10-17 02:14:36.961848"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 237], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 237], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.964042"], ["updated_at", "2025-10-17 02:14:36.964042"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "money"], ["id", 153], ["resource_type", "TestOrder"], ["resource_id", 237], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.967198"], ["updated_at", "2025-10-17 02:14:36.967198"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 238], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 238], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.970579"], ["updated_at", "2025-10-17 02:14:36.970579"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 154], ["resource_type", "TestOrder"], ["resource_id", 238], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.974055"], ["updated_at", "2025-10-17 02:14:36.974055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 239], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 239], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.976159"], ["updated_at", "2025-10-17 02:14:36.976159"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "tax"], ["id", 155], ["resource_type", "TestOrder"], ["resource_id", 239], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.979249"], ["updated_at", "2025-10-17 02:14:36.979249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 240], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 240], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.980964"], ["updated_at", "2025-10-17 02:14:36.980964"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "total"], ["id", 156], ["resource_type", "TestOrder"], ["resource_id", 240], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.983968"], ["updated_at", "2025-10-17 02:14:36.983968"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 241], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 241], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.986118"], ["updated_at", "2025-10-17 02:14:36.986118"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "shipping"], ["id", 157], ["resource_type", "TestOrder"], ["resource_id", 241], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:36.988912"], ["updated_at", "2025-10-17 02:14:36.988912"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 242], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 242], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:36.990492"], ["updated_at", "2025-10-17 02:14:36.990492"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.3ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 242], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 242], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.2ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins"[0m
  [1m[36mShoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "Shoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes"], ["resource_id", 242], ["LIMIT", 1]]
  [1m[36mTestOrder Load (0.1ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = $1 LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 243], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.000606"], ["updated_at", "2025-10-17 02:14:37.000606"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 243], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 243], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.002293"], ["updated_at", "2025-10-17 02:14:37.002293"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 159], ["resource_type", "TestOrder"], ["resource_id", 243], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 159], ["resource_type", "TestOrder"], ["resource_id", 243], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.006666"], ["updated_at", "2025-10-17 02:14:37.006666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 244], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 244], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.008176"], ["updated_at", "2025-10-17 02:14:37.008176"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 160], ["resource_type", "TestOrder"], ["resource_id", 244], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 160], ["resource_type", "TestOrder"], ["resource_id", 244], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 160], ["resource_type", "TestOrder"], ["resource_id", 244], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 160], ["resource_type", "TestOrder"], ["resource_id", 244], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.012279"], ["updated_at", "2025-10-17 02:14:37.012279"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 245], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 245], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.013800"], ["updated_at", "2025-10-17 02:14:37.013800"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 161], ["resource_type", "TestOrder"], ["resource_id", 245], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.017451"], ["updated_at", "2025-10-17 02:14:37.017451"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 246], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 246], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.018922"], ["updated_at", "2025-10-17 02:14:37.018922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 162], ["resource_type", "TestOrder"], ["resource_id", 246], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 162], ["resource_type", "TestOrder"], ["resource_id", 246], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.023882"], ["updated_at", "2025-10-17 02:14:37.023882"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 247], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 247], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:14:37.025426"], ["updated_at", "2025-10-17 02:14:37.025426"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.027156"], ["updated_at", "2025-10-17 02:14:37.027156"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 248], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 248], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:14:37.028519"], ["updated_at", "2025-10-17 02:14:37.028519"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.030215"], ["updated_at", "2025-10-17 02:14:37.030215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 249], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 249], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:14:37.031618"], ["updated_at", "2025-10-17 02:14:37.031618"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "price"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" IS NULL LIMIT $3[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.039547"], ["updated_at", "2025-10-17 02:14:37.039547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 250], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 250], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.041094"], ["updated_at", "2025-10-17 02:14:37.041094"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.042851"], ["updated_at", "2025-10-17 02:14:37.042851"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 251], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 251], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.044374"], ["updated_at", "2025-10-17 02:14:37.044374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.056742"], ["updated_at", "2025-10-17 02:14:37.056742"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 252], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 252], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:14:37.059303"], ["updated_at", "2025-10-17 02:14:37.059303"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.061974"], ["updated_at", "2025-10-17 02:14:37.061974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 253], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 253], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-10-17 02:14:37.063845"], ["updated_at", "2025-10-17 02:14:37.063845"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.068028"], ["updated_at", "2025-10-17 02:14:37.068028"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 254], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.2ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 254], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:14:37.070437"], ["updated_at", "2025-10-17 02:14:37.070437"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.073394"], ["updated_at", "2025-10-17 02:14:37.073394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 255], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 255], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:14:37.075992"], ["updated_at", "2025-10-17 02:14:37.075992"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.079171"], ["updated_at", "2025-10-17 02:14:37.079171"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 256], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 256], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-10-17 02:14:37.081816"], ["updated_at", "2025-10-17 02:14:37.081816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.085054"], ["updated_at", "2025-10-17 02:14:37.085054"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 257], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 257], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.086806"], ["updated_at", "2025-10-17 02:14:37.086806"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 173], ["resource_type", "TestOrder"], ["resource_id", 257], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.089644"], ["updated_at", "2025-10-17 02:14:37.089644"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 258], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 258], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-10-17 02:14:37.091662"], ["updated_at", "2025-10-17 02:14:37.091662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."id" != $2 AND "wt_midas_coins"."resource_type" = $3 AND "wt_midas_coins"."resource_id" = $4 LIMIT $5[0m  [["resource_label", "subtotal"], ["id", 174], ["resource_type", "TestOrder"], ["resource_id", 258], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.1ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = $1, "currency_minor" = $2, "updated_at" = $3 WHERE "wt_midas_coins"."id" = $4[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-10-17 02:14:37.093045"], ["id", 174]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.1ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.095904"], ["updated_at", "2025-10-17 02:14:37.095904"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 259], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 259], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-10-17 02:14:37.097608"], ["updated_at", "2025-10-17 02:14:37.097608"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.099891"], ["updated_at", "2025-10-17 02:14:37.099891"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 260], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 260], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-10-17 02:14:37.101737"], ["updated_at", "2025-10-17 02:14:37.101737"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.103805"], ["updated_at", "2025-10-17 02:14:37.103805"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 261], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 261], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-10-17 02:14:37.105315"], ["updated_at", "2025-10-17 02:14:37.105315"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.107423"], ["updated_at", "2025-10-17 02:14:37.107423"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 262], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 262], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-10-17 02:14:37.109229"], ["updated_at", "2025-10-17 02:14:37.109229"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.111033"], ["updated_at", "2025-10-17 02:14:37.111033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 263], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 263], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-10-17 02:14:37.112746"], ["updated_at", "2025-10-17 02:14:37.112746"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2025-10-17 02:14:37.114662"], ["updated_at", "2025-10-17 02:14:37.114662"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER($1) AND "wt_midas_coins"."resource_type" = $2 AND "wt_midas_coins"."resource_id" = $3 LIMIT $4[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 264], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.1ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 264], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-10-17 02:14:37.116485"], ["updated_at", "2025-10-17 02:14:37.116485"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:26:48.439005', '2025-12-01 19:26:48.439005') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '004c309d61b8bba4cbea128734397de82d612f73', '2025-12-01 19:26:48.439274', '2025-12-01 19:26:48.439274') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:27:06.492225', '2025-12-01 19:27:06.492225') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:27:06.492489', '2025-12-01 19:27:06.492489') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:27:07.013958', '2025-12-01 19:27:07.013958') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:27:07.014217', '2025-12-01 19:27:07.014217') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:27:07.524465', '2025-12-01 19:27:07.524466') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:27:07.524709', '2025-12-01 19:27:07.524709') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:28:22.451463', '2025-12-01 19:28:22.451463') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:28:22.451728', '2025-12-01 19:28:22.451729') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:29:11.953733', '2025-12-01 19:29:11.953734') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:29:11.953993', '2025-12-01 19:29:11.953994') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:29:12.465658', '2025-12-01 19:29:12.465659') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:29:12.465908', '2025-12-01 19:29:12.465909') RETURNING "key"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:29:12.979724', '2025-12-01 19:29:12.979725') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:29:12.979965', '2025-12-01 19:29:12.979966') RETURNING "key"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "test_orders"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "test_orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "wt_midas_coins"[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "wt_midas_coins" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_type" varchar NOT NULL, "resource_id" bigint NOT NULL, "resource_label" varchar NOT NULL, "currency_code" varchar(3) NOT NULL, "currency_minor" bigint NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource_and_label" ON "wt_midas_coins" ("resource_id", "resource_type", "resource_label")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_wt_midas_coins_on_resource" ON "wt_midas_coins" ("resource_type", "resource_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20251015173602)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2025-12-01 19:57:48.103253', '2025-12-01 19:57:48.103253') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '5b525a3e8a790e1798f268d0f2e2ce2e1abf93e6', '2025-12-01 19:57:48.103552', '2025-12-01 19:57:48.103552') RETURNING "key"[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.861214"], ["updated_at", "2025-12-01 19:57:55.861214"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.903666"], ["updated_at", "2025-12-01 19:57:55.903666"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-12-01 19:57:55.906623"], ["updated_at", "2025-12-01 19:57:55.906623"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.907464"], ["updated_at", "2025-12-01 19:57:55.907464"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.908342"], ["updated_at", "2025-12-01 19:57:55.908342"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.909230"], ["updated_at", "2025-12-01 19:57:55.909230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.910028"], ["updated_at", "2025-12-01 19:57:55.910028"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.910952"], ["updated_at", "2025-12-01 19:57:55.910952"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.911693"], ["updated_at", "2025-12-01 19:57:55.911693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.912727"], ["updated_at", "2025-12-01 19:57:55.912727"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.913143"], ["updated_at", "2025-12-01 19:57:55.913143"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.913533"], ["updated_at", "2025-12-01 19:57:55.913533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.913943"], ["updated_at", "2025-12-01 19:57:55.913943"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.914366"], ["updated_at", "2025-12-01 19:57:55.914366"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.915019"], ["updated_at", "2025-12-01 19:57:55.915019"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-12-01 19:57:55.915956"], ["updated_at", "2025-12-01 19:57:55.915956"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.917207"], ["updated_at", "2025-12-01 19:57:55.917207"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "EUR"], ["currency_minor", 2500], ["created_at", "2025-12-01 19:57:55.917891"], ["updated_at", "2025-12-01 19:57:55.917891"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.918324"], ["updated_at", "2025-12-01 19:57:55.918324"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-12-01 19:57:55.930110"], ["updated_at", "2025-12-01 19:57:55.930110"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.931718"], ["updated_at", "2025-12-01 19:57:55.931718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.932188"], ["updated_at", "2025-12-01 19:57:55.932188"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-12-01 19:57:55.932822"], ["updated_at", "2025-12-01 19:57:55.932822"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.0ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_minor" = ?, "updated_at" = ? WHERE "wt_midas_coins"."id" = ?[0m  [["currency_minor", 2000], ["updated_at", "2025-12-01 19:57:55.934684"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.935259"], ["updated_at", "2025-12-01 19:57:55.935259"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.935870"], ["updated_at", "2025-12-01 19:57:55.935870"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1500], ["created_at", "2025-12-01 19:57:55.937090"], ["updated_at", "2025-12-01 19:57:55.937090"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.937895"], ["updated_at", "2025-12-01 19:57:55.937895"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.938495"], ["updated_at", "2025-12-01 19:57:55.938495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1999], ["created_at", "2025-12-01 19:57:55.939160"], ["updated_at", "2025-12-01 19:57:55.939160"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.940967"], ["updated_at", "2025-12-01 19:57:55.940967"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-12-01 19:57:55.941574"], ["updated_at", "2025-12-01 19:57:55.941574"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.941785"], ["updated_at", "2025-12-01 19:57:55.941785"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 2], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.942501"], ["updated_at", "2025-12-01 19:57:55.942501"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-12-01 19:57:55.943117"], ["updated_at", "2025-12-01 19:57:55.943117"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.943588"], ["updated_at", "2025-12-01 19:57:55.943588"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-12-01 19:57:55.944186"], ["updated_at", "2025-12-01 19:57:55.944186"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.944715"], ["updated_at", "2025-12-01 19:57:55.944715"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 200], ["created_at", "2025-12-01 19:57:55.945338"], ["updated_at", "2025-12-01 19:57:55.945338"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.945729"], ["updated_at", "2025-12-01 19:57:55.945729"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-12-01 19:57:55.946341"], ["updated_at", "2025-12-01 19:57:55.946341"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "tax"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "tax"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-12-01 19:57:55.947116"], ["updated_at", "2025-12-01 19:57:55.947116"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "total"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "total"], ["currency_code", "USD"], ["currency_minor", 1100], ["created_at", "2025-12-01 19:57:55.947681"], ["updated_at", "2025-12-01 19:57:55.947681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTestOrder Load (0.0ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.950327"], ["updated_at", "2025-12-01 19:57:55.950327"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "subtotal"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 100], ["created_at", "2025-12-01 19:57:55.951159"], ["updated_at", "2025-12-01 19:57:55.951159"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.0ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = ?[0m  [["id", 1]]
  [1m[36mWhittakerTech::Midas::Coin Destroy (0.0ms)[0m  [1m[31mDELETE FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = ?[0m  [["id", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "tax"], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_id" = ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_label" = ? LIMIT ?[0m  [["resource_id", 1], ["resource_type", "TestOrder"], ["resource_label", "total"], ["LIMIT", 1]]
  [1m[36mTestOrder Destroy (0.0ms)[0m  [1m[31mDELETE FROM "test_orders" WHERE "test_orders"."id" = ?[0m  [["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "wt_midas_coins"[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."resource_type" IS NULL AND "wt_midas_coins"."resource_id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.954139"], ["updated_at", "2025-12-01 19:57:55.954139"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.954572"], ["updated_at", "2025-12-01 19:57:55.954572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE "wt_midas_coins"."resource_label" IS NULL AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.956154"], ["updated_at", "2025-12-01 19:57:55.956154"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.956568"], ["updated_at", "2025-12-01 19:57:55.956568"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "price"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.957256"], ["updated_at", "2025-12-01 19:57:55.957256"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.957681"], ["updated_at", "2025-12-01 19:57:55.957681"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "cost"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.958281"], ["updated_at", "2025-12-01 19:57:55.958281"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.958838"], ["updated_at", "2025-12-01 19:57:55.958838"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "value"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.959472"], ["updated_at", "2025-12-01 19:57:55.959472"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.959931"], ["updated_at", "2025-12-01 19:57:55.959931"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "money"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.960536"], ["updated_at", "2025-12-01 19:57:55.960536"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.960992"], ["updated_at", "2025-12-01 19:57:55.960992"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.962087"], ["updated_at", "2025-12-01 19:57:55.962087"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.962763"], ["updated_at", "2025-12-01 19:57:55.962763"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "tax"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.964020"], ["updated_at", "2025-12-01 19:57:55.964020"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.964698"], ["updated_at", "2025-12-01 19:57:55.964698"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "total"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.965720"], ["updated_at", "2025-12-01 19:57:55.965720"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.3ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.966358"], ["updated_at", "2025-12-01 19:57:55.966358"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "shipping"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.968145"], ["updated_at", "2025-12-01 19:57:55.968145"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.968746"], ["updated_at", "2025-12-01 19:57:55.968746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" ORDER BY "wt_midas_coins"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTestOrder Load (0.0ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins"[0m
  [1m[36mShoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes Load (0.0ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "Shoulda::Matchers::ActiveRecord::Uniqueness::TestModels::TestOrdes"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTestOrder Load (0.0ms)[0m  [1m[34mSELECT "test_orders".* FROM "test_orders" WHERE "test_orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 2], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.976106"], ["updated_at", "2025-12-01 19:57:55.976106"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.977266"], ["updated_at", "2025-12-01 19:57:55.977266"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.981861"], ["updated_at", "2025-12-01 19:57:55.981861"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.983476"], ["updated_at", "2025-12-01 19:57:55.983476"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.987252"], ["updated_at", "2025-12-01 19:57:55.987252"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.987829"], ["updated_at", "2025-12-01 19:57:55.987829"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.989419"], ["updated_at", "2025-12-01 19:57:55.989419"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.989896"], ["updated_at", "2025-12-01 19:57:55.989896"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.991424"], ["updated_at", "2025-12-01 19:57:55.991424"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-12-01 19:57:55.991797"], ["updated_at", "2025-12-01 19:57:55.991797"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.992224"], ["updated_at", "2025-12-01 19:57:55.992224"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-12-01 19:57:55.992765"], ["updated_at", "2025-12-01 19:57:55.992765"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.993217"], ["updated_at", "2025-12-01 19:57:55.993217"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-12-01 19:57:55.993581"], ["updated_at", "2025-12-01 19:57:55.993581"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" IS NULL LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" IS NULL LIMIT ?[0m  [["resource_label", "price"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" IS NULL LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.995286"], ["updated_at", "2025-12-01 19:57:55.995286"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.995742"], ["updated_at", "2025-12-01 19:57:55.995742"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.996146"], ["updated_at", "2025-12-01 19:57:55.996146"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:55.996515"], ["updated_at", "2025-12-01 19:57:55.996515"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.998535"], ["updated_at", "2025-12-01 19:57:55.998535"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-12-01 19:57:55.999006"], ["updated_at", "2025-12-01 19:57:55.999006"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:55.999485"], ["updated_at", "2025-12-01 19:57:55.999485"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1000], ["created_at", "2025-12-01 19:57:55.999855"], ["updated_at", "2025-12-01 19:57:55.999855"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.000600"], ["updated_at", "2025-12-01 19:57:56.000600"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-12-01 19:57:56.000972"], ["updated_at", "2025-12-01 19:57:56.000972"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.001457"], ["updated_at", "2025-12-01 19:57:56.001457"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-12-01 19:57:56.001815"], ["updated_at", "2025-12-01 19:57:56.001815"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.002355"], ["updated_at", "2025-12-01 19:57:56.002355"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1299], ["created_at", "2025-12-01 19:57:56.002725"], ["updated_at", "2025-12-01 19:57:56.002725"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.003321"], ["updated_at", "2025-12-01 19:57:56.003321"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:56.003693"], ["updated_at", "2025-12-01 19:57:56.003693"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.004564"], ["updated_at", "2025-12-01 19:57:56.004564"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1295], ["created_at", "2025-12-01 19:57:56.005185"], ["updated_at", "2025-12-01 19:57:56.005185"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."id" != ? AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["id", 1], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Update (0.0ms)[0m  [1m[33mUPDATE "wt_midas_coins" SET "currency_code" = ?, "currency_minor" = ?, "updated_at" = ? WHERE "wt_midas_coins"."id" = ?[0m  [["currency_code", "GBP"], ["currency_minor", 5000], ["updated_at", "2025-12-01 19:57:56.005619"], ["id", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Load (0.0ms)[0m  [1m[34mSELECT "wt_midas_coins".* FROM "wt_midas_coins" WHERE "wt_midas_coins"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.1ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.006349"], ["updated_at", "2025-12-01 19:57:56.006349"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 0], ["created_at", "2025-12-01 19:57:56.006804"], ["updated_at", "2025-12-01 19:57:56.006804"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.007332"], ["updated_at", "2025-12-01 19:57:56.007332"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", -500], ["created_at", "2025-12-01 19:57:56.007786"], ["updated_at", "2025-12-01 19:57:56.007786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.008246"], ["updated_at", "2025-12-01 19:57:56.008246"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 999999999], ["created_at", "2025-12-01 19:57:56.008635"], ["updated_at", "2025-12-01 19:57:56.008635"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.009105"], ["updated_at", "2025-12-01 19:57:56.009105"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-12-01 19:57:56.009476"], ["updated_at", "2025-12-01 19:57:56.009476"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.009984"], ["updated_at", "2025-12-01 19:57:56.009984"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-12-01 19:57:56.010355"], ["updated_at", "2025-12-01 19:57:56.010355"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mBEGIN deferred TRANSACTION[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTestOrder Create (0.0ms)[0m  [1m[32mINSERT INTO "test_orders" ("created_at", "updated_at") VALUES (?, ?) RETURNING "id"[0m  [["created_at", "2025-12-01 19:57:56.010771"], ["updated_at", "2025-12-01 19:57:56.010771"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWhittakerTech::Midas::Coin Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "wt_midas_coins" WHERE LOWER("wt_midas_coins"."resource_label") = LOWER(?) AND "wt_midas_coins"."resource_type" = ? AND "wt_midas_coins"."resource_id" = ? LIMIT ?[0m  [["resource_label", "subtotal"], ["resource_type", "TestOrder"], ["resource_id", 1], ["LIMIT", 1]]
  [1m[36mWhittakerTech::Midas::Coin Create (0.0ms)[0m  [1m[32mINSERT INTO "wt_midas_coins" ("resource_type", "resource_id", "resource_label", "currency_code", "currency_minor", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?) RETURNING "id"[0m  [["resource_type", "TestOrder"], ["resource_id", 1], ["resource_label", "subtotal"], ["currency_code", "USD"], ["currency_minor", 1234], ["created_at", "2025-12-01 19:57:56.011138"], ["updated_at", "2025-12-01 19:57:56.011138"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION[0m
